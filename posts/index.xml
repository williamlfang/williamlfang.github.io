<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
  <channel>
    <title>所有文章 - William</title>
    <link>https://williamlfang.github.io/posts/</link>
    <description>所有文章 | William</description>
    <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Sat, 29 Mar 2025 15:08:37 &#43;0800</lastBuildDate><atom:link href="https://williamlfang.github.io/posts/" rel="self" type="application/rss+xml" /><item>
  <title>Linux 内存调优的两个重要参数</title>
  <link>https://williamlfang.github.io/2025-03-29-linux-%E5%86%85%E5%AD%98%E8%B0%83%E4%BC%98%E7%9A%84%E4%B8%A4%E4%B8%AA%E9%87%8D%E8%A6%81%E5%8F%82%E6%95%B0/</link>
  <pubDate>Sat, 29 Mar 2025 15:08:37 &#43;0800</pubDate>
  <author>william</author>
  <guid>https://williamlfang.github.io/2025-03-29-linux-%E5%86%85%E5%AD%98%E8%B0%83%E4%BC%98%E7%9A%84%E4%B8%A4%E4%B8%AA%E9%87%8D%E8%A6%81%E5%8F%82%E6%95%B0/</guid>
  <description><![CDATA[<p>今天在看这篇介绍 <strong>Linux 性能调优</strong> 的博客(<a href="https://linuxblog.io/linux-performance-almost-always-add-swap-space/"target="_blank" rel="external nofollow noopener noreferrer">Linux Performance: Almost Always Add Swap Space<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a>)，其中涉及到如何调整内核内存的调整机制。主要的参数有</p>
<ul>
<li><i class="fa-regular fa-square fa-fw" aria-hidden="true"></i> <code>swappiness</code>: This control is used to define how aggressively the kernel will swap memory pages. Higher values will increase aggressiveness; lower values decrease the amount of swap. (default = 60, recommended values between 1 and 60) Remove your swap for 0 value, but it is usually not recommended in most cases.</li>
<li><i class="fa-regular fa-square fa-fw" aria-hidden="true"></i> <code>vfs_cache_pressure</code>: Controls the kernel’s tendency to reclaim the memory, which is used for caching of directory and inode objects. (default = 100, recommend value 50 to 200)</li>
</ul>]]></description>
</item>
<item>
  <title>kitty 终端模拟器</title>
  <link>https://williamlfang.github.io/2025-03-15-kitty-%E7%BB%88%E7%AB%AF%E6%A8%A1%E6%8B%9F%E5%99%A8/</link>
  <pubDate>Sat, 15 Mar 2025 23:04:20 &#43;0800</pubDate>
  <author>william</author>
  <guid>https://williamlfang.github.io/2025-03-15-kitty-%E7%BB%88%E7%AB%AF%E6%A8%A1%E6%8B%9F%E5%99%A8/</guid>
  <description><![CDATA[安装 1 2 3 4 5 6 ## magick-cli sudo apt-get install imagemagick sudo apt-get install luajit sudo apt-get install luarocks luarocks install magick tmux.conf 1 2 3 4 5 ##----------------------------------------------------------------------------- ## HACK: for kitty set -gq allow-passthrough on set -g visual-activity off ##-----------------------------------------------------------------------------]]></description>
</item>
<item>
  <title>nvim dap 映射 r 快捷键</title>
  <link>https://williamlfang.github.io/2025-02-22-nvim-dap-%E6%98%A0%E5%B0%84-r-%E5%BF%AB%E6%8D%B7%E9%94%AE/</link>
  <pubDate>Sat, 22 Feb 2025 20:39:59 &#43;0800</pubDate>
  <author>william</author>
  <guid>https://williamlfang.github.io/2025-02-22-nvim-dap-%E6%98%A0%E5%B0%84-r-%E5%BF%AB%E6%8D%B7%E9%94%AE/</guid>
  <description><![CDATA[<div class="featured-image"><img loading="eager" src="https://williamlfang.github.io/2025-02-22-nvim-dap-%E6%98%A0%E5%B0%84-r-%E5%BF%AB%E6%8D%B7%E9%94%AE/nvim-dap-repl.png" alt="nvim dap 映射 r 快捷键" title="nvim dap 映射 r 快捷键" referrerpolicy="no-referrer"/></div><p>最近在研究如何使用 <code>nvim-dap</code> 进行 <code>debugging</code>。在 <code>gdb</code>，我们可以很方便的使用单个按键就可以触发一些行为，如</p>
<ul>
<li><i class="fa-regular fa-check-square fa-fw" aria-hidden="true"></i> <code>r</code>: <code>run</code></li>
<li><i class="fa-regular fa-check-square fa-fw" aria-hidden="true"></i> <code>c</code>: <code>continue</code></li>
<li><i class="fa-regular fa-check-square fa-fw" aria-hidden="true"></i> <code>s</code>: <code>step-in</code></li>
</ul>
<p>那么，我的想法也是在 <code>nvim-dap</code> 实现这样快捷键 <code>r</code> 来模拟 <code>run</code> 的行为。现在的问题是：由于在 <code>normal mode</code>，单个按键 <code>r</code> 代表 <code>replace one character</code>。</p>
<p>因此，我们需要在 <code>nvim</code> 的 <code>buffers</code> 去识别是否启动了 <code>nvim-dap</code></p>
<ul>
<li><i class="fa-regular fa-check-square fa-fw" aria-hidden="true"></i> 如果存在 <code>dap-repl</code>，则映射 <code>r</code>；</li>
<li><i class="fa-regular fa-check-square fa-fw" aria-hidden="true"></i> 如果找不到，则回退到 <code>replace</code> 的功能。</li>
</ul>]]></description>
</item>
<item>
  <title>update GLIBC_2.28</title>
  <link>https://williamlfang.github.io/2025-02-22-update-glibc_2.28/</link>
  <pubDate>Sat, 22 Feb 2025 15:53:13 &#43;0800</pubDate>
  <author>william</author>
  <guid>https://williamlfang.github.io/2025-02-22-update-glibc_2.28/</guid>
  <description><![CDATA[]]></description>
</item>
<item>
  <title>在 c 代码文件插入 shell 命令</title>
  <link>https://williamlfang.github.io/2025-02-22-%E5%9C%A8-c-%E4%BB%A3%E7%A0%81%E6%96%87%E4%BB%B6%E6%8F%92%E5%85%A5-shell-%E5%91%BD%E4%BB%A4/</link>
  <pubDate>Sat, 22 Feb 2025 12:49:59 &#43;0800</pubDate>
  <author>william</author>
  <guid>https://williamlfang.github.io/2025-02-22-%E5%9C%A8-c-%E4%BB%A3%E7%A0%81%E6%96%87%E4%BB%B6%E6%8F%92%E5%85%A5-shell-%E5%91%BD%E4%BB%A4/</guid>
  <description><![CDATA[<p>今天看到一个帖子：<a href="https://www.reddit.com/r/C_Programming/comments/1iuvu0f/just_realized_you_can_put_shell_script_inside_c/"target="_blank" rel="external nofollow noopener noreferrer">Just realized you can put shell script inside c source files<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a>，想到以前有个朋友也是这么使用 <code>c</code>，觉得挺神奇的。</p>
<p>这个是在 <code>c</code> 源代码文件，使用 <code>macro</code> 宏定义一组 <code>shell</code> 命令，然后再退出 <code>shell</code>，这样就不会在继续执行真正的 <code>c</code> 代码了。这样做的好处是可以使用一个命令 <code>sh main.c</code> 即可快速运行可执行文件，对于一些简单部署的任务比较方便。</p>
<div class="highlight" id="id-1"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#if 0</span><span class="c">
</span></span></span><span class="line"><span class="cl"><span class="c">cc -o /tmp/app main.c
</span></span></span><span class="line"><span class="cl"><span class="c">/tmp/app
</span></span></span><span class="line"><span class="cl"><span class="c">exit # required, otherwise sh will try to interpret the C code below
</span></span></span><span class="line"><span class="cl"><span class="c"></span><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;quick script</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight" id="id-2"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sh main.c
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">quick script</span></span></code></pre></td></tr></table>
</div>
</div>]]></description>
</item>
<item>
  <title>tmux: error while loading shared libraries: libevent_core 2.1.so.6</title>
  <link>https://williamlfang.github.io/2025-02-20-tmux--error-while-loading-shared-libraries--libevent_core-2.1.so.6/</link>
  <pubDate>Thu, 20 Feb 2025 18:19:39 &#43;0800</pubDate>
  <author>william</author>
  <guid>https://williamlfang.github.io/2025-02-20-tmux--error-while-loading-shared-libraries--libevent_core-2.1.so.6/</guid>
  <description><![CDATA[<p><code>tmux</code> 报错</p>
<div class="highlight" id="id-1"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tmux: error <span class="k">while</span> loading shared libraries: libevent_core-2.1.so.7</span></span></code></pre></td></tr></table>
</div>
</div><p>使用 <code>ldd</code> 查看是可以找到动态库</p>
<div class="highlight" id="id-2"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ldd ~/local/bin/tmux
</span></span><span class="line"><span class="cl">        linux-vdso.so.1 <span class="o">(</span>0x00007ffe043f8000<span class="o">)</span>
</span></span><span class="line"><span class="cl">        libutil.so.1 <span class="o">=</span>&gt; /lib64/libutil.so.1 <span class="o">(</span>0x00007fa85ce0c000<span class="o">)</span>
</span></span><span class="line"><span class="cl">        libtinfo.so.5 <span class="o">=</span>&gt; /lib64/libtinfo.so.5 <span class="o">(</span>0x00007fa85cbe2000<span class="o">)</span>
</span></span><span class="line"><span class="cl">        libevent_core-2.1.so.6 <span class="o">=</span>&gt; /home/lfang/local/lib/libevent_core-2.1.so.6 <span class="o">(</span>0x00007fa85c9ac000<span class="o">)</span>
</span></span><span class="line"><span class="cl">        libm.so.6 <span class="o">=</span>&gt; /lib64/libm.so.6 <span class="o">(</span>0x00007fa85c6aa000<span class="o">)</span>
</span></span><span class="line"><span class="cl">        libresolv.so.2 <span class="o">=</span>&gt; /lib64/libresolv.so.2 <span class="o">(</span>0x00007fa85c493000<span class="o">)</span>
</span></span><span class="line"><span class="cl">        libc.so.6 <span class="o">=</span>&gt; /lib64/libc.so.6 <span class="o">(</span>0x00007fa85c0e7000<span class="o">)</span>
</span></span><span class="line"><span class="cl">        libcrypto.so.10 <span class="o">=</span>&gt; /lib64/libcrypto.so.10 <span class="o">(</span>0x00007fa85bc84000<span class="o">)</span>
</span></span><span class="line"><span class="cl">        libpthread.so.0 <span class="o">=</span>&gt; /lib64/libpthread.so.0 <span class="o">(</span>0x00007fa85ba66000<span class="o">)</span>
</span></span><span class="line"><span class="cl">        /lib64/ld-linux-x86-64.so.2 <span class="o">(</span>0x00007fa85d00f000<span class="o">)</span>
</span></span><span class="line"><span class="cl">        libdl.so.2 <span class="o">=</span>&gt; /lib64/libdl.so.2 <span class="o">(</span>0x00007fa85b862000<span class="o">)</span>
</span></span><span class="line"><span class="cl">        libz.so.1 <span class="o">=</span>&gt; /home/lfang/opt/lib/libz.so.1 <span class="o">(</span>0x00007fa85d20c000<span class="o">)</span></span></span></code></pre></td></tr></table>
</div>
</div>]]></description>
</item>
<item>
  <title>nvim orgmode 修改 archive 文件名称</title>
  <link>https://williamlfang.github.io/2025-02-11-nvim-orgmode-%E4%BF%AE%E6%94%B9-archive-%E6%96%87%E4%BB%B6%E5%90%8D%E7%A7%B0/</link>
  <pubDate>Tue, 11 Feb 2025 19:50:58 &#43;0800</pubDate>
  <author>william</author>
  <guid>https://williamlfang.github.io/2025-02-11-nvim-orgmode-%E4%BF%AE%E6%94%B9-archive-%E6%96%87%E4%BB%B6%E5%90%8D%E7%A7%B0/</guid>
  <description><![CDATA[<p>修改 <code>orgmode</code> 保存 <code>archive</code> 时的文件重命名。</p>]]></description>
</item>
<item>
  <title>nvim 添加自定义代码段 snippets</title>
  <link>https://williamlfang.github.io/2025-02-09-nvim-%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BB%A3%E7%A0%81%E6%AE%B5-snippets/</link>
  <pubDate>Sun, 09 Feb 2025 11:18:23 &#43;0800</pubDate>
  <author>william</author>
  <guid>https://williamlfang.github.io/2025-02-09-nvim-%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BB%A3%E7%A0%81%E6%AE%B5-snippets/</guid>
  <description><![CDATA[<div class="featured-image"><img loading="eager" src="https://williamlfang.github.io/2025-02-09-nvim-%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BB%A3%E7%A0%81%E6%AE%B5-snippets/sched.png" alt="nvim 添加自定义代码段 snippets" title="nvim 添加自定义代码段 snippets" referrerpolicy="no-referrer"/></div><p>我们在写代码时，会经常使用一些普遍的写法，比如一个 <code>for</code> 循环；或者是一些常用的代码段，比如 <code>datetime</code> 直接输入当前的日期。</p>
<div class="highlight" id="id-1"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div>]]></description>
</item>
<item>
  <title>nvim buffer 文本补全</title>
  <link>https://williamlfang.github.io/2025-02-08-nvim-buffer-%E6%96%87%E6%9C%AC%E8%A1%A5%E5%85%A8/</link>
  <pubDate>Sat, 08 Feb 2025 13:49:31 &#43;0800</pubDate>
  <author>william</author>
  <guid>https://williamlfang.github.io/2025-02-08-nvim-buffer-%E6%96%87%E6%9C%AC%E8%A1%A5%E5%85%A8/</guid>
  <description><![CDATA[<p>有时我们在编辑一些文本文件时，会同时打开多个 <code>buffer</code>，并且希望可能在多个 <code>buffe</code> 之间，根据文本进行自动补全。默认的补全规则是基于当前的 <code>buffer</code>，这个需要进行相应的修改才能实现我们的需求。</p>]]></description>
</item>
<item>
  <title>nvim 使用 yarepl 进行交互式执行命令</title>
  <link>https://williamlfang.github.io/2025-01-19-nvim-%E4%BD%BF%E7%94%A8-yarepl-%E8%BF%9B%E8%A1%8C%E4%BA%A4%E4%BA%92%E5%BC%8F%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4/</link>
  <pubDate>Sun, 19 Jan 2025 18:46:04 &#43;0800</pubDate>
  <author>william</author>
  <guid>https://williamlfang.github.io/2025-01-19-nvim-%E4%BD%BF%E7%94%A8-yarepl-%E8%BF%9B%E8%A1%8C%E4%BA%A4%E4%BA%92%E5%BC%8F%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4/</guid>
  <description><![CDATA[<div class="featured-image"><img loading="eager" src="https://williamlfang.github.io/2025-01-19-nvim-%E4%BD%BF%E7%94%A8-yarepl-%E8%BF%9B%E8%A1%8C%E4%BA%A4%E4%BA%92%E5%BC%8F%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4/ipython.png" alt="nvim 使用 yarepl 进行交互式执行命令" title="nvim 使用 yarepl 进行交互式执行命令" referrerpolicy="no-referrer"/></div><p>我有时候需要使用一些脚本语言进行工作，比如使用 <code>bash</code> 编写简单的任务、使用 <code>python</code> 进行数据分析。这些脚本语言的一个好处是可以快速的验证想法，比较灵活操作一些简单的任务。同时，脚本语言还提供了 <code>REPL</code> 的交互式操作，即可以一边写代码、一边执行代码。比如，对于 <code>python</code> 脚本，我可能写了一个函数，然后想快速验证函数里面的某写代码块是否符合逻辑，这时候我们可以利用 <code>REPL</code> 的功能把相关的代码快输入到解释器，即可得到验证。</p>
<p>在 <code>nvim</code> 中编写 <code>python</code> 代码，如何配置实现 <code>REPL</code> 功能呢？</p>
<p>这可以通过插件 <code>yarepl.nvim</code> 完成。</p>]]></description>
</item>
</channel>
</rss>
