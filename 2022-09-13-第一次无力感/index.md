# 第一次无力感




&lt;!--more--&gt;

最近在写一个集合竞价的下单算法，里面用到了集合竞价逐笔行情、撮合可能的成交价格与数量、自己预计下单对市场的影响、在一个绑定CPU的时间线程判断临近集合竞价结束执行下单。感觉挺花心血，为了提高撮合的性能，连续两个周末在测试各个环节消耗的时间，优化相应的撮合算法，与小刘讨论如何减少尝试下单的次数等。然后在不同的情况下，使用 `simu` 进行系统的测试，得到正确且快速的结果。

本来心想着高高兴兴上实盘，结果遇到一个莫名其妙的 bug，两个几乎在同时启动的策略程序，在相同的时间里执行了下单，导致 gw 报单出现重复订单。整个事情看起来有点神奇，理论上应该两个程序是不能同时启动的，而是后面一个程序会先杀掉前面的程序。但是由于一些运维上面的原因，导致这个间歇时间有点长，后起的程序没有成功杀掉前面的程序。

今天的事情搞得心情有点不太好，甚至怀疑自己写的程序有点问题。后面也排除了这个原因。但是整个事情对自己的影响还是挺大的，有点想要辞职的冲动了。

最近团队在转型，人手又不够，自己得处理一堆非交易相关的事情，面对的券商又不是很给力，经常出错。可以说这段时间是非常艰难了，简直在浪费时间与生命。这跟自己原先想做交易的想法完全南辕北辙，相差甚远。

也许有了勇气，我会致辞的。现在做的不一定是自己想要的，中年人唯一的倔强，应该是勇敢一搏吧。


---

> 作者: william  
> URL: https://williamlfang.github.io/2022-09-13-%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%97%A0%E5%8A%9B%E6%84%9F/  

