[{"categories":["programming"],"content":"data cache åœ¨ç”¨æˆ·è°ƒç”¨èµ„æºå¼€è¾Ÿä¸€å—ç¼“å­˜åŒºåŸŸï¼Œä¿å­˜äº†ä¸­é—´çš„è®¡ç®—ç»“æœï¼Œå¯ä»¥é¿å…é‡å¤è®¡ç®—ã€‚ ","date":"2024-03-22","objectID":"/2024-03-22-data-cache-%E7%9A%84%E5%A6%99%E7%94%A8/:0:0","tags":["data","cache","python","lru"],"title":"data cache çš„å¦™ç”¨","uri":"/2024-03-22-data-cache-%E7%9A%84%E5%A6%99%E7%94%A8/"},{"categories":["programming"],"content":"AT\u0026T æ±‡ç¼–æ˜¯ Linux æ“ä½œç³»ç»Ÿé»˜è®¤çš„æ±‡ç¼–è¯­è¨€ã€‚ç†Ÿæ‚‰æ±‡ç¼–è¯­è¨€èƒ½å¤Ÿå¢å¼ºæˆ‘ä»¬å¯¹ç¨‹åºè¿è¡Œé€»è¾‘çš„è®¤è¯†ï¼Œç†è§£ç¨‹åºè¿è¡Œçš„æ€§èƒ½ç“¶é¢ˆã€‚ Ref x86 Assembly Guide Introduction to Compilers and Language Design Function Calls and the Call Stack ä½ ä¸€å®šè¦ææ˜ç™½çš„Cå‡½æ•°è°ƒç”¨æ–¹å¼ä¸æ ˆåŸç† ç¬¬ 1 ç«  C++ æƒ¯ç”¨æ³• C++ å‡½æ•°è°ƒç”¨æ ˆ ","date":"2024-03-19","objectID":"/2024-03-19-att-%E6%B1%87%E7%BC%96%E8%AF%AD%E6%B3%95/:0:0","tags":["AT\u0026t","att","assemble","gcc","g++","c++","c","intel","æ±‡ç¼–"],"title":"ATT æ±‡ç¼–è¯­æ³•","uri":"/2024-03-19-att-%E6%B1%87%E7%BC%96%E8%AF%AD%E6%B3%95/"},{"categories":["tools"],"content":"æˆ‘åœ¨å¤šå¹´å‰è´­ä¹°äº†ä¸€æ¬¾ç½—æŠ€æ— çº¿è“ç‰™é¼ æ ‡ Master 3Sï¼Œä½¿ç”¨æ„Ÿè§‰æ˜¯ç›¸å½“å¾—ä¸æ»‘ã€‚ä¸è¿‡éå¸¸é—æ†¾ï¼Œæˆ‘è¿™æ¬¡è¿‡å¹´å›å®¶ï¼Œä¸å°å¿ƒæŠŠé¼ æ ‡çš„è“ç‰™é€‚é…å™¨å¼„ä¸¢äº†ï¼Œå¯¼è‡´æœ€è¿‘åŠå…¬åªèƒ½ä½¿ç”¨æˆ´å°”èµ é€çš„æœ‰çº¿é¼ æ ‡ã€‚ä½“éªŒæ„Ÿä¸æ˜¯ç‰¹åˆ«å¥½ã€‚ ä»Šå¤©çªå‘å¥‡æƒ³ï¼Œæˆ‘åŸå…ˆä¹Ÿæœ‰ä¸€ä¸ªæ—§çš„ç½—æŠ€è“ç‰™é¼ æ ‡ï¼ˆåˆä»£Masterï¼‰ï¼Œä½•ä¸åˆ©ç”¨æ—§çš„è“ç‰™é€‚é…å™¨æ¥é…å¯¹è¿™æ¬¾ Master 3s ï¼Ÿ å®˜ç½‘è½¯ä»¶é¦–å…ˆé‡åˆ°çš„é—®é¢˜æ˜¯ï¼šç”±äºç½—æŠ€å‡ºäº§é…å¯¹ä½¿ç”¨çš„æ˜¯é¼ æ ‡çš„é€šé“ï¼Œå¦‚æœéœ€è¦ç”¨å…¶ä»–è“è‰²æ¥æ”¶å™¨é‡æ–°é…å¯¹ï¼Œåˆ™è¦é€šè¿‡ç½—æŠ€æä¾›çš„è½¯ä»¶è¿›è¡Œé‡æ–°é…å¯¹çš„æ“ä½œã€‚é—æ†¾çš„æ˜¯ï¼ˆå¤§éƒ¨åˆ†å‚å•†ï¼‰éƒ½åªæä¾› Window å’Œ Mac æ“ä½œç³»ç»Ÿä¸‹çš„è½¯ä»¶ç‰ˆæœ¬ï¼Œè€Œæ²¡æœ‰å¼€å‘ Linux ç‰ˆæœ¬ã€‚è¿™å¯¼è‡´æˆ‘æ— æ³•ä»å®˜ç½‘è·å–è½¯ä»¶æ”¯æŒã€‚ Logi Options+ Linux å¼€æºè½¯ä»¶","date":"2024-03-18","objectID":"/2024-03-18-linux-%E9%85%8D%E5%AF%B9%E7%BD%97%E6%8A%80%E8%93%9D%E7%89%99%E9%BC%A0%E6%A0%87/:0:0","tags":["linux","logitech","é¼ æ ‡","solaar","ç½—æŠ€"],"title":"Linux é…å¯¹ç½—æŠ€è“ç‰™é¼ æ ‡","uri":"/2024-03-18-linux-%E9%85%8D%E5%AF%B9%E7%BD%97%E6%8A%80%E8%93%9D%E7%89%99%E9%BC%A0%E6%A0%87/"},{"categories":["tools"],"content":" é‡äº‹ä¸å†³ï¼Œgoogle è§£å†³å½“ç„¶ï¼Œé‡äº‹ä¸å†³ï¼Œgoogle è§£å†³ã€‚æˆ‘ä»¥å…³é”®è¯ Logi Options+ linux æ£€ç´¢ï¼Œç¬¬ä¸€ä¸ªè·³å‡º StackOverflow:Logitech Options on Linux https://askubuntu.com/questions/1206369/logitech-options-on-linux æŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•ï¼Œå¼€å§‹å®‰è£… solaar sudo apt install solaar solaar ","date":"2024-03-18","objectID":"/2024-03-18-linux-%E9%85%8D%E5%AF%B9%E7%BD%97%E6%8A%80%E8%93%9D%E7%89%99%E9%BC%A0%E6%A0%87/:1:0","tags":["linux","logitech","é¼ æ ‡","solaar","ç½—æŠ€"],"title":"Linux é…å¯¹ç½—æŠ€è“ç‰™é¼ æ ‡","uri":"/2024-03-18-linux-%E9%85%8D%E5%AF%B9%E7%BD%97%E6%8A%80%E8%93%9D%E7%89%99%E9%BC%A0%E6%A0%87/"},{"categories":["tools"],"content":" solaaræ‰“å¼€ solaar åï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥éœ€è¦æ·»åŠ æ–°è®¾å¤‡ã€‚æˆ‘ä»¬éœ€è¦æŠŠé¼ æ ‡å…ˆå…³é—­ï¼Œç„¶åå†é‡æ–°å¼€å¯ï¼Œè¿™æ ·ç¨‹åºæ‰èƒ½è¯†åˆ«æ˜¯æ–°æ¥å…¥çš„è®¾å¤‡ã€‚ æ·»åŠ æ–°è®¾, è®°å¾—å…ˆå…³é—­å†é‡å¯é¼ æ ‡ é…å¯¹æˆåŠŸåï¼Œå³å¯çœ‹åˆ°æ— çº¿é¼ æ ‡çš„è®¾å¤‡ä¿¡æ¯æ¥ã€‚ æˆåŠŸé…å¯¹æˆ‘çš„ Master 3S ","date":"2024-03-18","objectID":"/2024-03-18-linux-%E9%85%8D%E5%AF%B9%E7%BD%97%E6%8A%80%E8%93%9D%E7%89%99%E9%BC%A0%E6%A0%87/:2:0","tags":["linux","logitech","é¼ æ ‡","solaar","ç½—æŠ€"],"title":"Linux é…å¯¹ç½—æŠ€è“ç‰™é¼ æ ‡","uri":"/2024-03-18-linux-%E9%85%8D%E5%AF%B9%E7%BD%97%E6%8A%80%E8%93%9D%E7%89%99%E9%BC%A0%E6%A0%87/"},{"categories":["programming"],"content":"pybind11 allow us to expose c++ class/function to higher abstraction level of python programming language, bringing high performance and flexibility into python. To pass named arguments in python, itâ€™s required to specify argument names in pybind11â€™s interface. In this post, I will illustrate how to do that. c++ class","date":"2024-03-18","objectID":"/2024-03-18-pybind11--passing-named-arguments/:0:0","tags":["pybind11","c++","python","class","interface","function"],"title":"pybind11: passing named arguments","uri":"/2024-03-18-pybind11--passing-named-arguments/"},{"categories":["programming"],"content":" header #include \u003cpybind11/pybind11.h\u003e #include \u003cpybind11/embed.h\u003e #include \u003cpybind11/stl.h\u003e #include \u003ciostream\u003e #include \u003ccstdlib\u003e #include \u003ccstdio\u003e // from SnailCore #include \u003cutil/acct_info.hpp\u003e #include \u003cutil/shm.hpp\u003e #include \u003cutil/shm_tool.hpp\u003e #include \u003cutil/shm_status.hpp\u003e #include \u003cutil/shm_struct.hpp\u003e #include \u003cutil/shmv.hpp\u003e #include \u003cutil/time_util.hpp\u003e #include \u003cutil/index_type.hpp\u003e #include \u003cutil/str_util.hpp\u003e ","date":"2024-03-18","objectID":"/2024-03-18-pybind11--passing-named-arguments/:1:0","tags":["pybind11","c++","python","class","interface","function"],"title":"pybind11: passing named arguments","uri":"/2024-03-18-pybind11--passing-named-arguments/"},{"categories":["programming"],"content":" function py::dict pybind11_read_shm_acc(const std::string\u0026 shm_tag) { std::unique_ptr\u003csnail::acct_info_t::shm_reader_t\u003e reader {new snail::acct_info_t::shm_reader_t(shm_tag)}; auto total = reader-\u003esize(); std::cout \u003c\u003c \"total:\" \u003c\u003c total \u003c\u003c std::endl; std::vector\u003cstd::string\u003e client_id, us; std::vector\u003cdouble\u003e beg_balance, curr_balance, enabled_balance, frozen_balance, deposit, margin, frozen_margin, fee, frozen_fee, pos_profit, close_profit; for (size_t i = 0; i \u003c total; ++i) { auto e = reader-\u003esafe_get(i); client_id.emplace_back(e-\u003eclient_id); us.emplace_back(microtime::from_count(e-\u003eus).to_zgc_str()); beg_balance.emplace_back(e-\u003ebeg_balance); curr_balance.emplace_back(e-\u003ecurr_balance); enabled_balance.emplace_back(e-\u003eenabled_balance); frozen_balance.emplace_back(e-\u003efrozen_balance); deposit.emplace_back(e-\u003edeposit); margin.emplace_back(e-\u003emargin); frozen_margin.emplace_back(e-\u003efrozen_margin); fee.emplace_back(e-\u003efee); frozen_fee.emplace_back(e-\u003efrozen_fee); pos_profit.emplace_back(e-\u003epos_profit); close_profit.emplace_back(e-\u003eclose_profit); } py::dict d; d[\"US\"] = us; d[\"ClientID\"] = client_id; d[\"BegBalance\"] = beg_balance; d[\"CurrBalance\"] = curr_balance; d[\"EnabledBalance\"] = enabled_balance; d[\"FrozenBalance\"] = frozen_balance; d[\"Deposit\"] = deposit; d[\"Margin\"] = margin; d[\"FrozenMargin\"] = frozen_margin; d[\"Fee\"] = fee; d[\"FrozenFee\"] = frozen_fee; d[\"PosProfit\"] = pos_profit; d[\"CloseProfit\"] = close_profit; return d; } ","date":"2024-03-18","objectID":"/2024-03-18-pybind11--passing-named-arguments/:2:0","tags":["pybind11","c++","python","class","interface","function"],"title":"pybind11: passing named arguments","uri":"/2024-03-18-pybind11--passing-named-arguments/"},{"categories":["programming"],"content":" class class Account { public: Account(const std::string\u0026 shm_tag, int shm_size, bool continued = false) : _shm_tag{shm_tag} , _shm_size{shm_size} , _continued{false} { _shm_acc.reset(new acct_info_t::shm_writer_t( _shm_tag, _shm_size, _continued )); } ~Account() {} void write(const std::string\u0026 client_id, double beg_balance, double curr_balance, double enabled_balance, double frozen_balance = 0.0, double deposit = 0.0, double margin = 0.0, double frozen_margin = 0.0, double fee = 0.0, double frozen_fee = 0.0, double pos_profit = 0.0, double close_profit = 0.0, uint64_t us = 0 ) { auto e = _shm_acc-\u003eget_slot(); if (!e) { std::cout \u003c\u003c \"failed to get_slot, shm is full\" \u003c\u003c std::endl; return; } e-\u003eus = us == 0 ? microtime::now().count(): us; copy_str(e-\u003eclient_id, client_id.c_str()); e-\u003ebeg_balance = beg_balance; e-\u003ecurr_balance = curr_balance; e-\u003eenabled_balance = enabled_balance; e-\u003efrozen_balance = frozen_balance; e-\u003edeposit = deposit; e-\u003emargin = margin; e-\u003efrozen_margin = frozen_margin; e-\u003efee = fee; e-\u003efrozen_fee = frozen_fee; e-\u003epos_profit = pos_profit; e-\u003eclose_profit = close_profit; _shm_acc-\u003ecommit(e); } py::dict read() { return pybind11_read_shm_acc(_shm_tag); } private: std::string _shm_tag; int _shm_size {0}; bool _continued {false}; std::shared_ptr\u003ctypename acct_info_t::shm_writer_t\u003e _shm_acc; }; pybind11 interfacepybind11 provides by MACRO interfaces of c++. By defining py::arg(\"shm_tag\"), itâ€™s possible to pass named arguments from python into c++â€™s functions/classes, with default values setting. PYBIND11_MODULE(snail, m) { // Function Interface m.def(\"pybind11_read_shm_acc\", \u0026pybind11_read_shm_acc, R\"pbdoc( read snail::acct_info_t )pbdoc\"); // Class Interface // define Account class py::class_\u003cAccount\u003e(m, \"Account\") // ctor .def(py::init\u003cconst std::string\u0026, int, bool\u003e(), py::arg(\"shm_tag\"), py::arg(\"shm_size\"), py::arg(\"continued\") = false ) .def(\"write\", \u0026Account::write, py::arg(\"client_id\"), py::arg(\"beg_balance\"), py::arg(\"curr_balance\"), py::arg(\"enabled_balance\"), py::arg(\"frozen_balance\") = 0.0, py::arg(\"deposit\") = 0.0, py::arg(\"margin\") = 0.0, py::arg(\"frozen_margin\") = 0.0, py::arg(\"fee\") = 0.0, py::arg(\"frozen_fee\") = 0.0, py::arg(\"pos_profit\") = 0.0, py::arg(\"close_profit\") = 0.0, py::arg(\"us\") = 0 ) .def(\"read\", \u0026Account::read) ; #ifdef VERSION_INFO m.attr(\"__version__\") = MACRO_STRINGIFY(VERSION_INFO); #else m.attr(\"__version__\") = \"dev\"; #endif } python callingNow we can call c++ functions/class interfaces in python. import pandas as pd from wepy.cpp.snail import pybind11_read_shm_acc from wepy.cpp.snail import Account ## Function Interface def read_shm_acc(shm_tag:str) -\u003e pd.DataFrame: data = pybind11_read_shm_acc(shm_tag) return pd.DataFrame(data) ## Class Interface from wepy.cpp.snail import Account acct = Account(shm_tag = \"lfang_acc\", shm_size = 1000) acct.write(client_id = \"lfang\", beg_balance = 1000.0, curr_balance = 1000.0, enabled_balance = 1000.0, deposit = 100) df = pd.DataFrame(acct.read()) df = read_shm_acc(\"lfang_acc\") python-calling ","date":"2024-03-18","objectID":"/2024-03-18-pybind11--passing-named-arguments/:3:0","tags":["pybind11","c++","python","class","interface","function"],"title":"pybind11: passing named arguments","uri":"/2024-03-18-pybind11--passing-named-arguments/"},{"categories":["tools"],"content":"nvim å¯ä»¥åˆ©ç”¨è·³è½¬åŠŸèƒ½ï¼Œç›´æ¥åœ¨å½“å‰å…‰æ ‡ä¸‹æ‰“å¼€æ–‡ä»¶ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™æ–°å»ºä¸€ä¸ªã€‚ æˆ‘é…ç½®çš„å¿«æ·é”®æ˜¯ gf(go file)ã€‚ vim.cmd([[ nnoremap \u003csilent\u003e gf :call JumpOrCreateFile()\u003cCR\u003e function! JumpOrCreateFile() \" Get the filename under the cursor let filename = expand(\"\u003ccfile\u003e\") \" Expand the tilde in the file path let expanded_filename = expand(filename) \" Check if the file path starts with \"./\" if expanded_filename =~# '^\\.\\/' \" Get the current directory of the editing file let current_directory = expand('%:p:h') \" Create the full path by appending the relative file path let expanded_filename = current_directory . '/' . expanded_filename endif \" Check if the file exists if !filereadable(expanded_filename) \" Prompt the user for file creation with the full path let choice = confirm('File does not exist. Create \"' . expanded_filename . '\"?', \"\u0026Yes\\n\u0026No\", 1) \" Handle the user's choice if choice == 1 \" Create the file and open it echohl WarningMsg | echo 'Created New File: ' . expanded_filename | echohl None execute 'edit ' . expanded_filename endif else \" File exists, perform normal gf behavior echohl ModeMsg | echo 'Open File: ' . expanded_filename | echohl None execute 'normal! gf' endif endfunction ]]) ","date":"2024-03-18","objectID":"/2024-03-18-nvim-%E7%9B%B4%E6%8E%A5%E6%89%93%E5%BC%80%E5%BD%93%E5%89%8D%E5%85%89%E6%A0%87%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6/:0:0","tags":["nvim","cursor","gf","buffer"],"title":"nvim ç›´æ¥æ‰“å¼€å½“å‰å…‰æ ‡ä¸‹çš„æ–‡ä»¶","uri":"/2024-03-18-nvim-%E7%9B%B4%E6%8E%A5%E6%89%93%E5%BC%80%E5%BD%93%E5%89%8D%E5%85%89%E6%A0%87%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6/"},{"categories":["tools"],"content":"ä½¿ç”¨ Hugo + Github æ­å»ºä¸ªäººåšå®¢ç³»ç»Ÿï¼Œå¹¶æ‰˜ç®¡åœ¨ Github Page æœåŠ¡ã€‚ æ€è·¯ åœ¨ Github åˆ›å»ºä¸€ä¸ªé¡¹ç›®ç”¨äºæ‰˜ç®¡åšå®¢ä»£ç ã€markdown æ–‡ä»¶ç­‰ï¼Œæ¯”å¦‚ myblog åœ¨ Github åˆ›å»º Page é¡¹ç›®ã€‚Page é¡¹ç›®æ˜¯é™æ€ç½‘é¡µæ¸²æŸ“ï¼Œå¹¶å¯ä»¥æ‰˜ç®¡åœ¨ Github æœåŠ¡å™¨ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠç½‘ç«™å†…å®¹å‘å¸ƒåˆ° Githubã€‚ è¿™ä¸ª Page çš„ç‰¹åˆ«ä¹‹å¤„åœ¨äºï¼šæˆ‘ä»¬å°†å…¶é¡¹ç›®åç§°è®¾ç½®ä¸º williamlfang.github.ioï¼Œå³ yourusename.github.ioã€‚ Hugo æ˜¯ä¸€ä¸ªä¼˜ç§€çš„é™æ€ç½‘é¡µç”Ÿæˆæ¡†æ¶ï¼Œæä¾›äº†çµæ´»çš„é…ç½®ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®ä¸åŒçš„ä¸»é¢˜ï¼ˆthemeï¼‰æ¥æ¸²æŸ“ç½‘é¡µï¼Œè¾¾åˆ°å†…å®¹ä¸å½¢å¼åˆ†ç¦»çš„ç›®åœ°ã€‚ ç”±äºéƒ¨åˆ†ä¸»é¢˜çš„åŠŸèƒ½éœ€è¦ä½¿ç”¨åˆ°æ–°ç‰¹æ€§ï¼Œæˆ‘ä»¬æœ€å¥½å®‰è£… hugo-extended ç‰ˆæœ¬ã€‚ ## éœ€è¦å®‰è£… hugo extended version wget https://github.com/gohugoio/hugo/releases/download/v0.123.8/hugo_extended_0.123.8_linux-amd64.deb sudo dpkg -i hugo_extended_0.123.8_linux-amd64.deb hugo version æ­¥éª¤","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:0:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" å»ºç«‹ Github é¡¹ç›® åœ¨ Github åˆ›å»º myblog é¡¹ç›® åŸæ•™ç¨‹æ˜¯å°†æºä»“åº“ä¸ Page æ”¾åœ¨åŒä¸€ä¸ªé¡¹ç›®ï¼Œæ‰€ä»¥éœ€è¦è®¾ç½®æˆ publicã€‚ä¸è¿‡æˆ‘çš„åšæ³•æ˜¯å°†æºä»“åº“ä¸å‘å¸ƒä»“åº“Pageåˆ†ç¦»ï¼Œå†…å®¹æ‰˜ç®¡åœ¨ myblog çš„ private é¡¹ç›®ï¼Œç„¶åå°† hugo æ¸²æŸ“åçš„ html æ‹·è´åˆ°å‘å¸ƒä»“åº“ Pageã€‚ åœ¨ Github åˆ›å»º williamlfang.github.io é¡¹ç›® å¦‚ä¸Šæ‰€è¿°ï¼Œéœ€è¦å°†å‘å¸ƒä»“åº“ Page è®¾ç½®ä¸º public å¼€æ”¾äº’è”ç½‘è®¿é—®ã€‚ ","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:1:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" Hugo æ­å»º åˆå§‹åŒ– hugo ç›®å½• git clone git@github.com:williamlfang/myblog.git ## åˆå§‹åŒ–é¡¹ç›®ï¼Œå¦‚æœå­˜åœ¨ç›®å½•ï¼Œåˆ™éœ€è¦æ·»åŠ  --force hugo new site myblog cd myblog ## æ·»åŠ ä¸»é¢˜ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨æ¥ FixIt git submodule add https://github.com/hugo-fixit/FixIt.git themes/FixIt æ ¹æ®å¯¹åº” theme æä¾›çš„é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œå¯ä»¥æŸ¥çœ‹å‚è€ƒé…ç½® themes/FixIt/hugo.toml vim hugo.toml æ¯”å¦‚æˆ‘çš„é…ç½®æ˜¯è¿™æ ·çš„ï¼š title è®¾ç½®åšå®¢åç§° baseURL å¯¹åº”åŸŸåï¼ˆå¦‚æœæ˜¯æ‰˜ç®¡åœ¨ Github Pageï¼Œåˆ™å¡«å†™https://williamlfang.github.io/ï¼‰ theme é…ç½®ç›¸åº”çš„åç§°ï¼ˆéœ€è¦åœ¨ themes/ ç›®å½•ä¸‹ï¼‰ avatar æ˜¯å¤´åƒè®¾ç½®ï¼ˆå¦‚æœæ˜¯ FixItï¼Œéœ€è¦æ›¿æ¢ä¸ºè‡ªå·±çš„å¤´åƒæ–‡ä»¶ï¼Œåœ¨ themes/FixIt/assets/imagesï¼‰ åˆ›å»ºåšå®¢ markdown æ–‡ç« ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ ## create new post ## è¿™ä¸ªå‘½ä»¤ä¼šè°ƒç”¨å‚æ•°æ¨¡æ¿ï¼Œä½äº `theme/FixIt/archetypes` ## æˆ‘ä»¬å¯ä»¥è‡ªè¡Œä¿®æ”¹ hugo new posts/first_post.md ","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:2:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" æ·»åŠ æœˆå†ä¸»è¦æ˜¯çœ‹åˆ°è¿™ç¯‡ä¼˜ç§€çš„åšå®¢ï¼Œå—åˆ°å¯å‘ã€‚äºæ˜¯æˆ‘ä¹Ÿå‡†å¤‡åœ¨åšå®¢æ·»åŠ ä¸€ä¸ªæœˆå†ï¼Œç”¨äºæŸ¥çœ‹æ–‡ç« å‘å¸ƒçš„æƒ…å†µã€‚ ç»™ Hugo åšå®¢æ·»åŠ æœˆå†åŠŸèƒ½ https://blog.gimo.me/posts/adding-calendar-view-for-hugo-blog-posts/ è¿™é‡Œä¸»è¦ä¿®æ”¹çš„åœ°æ–¹æœ‰ï¼š åœ¨é…ç½® hugo.toml æ·»åŠ ä¸€ä¸ªæ ç›® [menu] [[menu.main]] identifier = \"calendar\" parent = \"\" pre = \"\" post = \"\" name = \"æœˆå†\" url = \"/calendar/\" title = \"\" weight = 100 [menu.main.params] icon = \"fa-regular fa-id-card fa-fw fa-sm\" æ–°å»º content/calendar/index.mdï¼Œè®¾ç½®å…¶å¸ƒå±€ --- title: \"æœˆå†ğŸ“…\" date: 2024-03-01T16:00:09+08:00 layout: calendar --- ç”±äºä¸Šé¢è®¾ç½®äº† layout: calendarï¼Œå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ ç›¸å…³çš„é¡µé¢æ¨¡æ¿ã€‚åœ¨æ ¹ç›®å½•åˆ›å»º layouts/page/calendar.htmlï¼Œå…·ä½“å¸ƒå±€å¯ä»¥å‚è€ƒ 404.html ä¿®æ”¹ calendar css æ ¼å¼ï¼Œåœ¨æ ¹ç›®å½•åˆ›å»ºï¼ˆæˆ–åˆ™å¤åˆ¶ä¸€ä»½ /theme/FixIt/assets/css/_custom.cssï¼‰åˆ° assets/css/_custom.css // ============================== // Custom style // è‡ªå®šä¹‰æ ·å¼ // ============================== #calendar { a { color: var(--text-bright); \u0026:hover { text-decoration: none; } } tr { background: var(--background-body); } .fc-daygrid-event { white-space: normal; } .fc-day-sat .fc-daygrid-day-number, .fc-day-sat .fc-col-header-cell-cushion, .fc-day-sun .fc-daygrid-day-number, .fc-day-sun .fc-col-header-cell-cushion { color: #e74c3c; } } calendar æ•ˆæœå›¾ ","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:3:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" é¢„è§ˆä¸å‘å¸ƒ é¢„è§ˆæ•ˆæœ ## preview hugo server --disableFastRender ç”Ÿæˆé™æ€é¡µé¢ï¼šæŠŠ .md æ–‡ä»¶è½¬åŒ–æˆ html é¡µé¢ï¼Œå¹¶ä¿å­˜åˆ° publicã€‚è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬æ‰˜ç®¡åœ¨ Github Page ä¸Šçš„ç½‘ç«™ã€‚åé¢éœ€è¦æŠŠè¿™ä¸ªæ–‡ä»¶å¤¹æ‹·è´åˆ° Page é¡¹ç›®ï¼Œå¹¶è¿›è¡Œå‘å¸ƒã€‚ ## å‡†å¤‡å‘å¸ƒé™æ€ html ï¼Œä¼šç”Ÿæˆä¸€ä¸ª public ç›®å½• hugo å‘å¸ƒé™æ€ç”Ÿæˆçš„ç½‘ç«™é¡µé¢ã€‚æˆ‘åŸæ¥çš„åšæ³•æ˜¯æŠŠ github page å•ç‹¬æ”¾åœ¨ä¸€ä¸ªç›®å½•ï¼Œç„¶åé€šè¿‡æ‹·è´çš„æ–¹å¼è¿›è¡ŒåŒæ­¥ã€‚ç°åœ¨å›æƒ³èµ·æ¥ï¼Œè¿™ä¸ªæ–¹æ³•ä¼¼ä¹æœ‰ç‚¹å¤šæ­¤ä¸€ä¸¾ï¼Œä¸ºä½•ä¸ç›´æ¥åœ¨ public ç›®å½•æ·»åŠ ä¸€ä¸ª submodule å‘¢ï¼Œç„¶åæŠŠå†…å®¹æ¨é€åˆ° github page å³å¯ï¼Ÿ ## å…ˆç”Ÿæˆä¸€ä¸ª public ç›®å½• hugo ## ç„¶åæ·»åŠ  submodule git submodule add git@github.com:williamlfang/williamlfang.github.io.git public cd public ## åé¢æœ‰æ–°çš„æ–‡ç« æ›´æ–°ï¼Œåªéœ€è¦æ·»åŠ  public å³å¯ git add -A git commit -m \"add submodule\" git push origin main ","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:4:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" deploy.sh ä¸€é”®å‘å¸ƒè„šæœ¬å¯ä»¥åœ¨é¡¹ç›®å»ºç«‹ä¸€ä¸ªè„šæœ¬ï¼Œç”¨äºä¸€é”®å‘å¸ƒæœ€æ–°å˜åŠ¨ã€‚ #!/usr/bin/env bash # Set the English locale for the `date` command. export LC_TIME=en_US.UTF-8 ## ------------------------------------------- msg() { printf \"\\033[1;32m :: %s\\n\\033[0m\" \"$1\" } ## ------------------------------------------- ## ------------------------------------------- # GitHub username. USERNAME=williamlfang # Name of the branch containing the Hugo source files. SOURCE=myblog # Github Page for public website SITE=williamlfang.github.io # The commit message. MESSAGE=\"Site rebuild $(date)\" ## ------------------------------------------- cd ../${SITE} pwd msg \"Pulling down from ${SITE}\" git pull msg \"Building the website\" cd ../${SOURCE} pwd msg \"Pulling down from ${SOURCE}\" git pull ## ------------------------------------------------ # Rscript -e \"blogdown::build_site(build_rmd = TRUE)\" hugo ## ------------------------------------------------ msg \"Pushing new info to Github\" git add -A git commit -m \"$MESSAGE\" git push cp -r public/* ../${SITE} cd ../${SITE} git add -A git commit -m \"$MESSAGE\" git push origin master msg \"We've happily done.\" ","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:5:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" deploy.sh ä¸€é”®å‘å¸ƒè„šæœ¬ #!/usr/bin/env bash # Set the English locale for the `date` command. export LC_TIME=en_US.UTF-8 ## ------------------------------------------- msg() { printf \"\\033[1;32m :: %s\\n\\033[0m\" \"$1\" } ## ------------------------------------------- ## ------------------------------------------- # Name of the branch containing the Hugo source files. SOURCE=myblog # Github Page for public website SITE=williamlfang.github.io # The commit message. MESSAGE=\"Site rebuild $(date)\" ## ------------------------------------------- ## into github-page pushd public msg \"Pulling down from ${SITE}\" git pull popd ## msg \"Pulling down from ${SOURCE}\" git pull ## ------------------------------------------------ # Rscript -e \"blogdown::build_site(build_rmd = TRUE)\" hugo ## ------------------------------------------------ msg \"Pushing new info to Github\" git add -A git commit -m \"$MESSAGE\" git push pushd public git add -A git commit -m \"$MESSAGE\" git push origin main popd msg \"We've happily done.\" ä½¿ç”¨æŠ€å·§","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:6:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" å†…å®¹","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:7:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" æ’åº é»˜è®¤ä»¥æ—¥æœŸæ’åº é€šè¿‡è®¾ç½® weight ä»¥æ”¹å˜æ–‡ç« æ’åºï¼ˆå‰ç½®åŠŸèƒ½ï¼‰ --- title: ä½¿ç”¨hugo+githubæ­å»ºåšå®¢ weight: 1 \u003c!--å®ç°æ–‡ç« ç½®é¡¶åŠŸèƒ½--\u003e --- ","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:7:1","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" æ³¨é‡Š1 è¦åˆ›å»ºè„šæ³¨å¼•ç”¨ï¼Œè¯·åœ¨æ–¹æ‹¬å·ä¸­æ·»åŠ æ’å…¥ç¬¦å·å’Œæ ‡è¯†ç¬¦ ([^1])ã€‚ æ ‡è¯†ç¬¦å¯ä»¥æ˜¯æ•°å­—æˆ–å•è¯ï¼Œä½†ä¸èƒ½åŒ…å«ç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦ã€‚ æ ‡è¯†ç¬¦ä»…å°†è„šæ³¨å¼•ç”¨ä¸è„šæ³¨æœ¬èº«ç›¸å…³è” - åœ¨è„šæ³¨è¾“å‡ºä¸­ï¼Œè„šæ³¨æŒ‰é¡ºåºç¼–å·ã€‚ åœ¨ä¸­æ‹¬å·å†…ä½¿ç”¨æ’å…¥ç¬¦å·å’Œæ•°å­—ä»¥åŠç”¨å†’å·å’Œæ–‡æœ¬æ¥æ·»åŠ è„šæ³¨å†…å®¹ ([^1]ï¼šè¿™æ˜¯ä¸€æ®µè„šæ³¨)ã€‚ ä½ ä¸ä¸€å®šè¦åœ¨æ–‡æ¡£æœ«å°¾æ·»åŠ è„šæ³¨ã€‚å¯ä»¥å°†å®ƒä»¬æ”¾åœ¨é™¤åˆ—è¡¨ï¼Œå¼•ç”¨å’Œè¡¨æ ¼ç­‰å…ƒç´ ä¹‹å¤–çš„ä»»ä½•ä½ç½®ã€‚ è¿™æ˜¯ä¸€ä¸ªæ•°å­—è„šæ³¨ [^1] è¿™æ˜¯ä¸€ä¸ªå¸¦æ ‡ç­¾çš„è„šæ³¨ [^label] [^1]: è¿™æ˜¯ä¸€ä¸ªæ•°å­—è„šæ³¨ [^label]: è¿™æ˜¯ä¸€ä¸ªå¸¦æ ‡ç­¾çš„è„šæ³¨ è¿™æ˜¯ä¸€ä¸ªæ•°å­—è„šæ³¨2 è¿™æ˜¯ä¸€ä¸ªå¸¦æ ‡ç­¾çš„è„šæ³¨3 ","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:7:2","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" å›¾ç‰‡","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:8:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" è·¯å¾„ åœ¨æ ¹ç›®å½•ä¸‹é¢æœ‰ä¸€ä¸ª static ç›®å½•ï¼Œå½“hugoæ‰§è¡Œæ—¶ï¼Œè¿™ä¸ªç›®å½•ä¼šè¢«æ‹·è´åˆ° public ç›®å½•ä¸‹ï¼Œhtml é™æ€é¡µé¢è§£ææ—¶ä¼šä»è¿™ä¸ªè·¯å¾„å¼€å§‹å¯»æ‰¾ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹ï¼ŒæŠŠ avatarã€logo ç­‰å›¾ç‰‡æ”¾åœ¨ static/images ä¸‹é¢ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨è·¯å¾„ /images/xxx.png æ¥å¼•ç”¨å›¾ç‰‡äº† ","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:8:1","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" ç¼©æ”¾åŠŸèƒ½ å¯ä»¥å®ç°å›¾ç‰‡çš„å…¨å±æ”¾å¤§åŠŸèƒ½ï¼šéœ€è¦åœ¨å›¾ç‰‡åé¢æ·»åŠ æ³¨é‡Šä¿¡æ¯ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘åœ¨è¿™é‡Œä½¿ç”¨äº†ç›¸å¯¹è·¯å¾„ï¼Œå³ä¸å½“å‰æ–‡æ¡£åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹é¢ï¼Œè¿™æœ‰èµ–äº Hugo(\u003e0.6.2) æä¾›çš„ layout/_default/_markup åŠŸèƒ½ã€‚ ![æˆ‘çš„åšå®¢](./hugo-fixit.png \"William Fang's Hugo FixIt\") æˆ‘çš„åšå®¢ ","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:8:2","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" ä»£ç å—","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:9:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" è‡ªåŠ¨æŠ˜å  é…ç½®é»˜è®¤å±•å¼€çš„ä»£ç å—é•¿åº¦ # ä»£ç é…ç½® [params.page.code] # æ˜¯å¦æ˜¾ç¤ºä»£ç å—çš„å¤åˆ¶æŒ‰é’® copy = true # æ˜¯å¦æ˜¾ç¤ºä»£ç å—çš„ç¼–è¾‘æŒ‰é’® edit = true # é»˜è®¤å±•å¼€æ˜¾ç¤ºçš„ä»£ç è¡Œæ•° # maxShownLines = 10 maxShownLines = 25 ## \u003c------------- # KaTeX æ•°å­¦å…¬å¼ (https://katex.org) [params.page.math] enable = true # é»˜è®¤è¡Œå†…å®šç•Œç¬¦æ˜¯ $ ... $ å’Œ \\( ... \\) inlineLeftDelimiter = \"\" inlineRightDelimiter = \"\" # é»˜è®¤å—å®šç•Œç¬¦æ˜¯ $$ ... $$, \\[ ... \\], \\begin{equation} ... \\end{equation} å’Œä¸€äº›å…¶å®ƒçš„å‡½æ•° blockLeftDelimiter = \"\" blockRightDelimiter = \"\" # KaTeX æ’ä»¶ copy_tex copyTex = true # KaTeX æ’ä»¶ mhchem mhchem = true # Mapbox GL JS é…ç½® (https://docs.mapbox.com/mapbox-gl-js) ","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:9:1","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" æ•°å­¦å…¬å¼ hugo.toml title = \"William\" # baseURL = \"http://example.org/\" baseURL = \"https://williamlfang.github.io/\" # ç½‘ç«™è¯­è¨€ï¼Œä»…åœ¨è¿™é‡Œ CN å¤§å†™ [\"en\", \"zh-CN\", \"fr\", \"pl\", ...] defaultContentLanguage = \"zh-cn\" languageCode = \"zh-CN\" # æ˜¯å¦åŒ…æ‹¬ä¸­æ—¥éŸ©æ–‡å­— hasCJKLanguage = true ## ---------------------------------------------------------------------------\u003e[theme] # æ›´æ”¹ä½¿ç”¨ Hugo æ„å»ºç½‘ç«™æ—¶ä½¿ç”¨çš„é»˜è®¤ä¸»é¢˜ theme = \"FixIt\" ## ---------------------------------------------------------------------------\u003c[theme] # [menu] # [[menu.main]] # identifier = \"posts\" # name = \"æ–‡ç« \" # url = \"/posts/\" # weight = 1 # [[menu.main]] # identifier = \"categories\" # name = \"åˆ†ç±»\" # url = \"/categories/\" # title = \"\" # weight = 2 # [[menu.main]] # identifier = \"tags\" # name = \"æ ‡ç­¾\" # url = \"/tags/\" # weight = 3 # # [[menu.main]] # identifier = \"about\" # name = \"å…³äº\" # url = \"about/\" # weight = 20 # icon = \"fa-solid fa-signature\" # [[menu.main.params]] # icon = \"fa-solid fa-signature\" [menu] [[menu.main]] identifier = \"posts\" parent = \"\" # you can add extra information before the name (HTML format is supported), such as icons pre = \"\" # you can add extra information after the name (HTML format is supported), such as icons post = \"\" name = \"æ–‡ç« \" url = \"/posts/\" # title will be shown when you hover on this menu link title = \"\" weight = 1 # FixIt 0.2.14 | NEW add user-defined content to menu items [menu.main.params] # add css class to a specific menu item class = \"\" # whether set as a draft menu item whose function is similar to a draft post/page draft = false # FixIt 0.2.16 | NEW add fontawesome icon to a specific menu item icon = \"fa-regular fa-newspaper\" # FixIt 0.2.16 | NEW set menu item type, optional values: [\"mobile\", \"desktop\"] type = \"\" [[menu.main]] identifier = \"archives\" parent = \"\" # you can add extra information before the name (HTML format is supported), such as icons pre = \"\" # you can add extra information after the name (HTML format is supported), such as icons post = \"\" name = \"å½’æ¡£\" url = \"/archives/\" # title will be shown when you hover on this menu link title = \"\" weight = 2 # FixIt 0.2.14 | NEW add user-defined content to menu items [menu.main.params] # add css class to a specific menu item class = \"\" # whether set as a draft menu item whose function is similar to a draft post/page draft = false # FixIt 0.2.16 | NEW add fontawesome icon to a specific menu item icon = \"fa-solid fa-archive\" # FixIt 0.2.16 | NEW set menu item type, optional values: [\"mobile\", \"desktop\"] type = \"\" [[menu.main]] identifier = \"categories\" parent = \"\" pre = \"\" post = \"\" name = \"åˆ†ç±»\" url = \"/categories/\" title = \"\" weight = 3 [menu.main.params] icon = \"fa-solid fa-folder-tree\" [[menu.main]] identifier = \"tags\" parent = \"\" pre = \"\" post = \"\" name = \"æ ‡ç­¾\" url = \"/tags/\" title = \"\" weight = 3 [menu.main.params] icon = \"fa-solid fa-tags\" [[menu.main]] identifier = \"about\" parent = \"\" pre = \"\" post = \"\" name = \"å…³äº\" url = \"/about/\" title = \"\" weight = 20 [menu.main.params] icon = \"fa-solid fa-signature\" [params] # FixIt ä¸»é¢˜ç‰ˆæœ¬ version = \"0.2.X\" # ä¾‹å¦‚ï¼š\"0.2.X\", \"0.2.15\", \"v0.2.15\" ç­‰ # ç½‘ç«™æè¿° # description = \"è¿™æ˜¯æˆ‘çš„ Hugo FixIt ç½‘ç«™\" description = \"William\" # ç½‘ç«™å…³é”®è¯ keywords = [\"Hugo\", \"FixIt\"] # ç½‘ç«™é»˜è®¤ä¸»é¢˜æ ·å¼ [\"light\", \"dark\", \"auto\"] defaultTheme = \"auto\" # å“ªç§å“ˆå¸Œå‡½æ•°ç”¨æ¥ SRI, ä¸ºç©ºæ—¶è¡¨ç¤ºä¸ä½¿ç”¨ SRI # [\"sha256\", \"sha384\", \"sha512\", \"md5\"] fingerprint = \"\" # æ—¥æœŸæ ¼å¼ dateFormat = \"2006-01-02\" # ç½‘ç«™å›¾ç‰‡ï¼Œç”¨äº Open Graph å’Œ Twitter Cards images = [\"/logo.png\"] # å¼€å¯ PWA æ”¯æŒ enablePWA = true # æ˜¯å¦è‡ªåŠ¨æ˜¾ç¤ºå¤–é“¾å›¾æ ‡ externalIcon = false # æ˜¯å¦åè½¬å¯¼èˆªèœå•çš„é¡ºåº navigationReverse = false # æ˜¯å¦åœ¨æ¯ä¸ªé¡µé¢æ ‡é¢˜ä¸­æ·»åŠ ç½‘ç«™æ ‡é¢˜ # è¯·è®°å¾—åœ¨ `hugo.toml` ä¸­è®¾ç½®ç½‘ç«™æ ‡é¢˜ (ä¾‹å¦‚ title = \"title\") withSiteTitle = true # å½“ç½‘ç«™æ ‡é¢˜è¢«æ·»åŠ åˆ°æ¯ä¸ªé¡µé¢æ ‡é¢˜æ—¶çš„æ ‡é¢˜åˆ†éš”ç¬¦ titleDelimiter = \"-\" # æ˜¯å¦åœ¨ä¸»é¡µæ ‡é¢˜ä¸­æ·»åŠ ç½‘ç«™å‰¯æ ‡é¢˜ # è¯·è®°å¾—é€šè¿‡ `params.header.subtitle.name` è®¾ç½®ç½‘ç«™å‰¯æ ‡é¢˜ indexWithSubtitle = false # é»˜è®¤æƒ…å†µä¸‹ï¼ŒFixIt åªä¼šåœ¨ä¸»é¡µçš„ HTML å¤´ä¸­æ³¨å…¥ä¸»é¢˜å…ƒæ ‡è®° # ä½ å¯ä»¥å°†å…¶å…³é—­ï¼Œä½†å¦‚æœä½ ä¸è¿™æ ·åšï¼Œæˆ‘ä»¬å°†ä¸èƒœæ„Ÿæ¿€ï¼Œå› ä¸ºè¿™æ˜¯è§‚å¯Ÿ FixIt å—æ¬¢è¿ç¨‹åº¦ä¸Šå‡çš„å¥½æ–¹æ³• disableThemeInject = false # ä½œè€…é…ç½® [params.author] name = \"\" email = \"\" link = \"\" avatar = \"\" # å…¬å…± Git ä»“åº“ä¿¡æ¯ï¼Œä»…åœ¨ enableGitInfo è®¾ä¸º true æ—¶æœ‰æ•ˆ [params.gitInfo] # ä¾‹å¦‚ \"https://github.com/hugo-fixit/docs\" rep","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:10:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["Programming"],"content":"C++ Hackerâ€™s Guide æ˜¯ä¸€æœ¬ä»‹ç»ç¼–ç¨‹æŠ€å·§çš„å®ç”¨ä¹¦ç±ã€‚ ","date":"2024-03-16","objectID":"/2024-03-16-c-hackers-guide/:0:0","tags":["c++","hacker"],"title":"C++ Hacker's Guide","uri":"/2024-03-16-c-hackers-guide/"},{"categories":["tools"],"content":"æˆ‘ç°åœ¨åŸºæœ¬ä¸Šéƒ½æ˜¯ä½¿ç”¨nvimåšç¬”è®°ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½æ˜¯å†™ markdown æ ¼å¼çš„æ–‡æ¡£ã€‚å› æ­¤ï¼Œéœ€è¦ä¸€æ¬¾èƒ½å¤Ÿåœ¨ç»ˆç«¯å®æ—¶æ¸²æŸ“çš„æ’ä»¶ã€‚ ","date":"2024-03-13","objectID":"/2024-03-13-nvim-%E9%85%8D%E7%BD%AE-markdown-%E5%AE%9E%E6%97%B6%E6%B8%B2%E6%9F%93/:0:0","tags":["nvim","markdown","glow"],"title":"nvim é…ç½® markdown å®æ—¶æ¸²æŸ“","uri":"/2024-03-13-nvim-%E9%85%8D%E7%BD%AE-markdown-%E5%AE%9E%E6%97%B6%E6%B8%B2%E6%9F%93/"},{"categories":["tools"],"content":" glowglow æ˜¯ä¸€æ¬¾å¯ä»¥åœ¨ç»ˆç«¯æ¸²æŸ“ markdown æ–‡æ¡£çš„å‘½ä»¤ # Debian/Ubuntu sudo mkdir -p /etc/apt/keyrings curl -fsSL https://repo.charm.sh/apt/gpg.key | sudo gpg --dearmor -o /etc/apt/keyrings/charm.gpg echo \"deb [signed-by=/etc/apt/keyrings/charm.gpg] https://repo.charm.sh/apt/ * *\" | sudo tee /etc/apt/sources.list.d/charm.list sudo apt update \u0026\u0026 sudo apt install glow # Fedora/RHEL echo '[charm] name=Charm baseurl=https://repo.charm.sh/yum/ enabled=1 gpgcheck=1 gpgkey=https://repo.charm.sh/yum/gpg.key' | sudo tee /etc/yum.repos.d/charm.repo sudo yum install glow ","date":"2024-03-13","objectID":"/2024-03-13-nvim-%E9%85%8D%E7%BD%AE-markdown-%E5%AE%9E%E6%97%B6%E6%B8%B2%E6%9F%93/:1:0","tags":["nvim","markdown","glow"],"title":"nvim é…ç½® markdown å®æ—¶æ¸²æŸ“","uri":"/2024-03-13-nvim-%E9%85%8D%E7%BD%AE-markdown-%E5%AE%9E%E6%97%B6%E6%B8%B2%E6%9F%93/"},{"categories":["tools"],"content":" markdown-preview.nvimè¿™æ¬¾æ’ä»¶æ”¯æŒåœ¨ nvim çš„ç»ˆç«¯å³å¯æ¸²æŸ“ markdownï¼Œåº•å±‚è°ƒç”¨çš„æ˜¯ glow çš„æ¸²æŸ“åŠŸèƒ½ã€‚ æˆ‘è¿™é‡Œé…ç½®äº†å¿«æ·é”®ï¼šmp -- :MPToggle: toggle markdown preview open or close. -- :MPOpen: open markdown preview window. -- :MPClose: close markdown preview window. -- :MPRefresh: refresh markdown preview window. return { \"0x00-ketsu/markdown-preview.nvim\", ft = {'md', 'markdown', 'mkd', 'mkdn', 'mdwn', 'mdown', 'mdtxt', 'mdtext', 'rmd', 'wiki'}, cmd = { \"MPToggle\", \"MPOpen\", \"MPClose\", \"MPRefresh\" }, config = function() require('markdown-preview').setup { -- é…ç½®å¿«æ·é”®:mp vim.keymap.set( \"n\", \"mp\", \":MPToggle\u003cCR\u003e\", { silent = true }), glow = { -- When find executable path of `glow` failed (from PATH), use this value instead exec_path = '', style = '', -- Path to glamour JSON style file }, -- Markdown preview term term = { -- reload term when rendered markdown file changed reload = { enable = true, events = { 'InsertLeave', 'TextChanged' }, }, direction = 'vertical', -- choices: vertical / horizontal keys = { close = {'q', '\u003cEsc\u003e'}, refresh = 'r', } } } end } ","date":"2024-03-13","objectID":"/2024-03-13-nvim-%E9%85%8D%E7%BD%AE-markdown-%E5%AE%9E%E6%97%B6%E6%B8%B2%E6%9F%93/:2:0","tags":["nvim","markdown","glow"],"title":"nvim é…ç½® markdown å®æ—¶æ¸²æŸ“","uri":"/2024-03-13-nvim-%E9%85%8D%E7%BD%AE-markdown-%E5%AE%9E%E6%97%B6%E6%B8%B2%E6%9F%93/"},{"categories":["tool"],"content":" docker-compose version: \"3\" services: gitbook: hostname: gitbook container_name: gitbook image: fellah/gitbook pull_policy: always restart: always privileged: true tty: true volumes: - /data/gitbook:/srv/gitbook - /etc/localtime:/etc/localtime ports: - 4000:4000 command: - /bin/bash - -c - | /bin/bash ","date":"2024-03-07","objectID":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/:1:0","tags":["gitbook","docker"],"title":"docker å®‰è£… gitbook","uri":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/"},{"categories":["tool"],"content":" gitbook","date":"2024-03-07","objectID":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/:2:0","tags":["gitbook","docker"],"title":"docker å®‰è£… gitbook","uri":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/"},{"categories":["tool"],"content":" SUMMARY.md # Summary * [Introduction](README.md) * [bash](bash.md) ","date":"2024-03-07","objectID":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/:2:1","tags":["gitbook","docker"],"title":"docker å®‰è£… gitbook","uri":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/"},{"categories":["tool"],"content":" book.jonå¯¹äºæ•´ä¸ªç½‘ç«™çš„é£æ ¼ï¼Œå¯ä»¥é€šè¿‡ book.json çš„é…ç½®è¿›è¡Œæ¸²æŸ“ï¼š { \"plugins\": [ \"-sharing\", \"theme-comscore\" ] } ","date":"2024-03-07","objectID":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/:2:2","tags":["gitbook","docker"],"title":"docker å®‰è£… gitbook","uri":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/"},{"categories":["tool"],"content":" å¼€å§‹éƒ¨ç½² npm i gitbook-plugin-theme-default npm i gitbook-plugin-theme-comscore npm i -g gitbook-cli gitbook init . gitbook install gitbook serve . \u0026 Starting server ... Serving book on http://localhost:4000 ","date":"2024-03-07","objectID":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/:2:3","tags":["gitbook","docker"],"title":"docker å®‰è£… gitbook","uri":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/"},{"categories":["tool"],"content":" åˆ é™¤ publish with gitbookref: https://blog.tedxiong.com/how_to_remove_Published_with_GitBook_in_GitBook.html é¦–å…ˆï¼Œåœ¨bookçš„æ ¹ç›®å½•é‡Œåˆ›å»ºstylesæ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨å…¶ä¸­åˆ›å»ºwebsite.cssæ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹: .gitbook-link { display: none !important; } ç¼–è¾‘book.jsonæ–‡ä»¶ { \"styles\": { \"website\": \"styles/website.css\" } } ","date":"2024-03-07","objectID":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/:2:4","tags":["gitbook","docker"],"title":"docker å®‰è£… gitbook","uri":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/"},{"categories":null,"content":" é—œæ–¼æˆ‘ keep Calm and Markdown; To follow the path: look to the master, follow the master, walk with the master, see through the master, become the master. The world is full of fascinating problems waiting to be solved No problem should ever have to be solved twice Boredom and drudgery are evil Freedom is good Attitude is no substitute for competence ","date":"2024-03-01","objectID":"/about/:1:0","tags":null,"title":"é—œæ–¼","uri":"/about/"},{"categories":null,"content":"William's friends","date":"2024-03-01","objectID":"/friends/","tags":null,"title":"å‹æƒ…éˆæ¥","uri":"/friends/"},{"categories":null,"content":" Notice æ•°æ®ä¿å­˜åœ¨ /data/friends.yml ","date":"2024-03-01","objectID":"/friends/:0:0","tags":null,"title":"å‹æƒ…éˆæ¥","uri":"/friends/"},{"categories":null,"content":" åŸºæœ¬è³‡è¨Š - nickname: è èœçœ¾é•· avatar: https://lruihao.cn/images/avatar.jpg url: https://lruihao.cn description: ä¸æ€•è¬äººé˜»æ“‹ï¼Œåªæ€•è‡ªå·±æŠ•é™ ","date":"2024-03-01","objectID":"/friends/:1:0","tags":null,"title":"å‹æƒ…éˆæ¥","uri":"/friends/"},{"categories":["tool"],"content":" setfacl -R -m o::--- /home/ops/shared/ setfacl -m u:spd:x /home/ops setfacl -m u:spd:x /home/ops/shared setfacl -m u:spd:x /home/ops/shared/trading setfacl -R -m u:spd:rx /home/ops/shared/trading/{PublicInfo,lib,Snail,Spider} ","date":"2024-02-26","objectID":"/2024-02-26-setfacl-%E6%9B%B4%E7%B2%BE%E5%87%86%E6%8E%A7%E5%88%B6%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90/:0:0","tags":["linux","setfacl"],"title":"setfacl æ›´ç²¾å‡†æ§åˆ¶æ–‡ä»¶æƒé™","uri":"/2024-02-26-setfacl-%E6%9B%B4%E7%B2%BE%E5%87%86%E6%8E%A7%E5%88%B6%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90/"},{"categories":[],"content":" cd /app ./cloudreve --database-script ResetAdminPassword ","date":"2024-01-26","objectID":"/2024-01-26-cloudreve-%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81/:0:0","tags":[],"title":"cloudreve ä¿®æ”¹å¯†ç ","uri":"/2024-01-26-cloudreve-%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81/"},{"categories":[],"content":"red: https://www.reddit.com/r/cpp_questions/comments/1953267/how_do_i_learn_c_designarchitecture/ ","date":"2024-01-13","objectID":"/2024-01-13-reddit--how-do-i-learn-c-design-architecture/:0:0","tags":[],"title":"reddit: How do I learn C++ Design Architecture","uri":"/2024-01-13-reddit--how-do-i-learn-c-design-architecture/"},{"categories":[],"content":"https://gist.github.com/jacksonpradolima/840b4a20c617204a65b15da61e124bf6 ","date":"2024-01-13","objectID":"/2024-01-13-ubuntu-install-source-code-pro/:0:0","tags":[],"title":"ubuntu install source code pro","uri":"/2024-01-13-ubuntu-install-source-code-pro/"},{"categories":[],"content":"C++ æä¾›äº†å°å¯¹è±¡çš„ RVOï¼ˆè¿”å›å€¼ä¼˜åŒ–ï¼‰ï¼Œå®ç°äº†åœ¨å‡½æ•°è¿”å›ä¸­è°ƒç”¨æ„é€ å‡½æ•°çš„åŠŸèƒ½ã€‚ #include \u003ciostream\u003e #include \u003cstring\u003e #include \u003cvector\u003e class BigObject { public: BigObject() : person_names_(std::vector\u003cstd::string\u003e(1000000)) { std::cout \u003c\u003c \"constructor. \" \u003c\u003c person_names_.size() \u003c\u003c std::endl; } ~BigObject() { std::cout \u003c\u003c \"destructor. \" \u003c\u003c std::endl; } BigObject(const BigObject\u0026 other) { person_names_ = other.person_names_; std::cout \u003c\u003c \"copy constructor. \" \u003c\u003c person_names_.size() \u003c\u003c std::endl; } private: std::vector\u003cstd::string\u003e person_names_; }; BigObject Foo() { BigObject local_obj; return local_obj; // return std::move(local_obj); } int n {0}; struct C { explicit C(int) {} C(const C\u0026) { ++n; } int x {1}; }; int main() { { BigObject obj = Foo(); } //-----Foo() // : BigObject local_obj -\u003e ctor + copy ctor // : return local_obj -\u003e dtor //BigObject obj // : -\u003e copy ctor // -\u003e dtor // : -\u003e dtor C c1(42); // copy ctor is equivalent to direct-ctor C c2 = C(42); std::cout \u003c\u003c \"n:\" \u003c\u003c n \u003c\u003c std::endl; return 0; } /* g++ -g -fno-elide-constructors -Wall -std=c++11 main.cpp main.cpp: In function â€˜int main()â€™: main.cpp:49:7: warning: variable â€˜c2â€™ set but not used [-Wunused-but-set-variable] 49 | C c2 = C(42); | ^~ ./a.out constructor. 1000000 copy constructor. 1000000 destructor. copy constructor. 1000000 destructor. destructor. n:1 */ /* g++ -g main.cpp ./a.out constructor. 1000000 destructor. n:0 */ ","date":"2024-01-12","objectID":"/2024-01-12-c-copy-elision/:0:0","tags":[],"title":"c++ copy elision","uri":"/2024-01-12-c-copy-elision/"},{"categories":[],"content":"epub2pdf ","date":"2023-11-29","objectID":"/2023-11-29-epub-to-pdf/:0:0","tags":[],"title":"epub to pdf","uri":"/2023-11-29-epub-to-pdf/"},{"categories":["tools"],"content":" å®‰è£… ## CentOS wget https://github.com/sharkdp/bat/releases/download/v0.24.0/bat-v0.24.0-x86_64-unknown-linux-gnu.tar.gz tar -xvf bat-v0.24.0-x86_64-unknown-linux-gnu.tar.gz cd bat-v0.24.0-x86_64-unknown-linux-gnu cp ./bat ~/local/bin ","date":"2023-11-17","objectID":"/2023-11-17-bat--better-than-cat/:1:0","tags":["linux","cat","bat"],"title":"bat: better than cat","uri":"/2023-11-17-bat--better-than-cat/"},{"categories":["tools"],"content":" è®¾ç½® ## cat alias cat='~/local/bin/bat --style=plain' ## help alias bathelp='bat --plain --language=help' help() { \"$@\" --help 2\u003e\u00261 | bathelp } alias -g -- -h='-h 2\u003e\u00261 | bat --language=help --style=plain' alias -g -- --help='--help 2\u003e\u00261 | bat --language=help --style=plain' ## tail -f taillog() { tail -f $1 | bat --paging=never -l log } ## fzf alias fzfx='fzf --preview \"bat --color=always --style=numbers --line-range=:500 {}\"' ","date":"2023-11-17","objectID":"/2023-11-17-bat--better-than-cat/:2:0","tags":["linux","cat","bat"],"title":"bat: better than cat","uri":"/2023-11-17-bat--better-than-cat/"},{"categories":["tools"],"content":"nethogs å¯ä»¥é’ˆå¯¹ Linux æ“ä½œç³»ç»Ÿä¸‹å•ç‹¬çš„è¿›ç¨‹ç›‘æ§ç½‘ç»œå¸¦å®½ï¼Œå¯ä»¥ååˆ†æ–¹ä¾¿åœ°æ’æŸ¥å½“å‰å ç”¨æµé‡è¿‡å¤šçš„è¿›ç¨‹ã€‚ wget https://github.com/raboof/nethogs/archive/refs/tags/v0.8.7.tar.gz tar -xvf v0.8.7.tar.gz cd nethogs-0.8.7 ## ä¿®æ”¹å®‰è£…è·¯å¾„ Makefile make make install #export TERM=linux ln -sfn /usr/local/sbin/nethogs /usr/bin/nethogs ## é root ä¹Ÿèƒ½ä½¿ç”¨ ## running nethogs without root ## https://github.com/raboof/nethogs/issues/86 setcap \"cap_net_admin,cap_net_raw=ep\" /usr/sbin/nethogs ## https://github.com/raboof/nethogs/issues/142 setcap cap_net_admin,cap_net_raw,cap_dac_read_search,cap_sys_ptrace+ep /usr/local/sbin/nethogs export TERM=linux ","date":"2023-11-17","objectID":"/2023-11-17-nethogs/:0:0","tags":["linux","nethogs"],"title":"nethogs","uri":"/2023-11-17-nethogs/"},{"categories":["toolsj"],"content":"å®‰è£… Docky mkdir -p ~/Downloads/docky cd ~/Downloads/docky wget http://archive.ubuntu.com/ubuntu/pool/universe/g/gnome-sharp2/libgconf2.0-cil_2.24.2-4_all.deb wget http://archive.ubuntu.com/ubuntu/pool/main/g/glibc/multiarch-support_2.27-3ubuntu1_amd64.deb wget http://archive.ubuntu.com/ubuntu/pool/universe/libg/libgnome-keyring/libgnome-keyring-common_3.12.0-1build1_all.deb wget http://archive.ubuntu.com/ubuntu/pool/universe/libg/libgnome-keyring/libgnome-keyring0_3.12.0-1build1_amd64.deb wget http://archive.ubuntu.com/ubuntu/pool/universe/g/gnome-keyring-sharp/libgnome-keyring1.0-cil_1.0.0-5_amd64.deb sudo apt install ./*.deb wget http://archive.ubuntu.com/ubuntu/pool/universe/d/docky/docky_2.2.1.1-1_all.deb sudo apt install ./docky_2.2.1.1-1_all.deb ","date":"2023-11-10","objectID":"/2023-11-10-ubuntu-%E5%AE%89%E8%A3%85-docky/:0:0","tags":["linux","docky"],"title":"ubuntu å®‰è£… docky","uri":"/2023-11-10-ubuntu-%E5%AE%89%E8%A3%85-docky/"},{"categories":["tools"],"content":"zsh å‡ºç°é”™è¯¯æç¤º zsh compinit: insecure directories, run compaudit for list å…ˆè¿›å…¥ zsh ç¯å¢ƒ(é€‰æ‹© n)ï¼Œç„¶åæ‰§è¡Œ compaudit |xargs chmod g-w ","date":"2023-11-06","objectID":"/2023-11-06-zsh-compinit--insecure-directories-run-compaudit-for-list/:0:0","tags":["Linux","zsh","compinit"],"title":"zsh compinit: insecure directories, run compaudit for list","uri":"/2023-11-06-zsh-compinit--insecure-directories-run-compaudit-for-list/"},{"categories":["tools"],"content":"nerd font æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„å­—ä½“ï¼Œæä¾›äº†å¤§é‡çš„å›¾æ ‡ï¼Œå¯ä»¥ç”¨äº terminalã€vim ç­‰ç»ˆç«¯æ˜¾ç¤ºã€‚ #/bin/bash # install DroidSansMono Nerd Font --\u003e u can choose another at: https://www.nerdfonts.com/font-downloads echo \"[-] Download fonts [-]\" echo \"https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/DroidSansMono.zip\" wget https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/DroidSansMono.zip unzip DroidSansMono.zip -d ~/.fonts fc-cache -fv echo \"done!\" mkdir -p ~/.fonts wget https://github.com/ryanoasis/nerd-fonts/releases/download/v3.0.2/SourceCodePro.zip wget https://github.com/ryanoasis/nerd-fonts/releases/download/v3.0.2/NerdFontsSymbolsOnly.zip unzip SourceCodePro.zip cd SourceCodePro cp ./* ~/.fonts fc-cache -fv ","date":"2023-11-04","objectID":"/2023-11-04-nerd-font/:0:0","tags":["linux","nerd","fonts","symbolic","saucecodepro"],"title":"nerd font","uri":"/2023-11-04-nerd-font/"},{"categories":[],"content":"alacritty æ¯” terminator æ›´åŠ å¼ºå¤§ã€‚ apt install cmake pkg-config libfreetype6-dev libfontconfig1-dev libxcb-xfixes0-dev libxkbcommon-dev python3 apt-get update --fix-missing sudo apt install git curl cargo cd /tmp git clone https://github.com/alacritty/alacritty.git cd alacritty/ curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh source \"$HOME/.cargo/env\" rustup override set stable sudo apt install cmake pkg-config libfreetype6-dev libfontconfig1-dev libxcb-xfixes0-dev python3 cargo build --release cargo build --release sudo cp target/release/alacritty /usr/local/bin # or anywhere else in $PATH sudo cp extra/logo/alacritty-term.svg /usr/share/pixmaps/Alacritty.svg sudo desktop-file-install extra/linux/Alacritty.desktop sudo update-desktop-database ","date":"2023-11-03","objectID":"/2023-11-03-alacritty/:0:0","tags":[],"title":"alacritty","uri":"/2023-11-03-alacritty/"},{"categories":[],"content":" å¤„ç† tmux é—®é¢˜ ## https://github.com/alacritty/alacritty/issues/2487 export TERM=xterm-256color ## æˆ–è€…å°è¯•ä½¿ç”¨ä»¥ä¸‹é…ç½® export TERM=xterm tmux kill-server ","date":"2023-11-03","objectID":"/2023-11-03-alacritty/:1:0","tags":[],"title":"alacritty","uri":"/2023-11-03-alacritty/"},{"categories":[],"content":" å¤„ç† nvim é¢œè‰²æ˜¾ç¤ºé—®é¢˜ ## https://github.com/alacritty/alacritty/issues/3354 set-option -ga terminal-overrides \",alacritty:Tc\" set -g default-terminal \"alacritty\" ","date":"2023-11-03","objectID":"/2023-11-03-alacritty/:2:0","tags":[],"title":"alacritty","uri":"/2023-11-03-alacritty/"},{"categories":[],"content":" color issues ## tmux.conf ## alacrrity: https://github.com/alacritty/alacritty/issues/3354 set-option -ga terminal-overrides \",alacritty:Tc\" set -g default-terminal \"alacritty\" ## https://www.reddit.com/r/tmux/comments/onom6t/nvim_colors_change_if_on_tmux_on_alacritty/ set -g default-terminal 'xterm-256color' set -as terminal-overrides ',xterm*:Tc:sitm=\\E[3m' ## .zshrc ## alacritty export TERM=xterm-256color ## .bashrc ## colo ## .zshrc export TERM=xterm-256color ## .bashrc export TERM=xterm-256color ","date":"2023-11-03","objectID":"/2023-11-03-alacritty/:3:0","tags":[],"title":"alacritty","uri":"/2023-11-03-alacritty/"},{"categories":[],"content":" ä» yaml è½¬æ¢åˆ° toml alacritty migrate -c xxx.yaml ## æˆ–è€…æ‰¹é‡è½¬æ¢ find . -type f -name '*.yaml' | xargs -I {} alacritty migrate -c {} ","date":"2023-11-03","objectID":"/2023-11-03-alacritty/:4:0","tags":[],"title":"alacritty","uri":"/2023-11-03-alacritty/"},{"categories":[],"content":" Ref ä¸€ä¸ªé…ç½®çš„è¯´æ˜ alacritty.yml ","date":"2023-11-03","objectID":"/2023-11-03-alacritty/:5:0","tags":[],"title":"alacritty","uri":"/2023-11-03-alacritty/"},{"categories":["tools"],"content":" set encoding=utf-8 set termencoding=utf-8 set fileencodings=ucs-bom,utf-8,cp936,gb18030,big5,euc-jp,euc-kr set fileencoding=utf-8 ","date":"2023-10-30","objectID":"/2023-10-30-nvim-%E6%89%93%E5%BC%80%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81/:0:0","tags":["linux","vim","nvim","neovim","utf8"],"title":"nvim æ‰“å¼€ä¸­æ–‡ä¹±ç ","uri":"/2023-10-30-nvim-%E6%89%93%E5%BC%80%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81/"},{"categories":["tools"],"content":"æˆ‘ä»¬åœ¨è®¾è®¡ç»“æ„ä½“æ—¶ï¼Œéœ€è¦æ…é‡è€ƒè™‘å†…å­˜å¯¹é½çš„é—®é¢˜ï¼Œå› ä¸ºä¸åŒçš„å†…å­˜å¯¹é½æ–¹å¼å¯¹ç¨‹åºçš„æ€§èƒ½æœ‰æå¤§çš„å½±å“ã€‚ ","date":"2023-10-22","objectID":"/2023-10-22-c-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/:0:0","tags":["Linux","c++","struct","pack","align","memory","å†…å­˜å¯¹é½"],"title":"c++ å†…å­˜å¯¹é½","uri":"/2023-10-22-c-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/"},{"categories":["tools"],"content":" CPU è¯»å–å†…å­˜çš„æœ€å°æœ‰æ•ˆå€¼è®¡ç®—æœºçš„å†…å­˜æ˜¯æŒ‰ç…§ byte(8 bits) è¿›è¡Œæœ‰åºæ’åºï¼Œç†è®ºä¸Šï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æœ€å°æœ‰æ•ˆå€¼ä¸º 1 byte è¿›è¡Œéšæœºå†…å­˜è¯»å–ã€‚ç„¶è€Œï¼Œå¦‚æœæ¯æ¬¡éƒ½æ˜¯æŒ‰ç…§è¿™ä¸ªèŠ‚å¥ï¼Œæ¯å–ä¸€ä¸ª intï¼ˆå‡è®¾ä¸º 4byteï¼‰ å˜é‡ï¼ŒCPU éƒ½éœ€è¦è¿›è¡Œ 4 æ¬¡æ“ä½œï¼Œæ¯«æ— ç–‘é—®æ•ˆç‡æä½ã€‚ æˆ‘ä»¬çŸ¥é“ CPU æ¶æ„æœ‰ 32bit ä¸ 64bit ä¸¤ç§ï¼Œå…¶å«ä¹‰æ˜¯åœ¨ CPU æ¯æ¬¡ä»å†…å­˜åœ°å€å–å€¼æ—¶ï¼Œæ˜¯ä»¥å¯¹åº”æœ€å°æœ‰æ•ˆå†…å­˜åœ°å€è¿›è¡Œå¿«é€Ÿæ“ä½œçš„ã€‚ç®€å•è®² å¯¹äº 32bitï¼Œæœ€ä¼˜æ“ä½œä¸ºæ¯æ¬¡å– 4 byte çš„å†…å­˜ç©ºé—´è¿›è¡Œè¯†åˆ« å¯¹äº 64bitï¼Œæœ€ä¼˜æ“ä½œä¸ºæ¯æ¬¡å– 8 byte çš„å†…å­˜ç©ºé—´è¿›è¡Œè¯†åˆ« ç°åœ¨çš„æ“ä½œç³»ç»Ÿä¸€èˆ¬éƒ½æ˜¯ 64bit äº†ï¼Œæ‰€ä»¥æ¯æ¬¡çš„æœ€ä½³å–å†…å­˜åœ°å€ä¸º 8byteï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ç»å¸¸è¯´çš„ï¼Œå†…å­˜å¯¹é½æŒ‰ç…§ 8byteï¼Œä¹Ÿæ˜¯ç¼–è¯‘å™¨ gcc é»˜è®¤é‡‡ç”¨çš„å¤§å°ã€‚ #pragama pack(8) ","date":"2023-10-22","objectID":"/2023-10-22-c-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/:1:0","tags":["Linux","c++","struct","pack","align","memory","å†…å­˜å¯¹é½"],"title":"c++ å†…å­˜å¯¹é½","uri":"/2023-10-22-c-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/"},{"categories":["tools"],"content":" å¦‚æœè®¡ç®— struct çš„å†…å­˜å¤§å° å…ˆè®¡ç®—æ“ä½œç³»ç»Ÿ CPU çš„å¯¹é½å•ä½ï¼ˆä¸€èˆ¬ä¸º 8byteï¼‰ï¼Œæ ¹æ®ç»“æ„ä½“æˆå‘˜æœ€å¤§çš„å†…å­˜å•ä½ï¼Œå– ä¸¤è€…çš„æœ€å°å€¼ä½œä¸ºæœ‰æ•ˆå¯¹é½å•ä½(x) å¯¹äºç»“æ„ä½“çš„æ¯ä¸€ä¸ªæˆå‘˜ï¼Œå–å…¶å¤§å°ä¸æœ‰æ•ˆå¯¹é½å•ä½çš„è¾ƒå°è€…ï¼Œä½œä¸ºå•ä¸ªæˆå‘˜çš„æœ‰æ•ˆå•ä½(e)ã€‚ç¬¬ä¸€ä¸ªæˆå‘˜å˜é‡çš„åç§»å€¼ä» 0 å¼€å§‹ï¼ŒæŒ‰ç…§æ¯ä¸ªæˆå‘˜çš„æœ‰æ•ˆå¯¹é½å•ä½æ’åˆ—ï¼Œä¸è¶³ä¹‹å¤„è¿›è¡Œè¡¥ä½å¡«å…… æœ€åï¼Œæ•´ä¸ªç»“æ„ä½“è¿˜éœ€è¦æŒ‰ç…§æœ‰æ•ˆå¯¹é½å•ä½(x)çš„æ•´æ•°å€è¿›è¡Œå¡«å…… #include \u003ciostream\u003e using namespace std; #pragma pack(push) #pragma pack(4) struct { int a; double b; short c; } u; #pragma pack(pop) #pragma pack(push) #pragma pack(1) struct { int a; double b; short c; } v; #pragma pack(pop) struct { int a; double b; short c; } x; struct { int a; char b; short c; } y; struct { int a; char b; short c; } __attribute__((packed)) z; int main() { cout \u003c\u003c \"sizeof(u):\" \u003c\u003c sizeof(u) \u003c\u003c endl; cout \u003c\u003c \"sizeof(v):\" \u003c\u003c sizeof(v) \u003c\u003c endl; cout \u003c\u003c \"sizeof(x):\" \u003c\u003c sizeof(x) \u003c\u003c endl; cout \u003c\u003c \"sizeof(y):\" \u003c\u003c sizeof(y) \u003c\u003c endl; cout \u003c\u003c \"sizeof(z):\" \u003c\u003c sizeof(z) \u003c\u003c endl; return 0; } sizeof(u):16, int(4) + double(8) + short(2) = (14/4+1) * 4 = 16 sizeof(v):14, int(4) + double(8) + short(2) = 14/1 = 14 sizeof(x):24 ç»“æ„ä½“ x çš„æœ€å¤§æˆå‘˜ (double)b çš„å†…å­˜å ç”¨ 8ï¼Œæ“ä½œç³»ç»Ÿ64ä½ï¼Œåˆ™æœ‰æ•ˆå¯¹é½å•ä½ x = min(8,8) = 8 å¯¹äºç»“æ„ä½“çš„æ¯ä¸ªæˆå‘˜ sizeof(a) = 4 \u003c= 8, åˆ™æŒ‰ç…§4çš„å€æ•°è¿›è¡Œåç§»ï¼ˆ4byteï¼‰ï¼Œå ç”¨4ä¸ªå­—èŠ‚ï¼Œå·²ç”¨:4 sizeof(b) = 1 \u003c= 8, åˆ™æŒ‰ç…§1çš„å€æ•°è¿›è¡Œåç§»ï¼Œä»ï¼ˆ4byteï¼‰å¼€å§‹ï¼Œå…ˆå¯¹é½ 8 byteï¼Œå ç”¨ 8 byteï¼Œå·²ç”¨: 4 + 4(å¡«å……) + 8 = 16 sizeof(c) = 2 \u003c= 8, åˆ™æŒ‰ç…§2çš„å€æ•°è¿›è¡Œåç§»ï¼Œä»ä¸Šé¢ 16 åé¢æŒ‰ç…§ 2 çš„å€æ•°ï¼Œå ç”¨ä¸¤ä¸ªå­—èŠ‚ï¼Œå·²ç”¨ï¼š16 + 2 = 18 æœ€åï¼Œæ•´ä¸ªç»“æ„ä½“å†æŒ‰ç…§ x=8 çš„å€æ•°å¯¹é½ï¼Œ(18/8+1) * 8 = 24ï¼Œæ‰€ä»¥æ•´ä¸ªç»“æ„ä½“å¤§å°ä¸º24å­—èŠ‚ å†…å­˜ç©ºé—´ä¸º xxxx ____ xxxxxxxx xx ______ 4 pad(4) 8 2 pad(6) sizeof(y):8 ç»“æ„ä½“ y çš„æœ€å¤§æˆå‘˜ a çš„å†…å­˜å ç”¨ 4ï¼Œæ“ä½œç³»ç»Ÿ64ä½ï¼Œåˆ™æœ‰æ•ˆå¯¹é½å•ä½ x = min(4,8) = 4 å¯¹äºç»“æ„ä½“çš„æ¯ä¸ªæˆå‘˜ sizeof(a) = 4 \u003c= 4, åˆ™æŒ‰ç…§4çš„å€æ•°è¿›è¡Œåç§»ï¼ˆ4byteï¼‰ï¼Œå ç”¨4ä¸ªå­—èŠ‚ï¼Œå·²ç”¨:4 sizeof(b) = 1 \u003c= 4, åˆ™æŒ‰ç…§1çš„å€æ•°è¿›è¡Œåç§»ï¼Œä»ï¼ˆ4byteï¼‰å¼€å§‹ï¼Œå ç”¨ä¸€ä¸ªå­—èŠ‚ï¼Œå·²ç”¨: 4 + 1 = 5 sizeof(c) = 2 \u003c= 4, åˆ™æŒ‰ç…§2çš„å€æ•°è¿›è¡Œåç§»ï¼Œä»ä¸Šé¢ 5 åé¢æŒ‰ç…§ 2 çš„å€æ•°ï¼Œå ç”¨ä¸¤ä¸ªå­—èŠ‚ï¼Œå·²ç”¨ï¼š5 + 1(å¡«å……) + 2 = 8 æœ€åï¼Œæ•´ä¸ªç»“æ„ä½“å†æŒ‰ç…§ x=4 çš„å€æ•°å¯¹é½ï¼Œåˆšå¥½ä¸º 8ï¼Œæ‰€ä»¥æ•´ä¸ªç»“æ„ä½“å¤§å°ä¸º8å­—èŠ‚ sizeof(z):7 æˆ‘ä»¬å‘Šè¯‰ç¼–è¯‘å™¨ä¸ç”¨å¯¹é½ï¼Œæ‰€ä»¥æŒ‰ç…§å®é™…å ç”¨çš„å­—èŠ‚å ç”¨ 7 byte. ","date":"2023-10-22","objectID":"/2023-10-22-c-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/:2:0","tags":["Linux","c++","struct","pack","align","memory","å†…å­˜å¯¹é½"],"title":"c++ å†…å­˜å¯¹é½","uri":"/2023-10-22-c-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/"},{"categories":["tools"],"content":" ä½¿ç”¨ pack æŒ‡å®šå¯¹é½å¯ä»¥ä½¿ç”¨ç¼–è¯‘å™¨æä¾›çš„ pack(n) æŒ‡å®šå¯¹é½å¤§å°ï¼š #pragma pack(n) æˆ–è€…ä½¿ç”¨å‹æ ˆçš„æ–¹å¼ #pragma pack(push, n) #pragma pop() ","date":"2023-10-22","objectID":"/2023-10-22-c-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/:3:0","tags":["Linux","c++","struct","pack","align","memory","å†…å­˜å¯¹é½"],"title":"c++ å†…å­˜å¯¹é½","uri":"/2023-10-22-c-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/"},{"categories":["tools"],"content":" ä¸åŒå†…å­˜å¯¹é½å½±å“ç¨‹åºæ€§èƒ½ ## å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ 64 ä½æ“ä½œç³»ç»Ÿä¸­ï¼Œæœ€ä½³å®è·µä¸º 8byte å¯¹é½ SampleStructPack1: 1000000000000000000 bytes allocated in 8202 nanoseconds SampleStructPack2: 1200000000000000000 bytes allocated in 276 nanoseconds SampleStructPack4: 1600000000000000000 bytes allocated in 205 nanoseconds SampleStructPack4: 1600000000000000000 bytes allocated in 131 nanoseconds ç¨‹åºå¦‚ä¸‹ï¼š #include \u003ciostream\u003e #include \u003cchrono\u003e #pragma pack (1) struct SampleStructPack1 { bool flag; unsigned int timeout; }; //#pragma pack(0) #pragma pack (2) struct SampleStructPack2 { bool flag; unsigned int timeout; }; // #pragma pack(0) #pragma pack (4) struct SampleStructPack4 { bool flag; unsigned int timeout; }; // #pragma pack(0) #pragma pack (8) struct SampleStructPack8 { bool flag; unsigned int timeout; }; // #pragma pack(0) struct SampleStruct { bool flag; unsigned int timeout; }; static const long long MAX_ELEMENTS = 200000000000000000; using namespace std; using namespace std::chrono; void allocate1() { SampleStructPack1 elements [MAX_ELEMENTS]; cout \u003c\u003c \"SampleStructPack1: \" \u003c\u003c sizeof(elements) \u003c\u003c \" bytes allocated\"; } void allocate2() { SampleStructPack2 elements [MAX_ELEMENTS]; cout \u003c\u003c \"SampleStructPack2: \" \u003c\u003c sizeof(elements) \u003c\u003c \" bytes allocated\"; } void allocate4() { SampleStructPack4 elements [MAX_ELEMENTS]; cout \u003c\u003c \"SampleStructPack4: \" \u003c\u003c sizeof(elements) \u003c\u003c \" bytes allocated\"; } void allocate8() { SampleStructPack8 elements [MAX_ELEMENTS]; cout \u003c\u003c \"SampleStructPack8: \" \u003c\u003c sizeof(elements) \u003c\u003c \" bytes allocated\"; } void chrono1() { auto begin = high_resolution_clock::now() ; allocate1(); cout \u003c\u003c \" in \" \u003c\u003c duration_cast\u003cnanoseconds\u003e(high_resolution_clock::now() - begin).count() \u003c\u003c \" nanoseconds\" \u003c\u003c endl; } void chrono2() { auto begin = high_resolution_clock::now() ; allocate2(); cout \u003c\u003c \" in \" \u003c\u003c duration_cast\u003cnanoseconds\u003e(high_resolution_clock::now() - begin).count() \u003c\u003c \" nanoseconds\" \u003c\u003c endl; } void chrono4() { auto begin = high_resolution_clock::now() ; allocate4(); cout \u003c\u003c \" in \" \u003c\u003c duration_cast\u003cnanoseconds\u003e(high_resolution_clock::now() - begin).count() \u003c\u003c \" nanoseconds\" \u003c\u003c endl; } void chrono8() { auto begin = high_resolution_clock::now() ; allocate4(); cout \u003c\u003c \" in \" \u003c\u003c duration_cast\u003cnanoseconds\u003e(high_resolution_clock::now() - begin).count() \u003c\u003c \" nanoseconds\" \u003c\u003c endl; } int main(int argc, char *argv[]) { chrono1(); chrono2(); chrono4(); chrono8(); return 0; } ","date":"2023-10-22","objectID":"/2023-10-22-c-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/:4:0","tags":["Linux","c++","struct","pack","align","memory","å†…å­˜å¯¹é½"],"title":"c++ å†…å­˜å¯¹é½","uri":"/2023-10-22-c-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/"},{"categories":["tools"],"content":" old-style:[0]æˆ‘åœ¨æŸ¥çœ‹ä»£ç çš„æ—¶å€™ï¼Œå‘ç°æœ‰ä¸€ä¸ª struct æœ‰ é•¿åº¦ä¸º0 çš„æ•°ç»„ã€‚ struct data_t { size_t size; int data[0]; }; å¦‚æœæ‰“å°å‡ºä¸Šé¢ç»“æ„ä½“ï¼Œå‘ç°é•¿åº¦æ­£å¥½ä¸º size_tï¼Œå…¶ä¸­çš„ data æ˜¯ä¸å ç”¨å†…å­˜çš„ã€‚ cout \u003c\u003c \"sizeof(size_t):\" \u003c\u003c sizeof(size_t) \u003c\u003c endl; cout \u003c\u003c \"sizeof(data_t):\" \u003c\u003c sizeof(data_t) \u003c\u003c endl; //sizeof(size_t):8 //sizeof(data_t):8 åŸæ¥ï¼Œè¿™æ ·åšçš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†å¯ä»¥æ·»åŠ ä¸é™é•¿åº¦çš„æ•°ç»„ï¼Œé€šè¿‡ malloc åˆ†é…å†…å­˜å¤§å°ï¼Œä»è€Œå®ç°åœ¨ä»£ç ä¸­çµæ´»åˆ†é…æ•°æ®çš„ç›®çš„ã€‚ data_t* get_data(size_t size) { data_t* d = (data_t*) malloc(sizeof(data_t) + size * sizeof(int)); if (d) d-\u003esize = size; return d; } ","date":"2023-10-20","objectID":"/2023-10-20-c-array-of-zero-length/:1:0","tags":["linux","c++","cpp","array"],"title":"c++ array of ZERO length","uri":"/2023-10-20-c-array-of-zero-length/"},{"categories":["tools"],"content":" new-style:[]å…¶å®ï¼Œè¿™æ˜¯ä¸€ç§æ¯”è¾ƒå¤è€çš„å†™æ³•ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥ä½¿ç”¨ arr[] (flexible array member) æ¥æ›¿ä»£ struct data_t { size_t size; //In C99 standard this is not neccessary as it supports the arr[] syntax. int data[]; }; å®Œæ•´çš„æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š #include \u003ciostream\u003e #include \u003cstring\u003e #include \u003cvector\u003e #include \u003ccstdlib\u003e using namespace std; struct data_t { size_t size; //This is an old C hack to allow a flexible sized arrays. int data[0]; //In C99 standard this is not neccessary as it supports the arr[] syntax. //int data[]; }; data_t* get_data(size_t size) { data_t* d = (data_t*) malloc(sizeof(data_t) + size * sizeof(int)); if (d) d-\u003esize = size; return d; } int main() { cout \u003c\u003c \"sizeof(size_t):\" \u003c\u003c sizeof(size_t) \u003c\u003c endl; cout \u003c\u003c \"sizeof(data_t):\" \u003c\u003c sizeof(data_t) \u003c\u003c endl; auto x = get_data(10); for (size_t i = 0; i \u003c x-\u003esize; ++i) x-\u003edata[i] = i*i; for (size_t i = 0; i \u003c x-\u003esize; ++i) cout \u003c\u003c \"x[\" \u003c\u003c i \u003c\u003c \"]:\" \u003c\u003c x-\u003edata[i] \u003c\u003c endl; return 0; } ","date":"2023-10-20","objectID":"/2023-10-20-c-array-of-zero-length/:2:0","tags":["linux","c++","cpp","array"],"title":"c++ array of ZERO length","uri":"/2023-10-20-c-array-of-zero-length/"},{"categories":["tools"],"content":" best-style:[1]ä¸Šé¢çš„åšæ³•æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœä½¿ç”¨ç¼–è¯‘å™¨é€‰é¡¹ -pedantic ä¼šæœ‰æŠ¥é”™æç¤ºï¼š ## å¯¹äº int data[0] main.cpp:11:14: warning: ISO C++ forbids zero-size array â€˜dataâ€™ [-Wpedantic] 11 | int data[0]; | ^ ## å¯¹äº int data[] main.cpp:13:9: warning: ISO C++ forbids flexible array member â€˜dataâ€™ [-Wpedantic] 13 | int data[]; | ^~~~ Itâ€™s worth pointing out IMO the best way to do the size calculation, which is used in the Raymond Chen article linked above. struct data_t { size_t size; int data[1]; }; data_t* get_data(size_t size) { // ä½¿ç”¨ offsetof è®¡ç®—å‡º data[size] å ç”¨çš„å¤§å° data_t* d = (data_t*) malloc(offsetof(data_t, data[size])); if (d) d-\u003esize = size; return d; } å®Œæ•´çš„æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š #include \u003ccstddef\u003e #include \u003ciostream\u003e #include \u003cstring\u003e #include \u003cvector\u003e #include \u003ccstdlib\u003e using namespace std; struct data_t { size_t size; int data[1]; }; data_t* get_data(size_t size) { data_t* d = (data_t*) malloc(offsetof(data_t, data[size])); if (d) d-\u003esize = size; return d; } int main() { cout \u003c\u003c \"sizeof(size_t):\" \u003c\u003c sizeof(size_t) \u003c\u003c endl; cout \u003c\u003c \"sizeof(data_t):\" \u003c\u003c sizeof(data_t) \u003c\u003c endl; auto x = get_data(20); for (size_t i = 0; i \u003c x-\u003esize; ++i) x-\u003edata[i] = i*i; cout \u003c\u003c \"x.size:\" \u003c\u003c x-\u003esize \u003c\u003c endl; for (size_t i = 0; i \u003c x-\u003esize; ++i) cout \u003c\u003c \"x[\" \u003c\u003c i \u003c\u003c \"]:\" \u003c\u003c x-\u003edata[i] \u003c\u003c endl; return 0; } ","date":"2023-10-20","objectID":"/2023-10-20-c-array-of-zero-length/:3:0","tags":["linux","c++","cpp","array"],"title":"c++ array of ZERO length","uri":"/2023-10-20-c-array-of-zero-length/"},{"categories":["tools"],"content":" Ref: Array of zero length Why do some structures end with an array of size 1? ","date":"2023-10-20","objectID":"/2023-10-20-c-array-of-zero-length/:4:0","tags":["linux","c++","cpp","array"],"title":"c++ array of ZERO length","uri":"/2023-10-20-c-array-of-zero-length/"},{"categories":["tools"],"content":"ä½¿ç”¨ talebook ## ä½¿ç”¨ docker å®‰è£… docker pull talebook/talebook git clone https://github.com/talebook/talebook.git cd talebook docker-compose -f docker-compose.yml up -d ## è®¿é—®ï¼š 127.0.0.1:8080 ## åˆæ¬¡å®‰è£…ä¼šè¦æ±‚è®¾ç½®è´¦æˆ·ã€å¯†ç  ## ç®¡ç†å‘˜ ## è´¦æˆ·ï¼šadmin ## å¯†ç ï¼š****** ","date":"2023-10-15","objectID":"/2023-10-15-talebook-%E5%9C%A8%E7%BA%BF%E4%B8%AA%E4%BA%BA%E5%9B%BE%E4%B9%A6%E9%A6%86-%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97/:0:0","tags":["linux","talebook","kindle","è¯»ä¹¦","é˜…è¯»","åœ¨çº¿","å›¾ä¹¦é¦†","mobi","pdf"],"title":"talebook åœ¨çº¿ä¸ªäººå›¾ä¹¦é¦† å®‰è£…æŒ‡å—","uri":"/2023-10-15-talebook-%E5%9C%A8%E7%BA%BF%E4%B8%AA%E4%BA%BA%E5%9B%BE%E4%B9%A6%E9%A6%86-%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97/"},{"categories":["tools"],"content":"å°è¯•ä½¿ç”¨ neovimï¼Œå¯ä»¥é‡å¤åˆ©ç”¨ lua è¿™ä¸ªç¼–ç¨‹è¯­è¨€ã€‚ ","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:0:0","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":" å®‰è£… ## ä¸‹è½½äºŒè¿›åˆ¶ wget https://github.com/neovim/neovim/releases/latest/download/nvim-linux64.tar.gz tar -xvf nvim-linux64.tar.gz ## æ·»åŠ åˆ°ç³»ç»Ÿè·¯å¾„ sudo cp -r nvim-linux64 /usr/local/ sudo ln -sfn /usr/local/nvim-linux64/bin/nvim /usr/bin/nvim ## æŸ¥çœ‹ç‰ˆæœ¬ $ nvim --version NVIM v0.9.4 Build type: Release LuaJIT 2.1.1692716794 system vimrc file: \"$VIM/sysinit.vim\" fall-back for $VIM: \"/__w/neovim/neovim/build/nvim.AppDir/usr/share/nvim\" Run :checkhealth for more info ## æ‰“å¼€ nvimï¼Œæ‰§è¡Œ :checkhealth Configuration - WARNING Missing user config file: /home/william/.config/nvim/init.vim - ADVICE: - :help nvim-from-vim Runtime - OK $VIMRUNTIME: /usr/local/nvim-linux64/share/nvim/runtime Performance - OK Build type: Release Remote Plugins - OK Up to date terminal - key_backspace (kbs) terminfo entry: key_backspace= - key_dc (kdch1) terminfo entry: key_dc= - $TERM_PROGRAM=\"tmux\" ","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:1:0","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":" é…ç½®nvim é»˜è®¤ä¼šè¯»å–åˆå§‹åŒ–æ–‡ä»¶ init.lua init.vim ## nvim çš„é…ç½®æ–‡ä»¶åœ¨ mkdir -p ~/.config/nvim cd ~/.config/nvim ","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:2:0","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":" é…ç½®é€‰é¡¹ä¸»è¦ç”¨åˆ°çš„å°±æ˜¯ vim.gã€vim.optã€vim.cmd ç­‰ In Vim In Nvim Note let g:foo = bar vim.g.foo = bar set foo = bar vim.opt.foo = bar set foo = vim.opt.foo = true some_vimscript vim.cmd(some_vimscript) ","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:2:1","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":" æ’ä»¶ç®¡ç† lazy.nvimref: lazy-nvimæ’ä»¶ç®¡ç†å™¨åŸºç¡€å…¥é—¨ ## æ·»åŠ  init.lua vim ~/.config/nvim/init.lua -- bootstrap lazy.nvim -- ./lua/lazynvim-init.lua require(\"lazynvim-init\") ## è®¾ç½® lazynvim vim ~/.config/nvim/lua/lazynvim-init.lua -- 1. å‡†å¤‡lazy.nvimæ¨¡å—ï¼ˆå­˜åœ¨æ€§æ£€æµ‹ï¼‰ -- stdpath(\"data\") -- macOS/Linux: ~/.local/share/nvim -- Windows: ~/AppData/Local/nvim-data local lazypath = vim.fn.stdpath(\"data\") .. \"/lazy/lazy.nvim\" if not vim.loop.fs_stat(lazypath) then vim.fn.system({ \"git\", \"clone\", \"--filter=blob:none\", \"https://github.com/folke/lazy.nvim.git\", \"--branch=stable\", -- latest stable release lazypath, }) end -- -- 2. å°† lazypath è®¾ç½®ä¸ºè¿è¡Œæ—¶è·¯å¾„ -- rtpï¼ˆruntime pathï¼‰ -- nvimè¿›è¡Œè·¯å¾„æœç´¢çš„æ—¶å€™ï¼Œé™¤å·²æœ‰çš„è·¯å¾„ï¼Œè¿˜ä¼šä»prependçš„è·¯å¾„ä¸­æŸ¥æ‰¾ -- å¦åˆ™ï¼Œä¸‹é¢ require(\"lazy\") æ˜¯æ‰¾ä¸åˆ°çš„ vim.opt.rtp:prepend(lazypath) -- 3. åŠ è½½lazy.nvimæ¨¡å— -- require(\"lazy\").setup({}) -- åœ¨ ~/.config/nvim/lua/plugins å®‰è£…æ’ä»¶ require(\"lazy\").setup(\"plugins\") ## æ‰“å¼€ nvim éªŒè¯ lazynvim :Lazy ## å®‰è£… plugin mkdir -p ~/.config/nvim/lua/plugins vim ~/.config/nvim/lua/plugins/plugin-lualine.lua return { { 'nvim-lualine/lualine.nvim', config = function() require('lualine').setup() end } } vim-plug ## ä½¿ç”¨ vim-plug: https://github.com/junegunn/vim-plug ## å­˜æ”¾åœ¨ ~/.config/nvimï¼Œé¿å…ä¸ vim å†²çª curl -fLo ~/.config/nvim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim ## éœ€è¦å®‰è£… pynvim ## python3 -m pip install --user --upgrade pynvim ## å®‰è£…ç›¸å…³çš„æ’ä»¶ï¼Œä½ç½®åœ¨ï¼š~/.config/nvim/plugged vim ~/.config/nvim/init.vim \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \"å¦‚æœvimæ’ä»¶ç®¡ç†å™¨æ²¡æœ‰å®‰è£…åˆ™è‡ªåŠ¨å®‰è£… if empty(glob('~/.config/nvim/autoload/plug.vim')) silent !curl -fLo ~/.config/nvim/autoload/plug.vim --create-dirs \\ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim autocmd VimEnter * PlugInstall --sync | source $MYVIMRC endif \"\" è®¾ç½®vimå¯ä»¥ä¿å­˜æ–‡ä»¶ä¿®æ”¹å†å² silent !mkdir -p ~/.config/nvim/tmp/backup silent !mkdir -p ~/.config/nvim/tmp/undo \"\"silent !mkdir -p ~/.config/nvim/tmp/sessions set backupdir=~/.config/nvim/tmp/backup,. set directory=~/.config/nvim/tmp/backup,. if has('persistent_undo') set undofile set undodir=~/.config/nvim/tmp/undo,. endif call plug#begin('~/.config/nvim/plugged') Plug 'sainnhe/everforest' call plug#end() ","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:2:2","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":" å¿«æ·é”®","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:2:3","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":" ä¸»é¢˜é…è‰²","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:2:4","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":" ä»¥ vimrc ä½œä¸ºåŸºæœ¬å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ .vimrc ä½œä¸ºé…ç½® # CONFIG_PATH=$HOME/.config # ln -s ~/.vim $CONFIG_PATH/nvim # ln -s ~/.vimrc $CONFIG_PATH/nvim/init.vim ","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:2:5","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":" lsp ## nvim 'iostream' file not found sudo apt install libstdc++-12-dev ","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:2:6","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":" python /home/lfang/.config/nvim/lazy/mason/packages/python-lsp-server/venv/pyvenv.cfg home = /home/lfang/anaconda3/bin ## true include-system-site-packages = true version = 3.9.12 ","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:2:7","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":" Ref: å…³äº bufferline.lua çš„åˆç†é…ç½® æ¯”è¾ƒè§„èŒƒçš„ä¸€ä¸ªé…ç½®é¡¹ç›®ï¼šnvim åŠŸèƒ½å¼ºå¤§ .config Neovimå°ç»“ nvimé…ç½®æ–‡ä»¶ (Ubuntu 18.04 æµ‹è¯•æˆåŠŸ) ä»é›¶å¼€å§‹é…ç½® Neovim(Nvim) ä½¿ç”¨ init.vim ","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:3:0","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":"ä¸€ç›´åœ¨å…¥å‘ï¼Œå´ä»æœªçˆ¬å‡ºæ¥ã€‚ Install wget https://mirrors.tuna.tsinghua.edu.cn/gnu/emacs/emacs-29.1.tar.gz tar -xvf emacs-29.1.tar.gz cd emacs-29.1 ## å‡†å¤‡å®‰è£…ç¯å¢ƒ sudo apt build-dep emacs ## ./configure --with-x-toolkit=no --with-xpm=ifavailable --with-gif=ifavailable --with-pop DoomEmacs git clone --depth 1 https://github.com/hlissner/doom-emacs ~/.emacs.d ## æ·»åŠ åˆ°ç¯å¢ƒå˜é‡çš„å¯æ‰§è¡Œè·¯å¾„ export PATH=/home/william/.emacs.d/bin:$PATH åœ¨ä¿®æ”¹äº†~/.doom.d/init.el å’Œ ~/.doom.d/packages.el åéœ€è¦æ‰§è¡Œ doom sync å¦‚æœæœ‰é—®é¢˜å°±è¿è¡Œ doom doctor å¦‚æœéœ€è¦æ›´æ–°å°±è¿è¡Œ doom upgrade å¯ä»¥åœ¨ Emacs å†…é€šè¿‡ SPC h d h æ¥æŸ¥çœ‹æ–‡æ¡£ å¯ä»¥é€šè¿‡å‘½ä»¤æŸ¥çœ‹å¯åŠ¨æ—¶é—´ï¼šM-x emacs-init-time å­—ä½“ref: https://github.com/seagle0128/doom-modeline/issues/310 @bk138 Currently nerd-icons is used in doom-modeline, while all-the-icons has been dropped. You should install nerd-fonts via M-x nerd-icons-install-fonts. Please read REAME. ## å®‰è£… nerd symbol font wget https://github.com/ryanoasis/nerd-fonts/releases/download/v3.0.2/NerdFontsSymbolsOnly.zip unzip NerdFontsSymbolsOnly.zip cd NerdFontsSymbolsOnly cp *ttf ~/.local/share/fonts ## æ›´æ–°å­—ä½“ç¼“å­˜ fc-cache -fv fc-list |grep -i nerd ## æ¸…ç†åŸæ¥çš„ font cd /home/william/.emacs.d/.local/straight/repos rm all-the-icons.el cd /home/william/.emacs.d/.local/straight/build-29.1 rm -rf all-the-icons ## é‡æ–°åŠ è½½ doom sync \u0026\u0026 doom build ## å®‰è£…å¿…è¦çš„å­—ä½“åŒ… M-x all-the-icons-install-fonts M-x nerd-icons-install-fonts ","date":"2023-10-11","objectID":"/2023-10-11-emacs-%E5%85%A5%E5%9D%91/:0:0","tags":["Linux","Emacs"],"title":"Emacs å…¥å‘","uri":"/2023-10-11-emacs-%E5%85%A5%E5%9D%91/"}]