[{"categories":["programming"],"content":"data cache åœ¨ç”¨æˆ·è°ƒç”¨èµ„æºå¼€è¾Ÿä¸€å—ç¼“å­˜åŒºåŸŸï¼Œä¿å­˜äº†ä¸­é—´çš„è®¡ç®—ç»“æœï¼Œå¯ä»¥é¿å…é‡å¤è®¡ç®—ã€‚ ","date":"2024-03-22","objectID":"/2024-03-22-data-cache-%E7%9A%84%E5%A6%99%E7%94%A8/:0:0","tags":["data","cache","python","lru"],"title":"data cache çš„å¦™ç”¨","uri":"/2024-03-22-data-cache-%E7%9A%84%E5%A6%99%E7%94%A8/"},{"categories":["programming"],"content":"AT\u0026T æ±‡ç¼–æ˜¯ Linux æ“ä½œç³»ç»Ÿé»˜è®¤çš„æ±‡ç¼–è¯­è¨€ã€‚ç†Ÿæ‚‰æ±‡ç¼–è¯­è¨€èƒ½å¤Ÿå¢å¼ºæˆ‘ä»¬å¯¹ç¨‹åºè¿è¡Œé€»è¾‘çš„è®¤è¯†ï¼Œç†è§£ç¨‹åºè¿è¡Œçš„æ€§èƒ½ç“¶é¢ˆã€‚ Ref x86 Assembly Guide Introduction to Compilers and Language Design Function Calls and the Call Stack ä½ ä¸€å®šè¦ææ˜ç™½çš„Cå‡½æ•°è°ƒç”¨æ–¹å¼ä¸æ ˆåŸç† ç¬¬ 1 ç«  C++ æƒ¯ç”¨æ³• C++ å‡½æ•°è°ƒç”¨æ ˆ ","date":"2024-03-19","objectID":"/2024-03-19-att-%E6%B1%87%E7%BC%96%E8%AF%AD%E6%B3%95/:0:0","tags":["AT\u0026t","att","assemble","gcc","g++","c++","c","intel","æ±‡ç¼–"],"title":"ATT æ±‡ç¼–è¯­æ³•","uri":"/2024-03-19-att-%E6%B1%87%E7%BC%96%E8%AF%AD%E6%B3%95/"},{"categories":["tools"],"content":"æˆ‘åœ¨å¤šå¹´å‰è´­ä¹°äº†ä¸€æ¬¾ç½—æŠ€æ— çº¿è“ç‰™é¼ æ ‡ Master 3Sï¼Œä½¿ç”¨æ„Ÿè§‰æ˜¯ç›¸å½“å¾—ä¸æ»‘ã€‚ä¸è¿‡éå¸¸é—æ†¾ï¼Œæˆ‘è¿™æ¬¡è¿‡å¹´å›å®¶ï¼Œä¸å°å¿ƒæŠŠé¼ æ ‡çš„è“ç‰™é€‚é…å™¨å¼„ä¸¢äº†ï¼Œå¯¼è‡´æœ€è¿‘åŠå…¬åªèƒ½ä½¿ç”¨æˆ´å°”èµ é€çš„æœ‰çº¿é¼ æ ‡ã€‚ä½“éªŒæ„Ÿä¸æ˜¯ç‰¹åˆ«å¥½ã€‚ ä»Šå¤©çªå‘å¥‡æƒ³ï¼Œæˆ‘åŸå…ˆä¹Ÿæœ‰ä¸€ä¸ªæ—§çš„ç½—æŠ€è“ç‰™é¼ æ ‡ï¼ˆåˆä»£Masterï¼‰ï¼Œä½•ä¸åˆ©ç”¨æ—§çš„è“ç‰™é€‚é…å™¨æ¥é…å¯¹è¿™æ¬¾ Master 3s ï¼Ÿ å®˜ç½‘è½¯ä»¶é¦–å…ˆé‡åˆ°çš„é—®é¢˜æ˜¯ï¼šç”±äºç½—æŠ€å‡ºäº§é…å¯¹ä½¿ç”¨çš„æ˜¯é¼ æ ‡çš„é€šé“ï¼Œå¦‚æœéœ€è¦ç”¨å…¶ä»–è“è‰²æ¥æ”¶å™¨é‡æ–°é…å¯¹ï¼Œåˆ™è¦é€šè¿‡ç½—æŠ€æä¾›çš„è½¯ä»¶è¿›è¡Œé‡æ–°é…å¯¹çš„æ“ä½œã€‚é—æ†¾çš„æ˜¯ï¼ˆå¤§éƒ¨åˆ†å‚å•†ï¼‰éƒ½åªæä¾› Window å’Œ Mac æ“ä½œç³»ç»Ÿä¸‹çš„è½¯ä»¶ç‰ˆæœ¬ï¼Œè€Œæ²¡æœ‰å¼€å‘ Linux ç‰ˆæœ¬ã€‚è¿™å¯¼è‡´æˆ‘æ— æ³•ä»å®˜ç½‘è·å–è½¯ä»¶æ”¯æŒã€‚ Logi Options+ Linux å¼€æºè½¯ä»¶","date":"2024-03-18","objectID":"/2024-03-18-linux-%E9%85%8D%E5%AF%B9%E7%BD%97%E6%8A%80%E8%93%9D%E7%89%99%E9%BC%A0%E6%A0%87/:0:0","tags":["linux","logitech","é¼ æ ‡","solaar","ç½—æŠ€"],"title":"Linux é…å¯¹ç½—æŠ€è“ç‰™é¼ æ ‡","uri":"/2024-03-18-linux-%E9%85%8D%E5%AF%B9%E7%BD%97%E6%8A%80%E8%93%9D%E7%89%99%E9%BC%A0%E6%A0%87/"},{"categories":["tools"],"content":" é‡äº‹ä¸å†³ï¼Œgoogle è§£å†³å½“ç„¶ï¼Œé‡äº‹ä¸å†³ï¼Œgoogle è§£å†³ã€‚æˆ‘ä»¥å…³é”®è¯ Logi Options+ linux æ£€ç´¢ï¼Œç¬¬ä¸€ä¸ªè·³å‡º StackOverflow:Logitech Options on Linux https://askubuntu.com/questions/1206369/logitech-options-on-linux æŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•ï¼Œå¼€å§‹å®‰è£… solaar sudo apt install solaar solaar ","date":"2024-03-18","objectID":"/2024-03-18-linux-%E9%85%8D%E5%AF%B9%E7%BD%97%E6%8A%80%E8%93%9D%E7%89%99%E9%BC%A0%E6%A0%87/:1:0","tags":["linux","logitech","é¼ æ ‡","solaar","ç½—æŠ€"],"title":"Linux é…å¯¹ç½—æŠ€è“ç‰™é¼ æ ‡","uri":"/2024-03-18-linux-%E9%85%8D%E5%AF%B9%E7%BD%97%E6%8A%80%E8%93%9D%E7%89%99%E9%BC%A0%E6%A0%87/"},{"categories":["tools"],"content":" solaaræ‰“å¼€ solaar åï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥éœ€è¦æ·»åŠ æ–°è®¾å¤‡ã€‚æˆ‘ä»¬éœ€è¦æŠŠé¼ æ ‡å…ˆå…³é—­ï¼Œç„¶åå†é‡æ–°å¼€å¯ï¼Œè¿™æ ·ç¨‹åºæ‰èƒ½è¯†åˆ«æ˜¯æ–°æ¥å…¥çš„è®¾å¤‡ã€‚ æ·»åŠ æ–°è®¾, è®°å¾—å…ˆå…³é—­å†é‡å¯é¼ æ ‡ é…å¯¹æˆåŠŸåï¼Œå³å¯çœ‹åˆ°æ— çº¿é¼ æ ‡çš„è®¾å¤‡ä¿¡æ¯æ¥ã€‚ æˆåŠŸé…å¯¹æˆ‘çš„ Master 3S ","date":"2024-03-18","objectID":"/2024-03-18-linux-%E9%85%8D%E5%AF%B9%E7%BD%97%E6%8A%80%E8%93%9D%E7%89%99%E9%BC%A0%E6%A0%87/:2:0","tags":["linux","logitech","é¼ æ ‡","solaar","ç½—æŠ€"],"title":"Linux é…å¯¹ç½—æŠ€è“ç‰™é¼ æ ‡","uri":"/2024-03-18-linux-%E9%85%8D%E5%AF%B9%E7%BD%97%E6%8A%80%E8%93%9D%E7%89%99%E9%BC%A0%E6%A0%87/"},{"categories":["programming"],"content":"pybind11 allow us to expose c++ class/function to higher abstraction level of python programming language, bringing high performance and flexibility into python. To pass named arguments in python, itâ€™s required to specify argument names in pybind11â€™s interface. In this post, I will illustrate how to do that. c++ class","date":"2024-03-18","objectID":"/2024-03-18-pybind11--passing-named-arguments/:0:0","tags":["pybind11","c++","python","class","interface","function"],"title":"pybind11: passing named arguments","uri":"/2024-03-18-pybind11--passing-named-arguments/"},{"categories":["programming"],"content":" header #include \u003cpybind11/pybind11.h\u003e #include \u003cpybind11/embed.h\u003e #include \u003cpybind11/stl.h\u003e #include \u003ciostream\u003e #include \u003ccstdlib\u003e #include \u003ccstdio\u003e // from SnailCore #include \u003cutil/acct_info.hpp\u003e #include \u003cutil/shm.hpp\u003e #include \u003cutil/shm_tool.hpp\u003e #include \u003cutil/shm_status.hpp\u003e #include \u003cutil/shm_struct.hpp\u003e #include \u003cutil/shmv.hpp\u003e #include \u003cutil/time_util.hpp\u003e #include \u003cutil/index_type.hpp\u003e #include \u003cutil/str_util.hpp\u003e ","date":"2024-03-18","objectID":"/2024-03-18-pybind11--passing-named-arguments/:1:0","tags":["pybind11","c++","python","class","interface","function"],"title":"pybind11: passing named arguments","uri":"/2024-03-18-pybind11--passing-named-arguments/"},{"categories":["programming"],"content":" function py::dict pybind11_read_shm_acc(const std::string\u0026 shm_tag) { std::unique_ptr\u003csnail::acct_info_t::shm_reader_t\u003e reader {new snail::acct_info_t::shm_reader_t(shm_tag)}; auto total = reader-\u003esize(); std::cout \u003c\u003c \"total:\" \u003c\u003c total \u003c\u003c std::endl; std::vector\u003cstd::string\u003e client_id, us; std::vector\u003cdouble\u003e beg_balance, curr_balance, enabled_balance, frozen_balance, deposit, margin, frozen_margin, fee, frozen_fee, pos_profit, close_profit; for (size_t i = 0; i \u003c total; ++i) { auto e = reader-\u003esafe_get(i); client_id.emplace_back(e-\u003eclient_id); us.emplace_back(microtime::from_count(e-\u003eus).to_zgc_str()); beg_balance.emplace_back(e-\u003ebeg_balance); curr_balance.emplace_back(e-\u003ecurr_balance); enabled_balance.emplace_back(e-\u003eenabled_balance); frozen_balance.emplace_back(e-\u003efrozen_balance); deposit.emplace_back(e-\u003edeposit); margin.emplace_back(e-\u003emargin); frozen_margin.emplace_back(e-\u003efrozen_margin); fee.emplace_back(e-\u003efee); frozen_fee.emplace_back(e-\u003efrozen_fee); pos_profit.emplace_back(e-\u003epos_profit); close_profit.emplace_back(e-\u003eclose_profit); } py::dict d; d[\"US\"] = us; d[\"ClientID\"] = client_id; d[\"BegBalance\"] = beg_balance; d[\"CurrBalance\"] = curr_balance; d[\"EnabledBalance\"] = enabled_balance; d[\"FrozenBalance\"] = frozen_balance; d[\"Deposit\"] = deposit; d[\"Margin\"] = margin; d[\"FrozenMargin\"] = frozen_margin; d[\"Fee\"] = fee; d[\"FrozenFee\"] = frozen_fee; d[\"PosProfit\"] = pos_profit; d[\"CloseProfit\"] = close_profit; return d; } ","date":"2024-03-18","objectID":"/2024-03-18-pybind11--passing-named-arguments/:2:0","tags":["pybind11","c++","python","class","interface","function"],"title":"pybind11: passing named arguments","uri":"/2024-03-18-pybind11--passing-named-arguments/"},{"categories":["programming"],"content":" class class Account { public: Account(const std::string\u0026 shm_tag, int shm_size, bool continued = false) : _shm_tag{shm_tag} , _shm_size{shm_size} , _continued{false} { _shm_acc.reset(new acct_info_t::shm_writer_t( _shm_tag, _shm_size, _continued )); } ~Account() {} void write(const std::string\u0026 client_id, double beg_balance, double curr_balance, double enabled_balance, double frozen_balance = 0.0, double deposit = 0.0, double margin = 0.0, double frozen_margin = 0.0, double fee = 0.0, double frozen_fee = 0.0, double pos_profit = 0.0, double close_profit = 0.0, uint64_t us = 0 ) { auto e = _shm_acc-\u003eget_slot(); if (!e) { std::cout \u003c\u003c \"failed to get_slot, shm is full\" \u003c\u003c std::endl; return; } e-\u003eus = us == 0 ? microtime::now().count(): us; copy_str(e-\u003eclient_id, client_id.c_str()); e-\u003ebeg_balance = beg_balance; e-\u003ecurr_balance = curr_balance; e-\u003eenabled_balance = enabled_balance; e-\u003efrozen_balance = frozen_balance; e-\u003edeposit = deposit; e-\u003emargin = margin; e-\u003efrozen_margin = frozen_margin; e-\u003efee = fee; e-\u003efrozen_fee = frozen_fee; e-\u003epos_profit = pos_profit; e-\u003eclose_profit = close_profit; _shm_acc-\u003ecommit(e); } py::dict read() { return pybind11_read_shm_acc(_shm_tag); } private: std::string _shm_tag; int _shm_size {0}; bool _continued {false}; std::shared_ptr\u003ctypename acct_info_t::shm_writer_t\u003e _shm_acc; }; pybind11 interfacepybind11 provides by MACRO interfaces of c++. By defining py::arg(\"shm_tag\"), itâ€™s possible to pass named arguments from python into c++â€™s functions/classes, with default values setting. PYBIND11_MODULE(snail, m) { // Function Interface m.def(\"pybind11_read_shm_acc\", \u0026pybind11_read_shm_acc, R\"pbdoc( read snail::acct_info_t )pbdoc\"); // Class Interface // define Account class py::class_\u003cAccount\u003e(m, \"Account\") // ctor .def(py::init\u003cconst std::string\u0026, int, bool\u003e(), py::arg(\"shm_tag\"), py::arg(\"shm_size\"), py::arg(\"continued\") = false ) .def(\"write\", \u0026Account::write, py::arg(\"client_id\"), py::arg(\"beg_balance\"), py::arg(\"curr_balance\"), py::arg(\"enabled_balance\"), py::arg(\"frozen_balance\") = 0.0, py::arg(\"deposit\") = 0.0, py::arg(\"margin\") = 0.0, py::arg(\"frozen_margin\") = 0.0, py::arg(\"fee\") = 0.0, py::arg(\"frozen_fee\") = 0.0, py::arg(\"pos_profit\") = 0.0, py::arg(\"close_profit\") = 0.0, py::arg(\"us\") = 0 ) .def(\"read\", \u0026Account::read) ; #ifdef VERSION_INFO m.attr(\"__version__\") = MACRO_STRINGIFY(VERSION_INFO); #else m.attr(\"__version__\") = \"dev\"; #endif } python callingNow we can call c++ functions/class interfaces in python. import pandas as pd from wepy.cpp.snail import pybind11_read_shm_acc from wepy.cpp.snail import Account ## Function Interface def read_shm_acc(shm_tag:str) -\u003e pd.DataFrame: data = pybind11_read_shm_acc(shm_tag) return pd.DataFrame(data) ## Class Interface from wepy.cpp.snail import Account acct = Account(shm_tag = \"lfang_acc\", shm_size = 1000) acct.write(client_id = \"lfang\", beg_balance = 1000.0, curr_balance = 1000.0, enabled_balance = 1000.0, deposit = 100) df = pd.DataFrame(acct.read()) df = read_shm_acc(\"lfang_acc\") python-calling ","date":"2024-03-18","objectID":"/2024-03-18-pybind11--passing-named-arguments/:3:0","tags":["pybind11","c++","python","class","interface","function"],"title":"pybind11: passing named arguments","uri":"/2024-03-18-pybind11--passing-named-arguments/"},{"categories":["tools"],"content":"nvim å¯ä»¥åˆ©ç”¨è·³è½¬åŠŸèƒ½ï¼Œç›´æ¥åœ¨å½“å‰å…‰æ ‡ä¸‹æ‰“å¼€æ–‡ä»¶ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™æ–°å»ºä¸€ä¸ªã€‚ æˆ‘é…ç½®çš„å¿«æ·é”®æ˜¯ gf(go file)ã€‚ vim.cmd([[ nnoremap \u003csilent\u003e gf :call JumpOrCreateFile()\u003cCR\u003e function! JumpOrCreateFile() \" Get the filename under the cursor let filename = expand(\"\u003ccfile\u003e\") \" Expand the tilde in the file path let expanded_filename = expand(filename) \" Check if the file path starts with \"./\" if expanded_filename =~# '^\\.\\/' \" Get the current directory of the editing file let current_directory = expand('%:p:h') \" Create the full path by appending the relative file path let expanded_filename = current_directory . '/' . expanded_filename endif \" Check if the file exists if !filereadable(expanded_filename) \" Prompt the user for file creation with the full path let choice = confirm('File does not exist. Create \"' . expanded_filename . '\"?', \"\u0026Yes\\n\u0026No\", 1) \" Handle the user's choice if choice == 1 \" Create the file and open it echohl WarningMsg | echo 'Created New File: ' . expanded_filename | echohl None execute 'edit ' . expanded_filename endif else \" File exists, perform normal gf behavior echohl ModeMsg | echo 'Open File: ' . expanded_filename | echohl None execute 'normal! gf' endif endfunction ]]) ","date":"2024-03-18","objectID":"/2024-03-18-nvim-%E7%9B%B4%E6%8E%A5%E6%89%93%E5%BC%80%E5%BD%93%E5%89%8D%E5%85%89%E6%A0%87%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6/:0:0","tags":["nvim","cursor","gf","buffer"],"title":"nvim ç›´æ¥æ‰“å¼€å½“å‰å…‰æ ‡ä¸‹çš„æ–‡ä»¶","uri":"/2024-03-18-nvim-%E7%9B%B4%E6%8E%A5%E6%89%93%E5%BC%80%E5%BD%93%E5%89%8D%E5%85%89%E6%A0%87%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6/"},{"categories":["tools"],"content":"ä½¿ç”¨ Hugo + Github æ­å»ºä¸ªäººåšå®¢ç³»ç»Ÿï¼Œå¹¶æ‰˜ç®¡åœ¨ Github Page æœåŠ¡ã€‚ æ€è·¯ åœ¨ Github åˆ›å»ºä¸€ä¸ªé¡¹ç›®ç”¨äºæ‰˜ç®¡åšå®¢ä»£ç ã€markdown æ–‡ä»¶ç­‰ï¼Œæ¯”å¦‚ myblog åœ¨ Github åˆ›å»º Page é¡¹ç›®ã€‚Page é¡¹ç›®æ˜¯é™æ€ç½‘é¡µæ¸²æŸ“ï¼Œå¹¶å¯ä»¥æ‰˜ç®¡åœ¨ Github æœåŠ¡å™¨ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠç½‘ç«™å†…å®¹å‘å¸ƒåˆ° Githubã€‚ è¿™ä¸ª Page çš„ç‰¹åˆ«ä¹‹å¤„åœ¨äºï¼šæˆ‘ä»¬å°†å…¶é¡¹ç›®åç§°è®¾ç½®ä¸º williamlfang.github.ioï¼Œå³ yourusename.github.ioã€‚ Hugo æ˜¯ä¸€ä¸ªä¼˜ç§€çš„é™æ€ç½‘é¡µç”Ÿæˆæ¡†æ¶ï¼Œæä¾›äº†çµæ´»çš„é…ç½®ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®ä¸åŒçš„ä¸»é¢˜ï¼ˆthemeï¼‰æ¥æ¸²æŸ“ç½‘é¡µï¼Œè¾¾åˆ°å†…å®¹ä¸å½¢å¼åˆ†ç¦»çš„ç›®åœ°ã€‚ ç”±äºéƒ¨åˆ†ä¸»é¢˜çš„åŠŸèƒ½éœ€è¦ä½¿ç”¨åˆ°æ–°ç‰¹æ€§ï¼Œæˆ‘ä»¬æœ€å¥½å®‰è£… hugo-extended ç‰ˆæœ¬ã€‚ ## éœ€è¦å®‰è£… hugo extended version wget https://github.com/gohugoio/hugo/releases/download/v0.123.8/hugo_extended_0.123.8_linux-amd64.deb sudo dpkg -i hugo_extended_0.123.8_linux-amd64.deb hugo version æ­¥éª¤","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:0:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" å»ºç«‹ Github é¡¹ç›® åœ¨ Github åˆ›å»º myblog é¡¹ç›® åŸæ•™ç¨‹æ˜¯å°†æºä»“åº“ä¸ Page æ”¾åœ¨åŒä¸€ä¸ªé¡¹ç›®ï¼Œæ‰€ä»¥éœ€è¦è®¾ç½®æˆ publicã€‚ä¸è¿‡æˆ‘çš„åšæ³•æ˜¯å°†æºä»“åº“ä¸å‘å¸ƒä»“åº“Pageåˆ†ç¦»ï¼Œå†…å®¹æ‰˜ç®¡åœ¨ myblog çš„ private é¡¹ç›®ï¼Œç„¶åå°† hugo æ¸²æŸ“åçš„ html æ‹·è´åˆ°å‘å¸ƒä»“åº“ Pageã€‚ åœ¨ Github åˆ›å»º williamlfang.github.io é¡¹ç›® å¦‚ä¸Šæ‰€è¿°ï¼Œéœ€è¦å°†å‘å¸ƒä»“åº“ Page è®¾ç½®ä¸º public å¼€æ”¾äº’è”ç½‘è®¿é—®ã€‚ ","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:1:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" Hugo æ­å»º åˆå§‹åŒ– hugo ç›®å½• git clone git@github.com:williamlfang/myblog.git ## åˆå§‹åŒ–é¡¹ç›®ï¼Œå¦‚æœå­˜åœ¨ç›®å½•ï¼Œåˆ™éœ€è¦æ·»åŠ  --force hugo new site myblog cd myblog ## æ·»åŠ ä¸»é¢˜ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨æ¥ FixIt git submodule add https://github.com/hugo-fixit/FixIt.git themes/FixIt æ ¹æ®å¯¹åº” theme æä¾›çš„é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œå¯ä»¥æŸ¥çœ‹å‚è€ƒé…ç½® themes/FixIt/hugo.toml vim hugo.toml æ¯”å¦‚æˆ‘çš„é…ç½®æ˜¯è¿™æ ·çš„ï¼š title è®¾ç½®åšå®¢åç§° baseURL å¯¹åº”åŸŸåï¼ˆå¦‚æœæ˜¯æ‰˜ç®¡åœ¨ Github Pageï¼Œåˆ™å¡«å†™https://williamlfang.github.io/ï¼‰ theme é…ç½®ç›¸åº”çš„åç§°ï¼ˆéœ€è¦åœ¨ themes/ ç›®å½•ä¸‹ï¼‰ avatar æ˜¯å¤´åƒè®¾ç½®ï¼ˆå¦‚æœæ˜¯ FixItï¼Œéœ€è¦æ›¿æ¢ä¸ºè‡ªå·±çš„å¤´åƒæ–‡ä»¶ï¼Œåœ¨ themes/FixIt/assets/imagesï¼‰ åˆ›å»ºåšå®¢ markdown æ–‡ç« ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ ## create new post ## è¿™ä¸ªå‘½ä»¤ä¼šè°ƒç”¨å‚æ•°æ¨¡æ¿ï¼Œä½äº `theme/FixIt/archetypes` ## æˆ‘ä»¬å¯ä»¥è‡ªè¡Œä¿®æ”¹ hugo new posts/first_post.md ","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:2:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" æ·»åŠ æœˆå†ä¸»è¦æ˜¯çœ‹åˆ°è¿™ç¯‡ä¼˜ç§€çš„åšå®¢ï¼Œå—åˆ°å¯å‘ã€‚äºæ˜¯æˆ‘ä¹Ÿå‡†å¤‡åœ¨åšå®¢æ·»åŠ ä¸€ä¸ªæœˆå†ï¼Œç”¨äºæŸ¥çœ‹æ–‡ç« å‘å¸ƒçš„æƒ…å†µã€‚ ç»™ Hugo åšå®¢æ·»åŠ æœˆå†åŠŸèƒ½ https://blog.gimo.me/posts/adding-calendar-view-for-hugo-blog-posts/ è¿™é‡Œä¸»è¦ä¿®æ”¹çš„åœ°æ–¹æœ‰ï¼š åœ¨é…ç½® hugo.toml æ·»åŠ ä¸€ä¸ªæ ç›® [menu] [[menu.main]] identifier = \"calendar\" parent = \"\" pre = \"\" post = \"\" name = \"æœˆå†\" url = \"/calendar/\" title = \"\" weight = 100 [menu.main.params] icon = \"fa-regular fa-id-card fa-fw fa-sm\" æ–°å»º content/calendar/index.mdï¼Œè®¾ç½®å…¶å¸ƒå±€ --- title: \"æœˆå†ğŸ“…\" date: 2024-03-01T16:00:09+08:00 layout: calendar --- ç”±äºä¸Šé¢è®¾ç½®äº† layout: calendarï¼Œå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ ç›¸å…³çš„é¡µé¢æ¨¡æ¿ã€‚åœ¨æ ¹ç›®å½•åˆ›å»º layouts/page/calendar.htmlï¼Œå…·ä½“å¸ƒå±€å¯ä»¥å‚è€ƒ 404.html ä¿®æ”¹ calendar css æ ¼å¼ï¼Œåœ¨æ ¹ç›®å½•åˆ›å»ºï¼ˆæˆ–åˆ™å¤åˆ¶ä¸€ä»½ /theme/FixIt/assets/css/_custom.cssï¼‰åˆ° assets/css/_custom.css // ============================== // Custom style // è‡ªå®šä¹‰æ ·å¼ // ============================== #calendar { a { color: var(--text-bright); \u0026:hover { text-decoration: none; } } tr { background: var(--background-body); } .fc-daygrid-event { white-space: normal; } .fc-day-sat .fc-daygrid-day-number, .fc-day-sat .fc-col-header-cell-cushion, .fc-day-sun .fc-daygrid-day-number, .fc-day-sun .fc-col-header-cell-cushion { color: #e74c3c; } } calendar æ•ˆæœå›¾ ","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:3:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" é¢„è§ˆä¸å‘å¸ƒ é¢„è§ˆæ•ˆæœ ## preview hugo server --disableFastRender ç”Ÿæˆé™æ€é¡µé¢ï¼šæŠŠ .md æ–‡ä»¶è½¬åŒ–æˆ html é¡µé¢ï¼Œå¹¶ä¿å­˜åˆ° publicã€‚è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬æ‰˜ç®¡åœ¨ Github Page ä¸Šçš„ç½‘ç«™ã€‚åé¢éœ€è¦æŠŠè¿™ä¸ªæ–‡ä»¶å¤¹æ‹·è´åˆ° Page é¡¹ç›®ï¼Œå¹¶è¿›è¡Œå‘å¸ƒã€‚ ## å‡†å¤‡å‘å¸ƒé™æ€ html ï¼Œä¼šç”Ÿæˆä¸€ä¸ª public ç›®å½• hugo å‘å¸ƒé™æ€ç”Ÿæˆçš„ç½‘ç«™é¡µé¢ã€‚æˆ‘åŸæ¥çš„åšæ³•æ˜¯æŠŠ github page å•ç‹¬æ”¾åœ¨ä¸€ä¸ªç›®å½•ï¼Œç„¶åé€šè¿‡æ‹·è´çš„æ–¹å¼è¿›è¡ŒåŒæ­¥ã€‚ç°åœ¨å›æƒ³èµ·æ¥ï¼Œè¿™ä¸ªæ–¹æ³•ä¼¼ä¹æœ‰ç‚¹å¤šæ­¤ä¸€ä¸¾ï¼Œä¸ºä½•ä¸ç›´æ¥åœ¨ public ç›®å½•æ·»åŠ ä¸€ä¸ª submodule å‘¢ï¼Œç„¶åæŠŠå†…å®¹æ¨é€åˆ° github page å³å¯ï¼Ÿ ## å…ˆç”Ÿæˆä¸€ä¸ª public ç›®å½• hugo ## ç„¶åæ·»åŠ  submodule git submodule add git@github.com:williamlfang/williamlfang.github.io.git public cd public ## åé¢æœ‰æ–°çš„æ–‡ç« æ›´æ–°ï¼Œåªéœ€è¦æ·»åŠ  public å³å¯ git add -A git commit -m \"add submodule\" git push origin main ","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:4:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" deploy.sh ä¸€é”®å‘å¸ƒè„šæœ¬å¯ä»¥åœ¨é¡¹ç›®å»ºç«‹ä¸€ä¸ªè„šæœ¬ï¼Œç”¨äºä¸€é”®å‘å¸ƒæœ€æ–°å˜åŠ¨ã€‚ #!/usr/bin/env bash # Set the English locale for the `date` command. export LC_TIME=en_US.UTF-8 ## ------------------------------------------- msg() { printf \"\\033[1;32m :: %s\\n\\033[0m\" \"$1\" } ## ------------------------------------------- ## ------------------------------------------- # GitHub username. USERNAME=williamlfang # Name of the branch containing the Hugo source files. SOURCE=myblog # Github Page for public website SITE=williamlfang.github.io # The commit message. MESSAGE=\"Site rebuild $(date)\" ## ------------------------------------------- cd ../${SITE} pwd msg \"Pulling down from ${SITE}\" git pull msg \"Building the website\" cd ../${SOURCE} pwd msg \"Pulling down from ${SOURCE}\" git pull ## ------------------------------------------------ # Rscript -e \"blogdown::build_site(build_rmd = TRUE)\" hugo ## ------------------------------------------------ msg \"Pushing new info to Github\" git add -A git commit -m \"$MESSAGE\" git push cp -r public/* ../${SITE} cd ../${SITE} git add -A git commit -m \"$MESSAGE\" git push origin master msg \"We've happily done.\" ","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:5:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" deploy.sh ä¸€é”®å‘å¸ƒè„šæœ¬ #!/usr/bin/env bash # Set the English locale for the `date` command. export LC_TIME=en_US.UTF-8 ## ------------------------------------------- msg() { printf \"\\033[1;32m :: %s\\n\\033[0m\" \"$1\" } ## ------------------------------------------- ## ------------------------------------------- # Name of the branch containing the Hugo source files. SOURCE=myblog # Github Page for public website SITE=williamlfang.github.io # The commit message. MESSAGE=\"Site rebuild $(date)\" ## ------------------------------------------- ## into github-page pushd public msg \"Pulling down from ${SITE}\" git pull popd ## msg \"Pulling down from ${SOURCE}\" git pull ## ------------------------------------------------ # Rscript -e \"blogdown::build_site(build_rmd = TRUE)\" hugo ## ------------------------------------------------ msg \"Pushing new info to Github\" git add -A git commit -m \"$MESSAGE\" git push pushd public git add -A git commit -m \"$MESSAGE\" git push origin main popd msg \"We've happily done.\" ä½¿ç”¨æŠ€å·§","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:6:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" å†…å®¹","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:7:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" æ’åº é»˜è®¤ä»¥æ—¥æœŸæ’åº é€šè¿‡è®¾ç½® weight ä»¥æ”¹å˜æ–‡ç« æ’åºï¼ˆå‰ç½®åŠŸèƒ½ï¼‰ --- title: ä½¿ç”¨hugo+githubæ­å»ºåšå®¢ weight: 1 \u003c!--å®ç°æ–‡ç« ç½®é¡¶åŠŸèƒ½--\u003e --- ","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:7:1","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" æ³¨é‡Š1 è¦åˆ›å»ºè„šæ³¨å¼•ç”¨ï¼Œè¯·åœ¨æ–¹æ‹¬å·ä¸­æ·»åŠ æ’å…¥ç¬¦å·å’Œæ ‡è¯†ç¬¦ ([^1])ã€‚ æ ‡è¯†ç¬¦å¯ä»¥æ˜¯æ•°å­—æˆ–å•è¯ï¼Œä½†ä¸èƒ½åŒ…å«ç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦ã€‚ æ ‡è¯†ç¬¦ä»…å°†è„šæ³¨å¼•ç”¨ä¸è„šæ³¨æœ¬èº«ç›¸å…³è” - åœ¨è„šæ³¨è¾“å‡ºä¸­ï¼Œè„šæ³¨æŒ‰é¡ºåºç¼–å·ã€‚ åœ¨ä¸­æ‹¬å·å†…ä½¿ç”¨æ’å…¥ç¬¦å·å’Œæ•°å­—ä»¥åŠç”¨å†’å·å’Œæ–‡æœ¬æ¥æ·»åŠ è„šæ³¨å†…å®¹ ([^1]ï¼šè¿™æ˜¯ä¸€æ®µè„šæ³¨)ã€‚ ä½ ä¸ä¸€å®šè¦åœ¨æ–‡æ¡£æœ«å°¾æ·»åŠ è„šæ³¨ã€‚å¯ä»¥å°†å®ƒä»¬æ”¾åœ¨é™¤åˆ—è¡¨ï¼Œå¼•ç”¨å’Œè¡¨æ ¼ç­‰å…ƒç´ ä¹‹å¤–çš„ä»»ä½•ä½ç½®ã€‚ è¿™æ˜¯ä¸€ä¸ªæ•°å­—è„šæ³¨ [^1] è¿™æ˜¯ä¸€ä¸ªå¸¦æ ‡ç­¾çš„è„šæ³¨ [^label] [^1]: è¿™æ˜¯ä¸€ä¸ªæ•°å­—è„šæ³¨ [^label]: è¿™æ˜¯ä¸€ä¸ªå¸¦æ ‡ç­¾çš„è„šæ³¨ è¿™æ˜¯ä¸€ä¸ªæ•°å­—è„šæ³¨2 è¿™æ˜¯ä¸€ä¸ªå¸¦æ ‡ç­¾çš„è„šæ³¨3 ","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:7:2","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" å›¾ç‰‡","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:8:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" è·¯å¾„ åœ¨æ ¹ç›®å½•ä¸‹é¢æœ‰ä¸€ä¸ª static ç›®å½•ï¼Œå½“hugoæ‰§è¡Œæ—¶ï¼Œè¿™ä¸ªç›®å½•ä¼šè¢«æ‹·è´åˆ° public ç›®å½•ä¸‹ï¼Œhtml é™æ€é¡µé¢è§£ææ—¶ä¼šä»è¿™ä¸ªè·¯å¾„å¼€å§‹å¯»æ‰¾ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹ï¼ŒæŠŠ avatarã€logo ç­‰å›¾ç‰‡æ”¾åœ¨ static/images ä¸‹é¢ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨è·¯å¾„ /images/xxx.png æ¥å¼•ç”¨å›¾ç‰‡äº† ","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:8:1","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" ç¼©æ”¾åŠŸèƒ½ å¯ä»¥å®ç°å›¾ç‰‡çš„å…¨å±æ”¾å¤§åŠŸèƒ½ï¼šéœ€è¦åœ¨å›¾ç‰‡åé¢æ·»åŠ æ³¨é‡Šä¿¡æ¯ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘åœ¨è¿™é‡Œä½¿ç”¨äº†ç›¸å¯¹è·¯å¾„ï¼Œå³ä¸å½“å‰æ–‡æ¡£åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹é¢ï¼Œè¿™æœ‰èµ–äº Hugo(\u003e0.6.2) æä¾›çš„ layout/_default/_markup åŠŸèƒ½ã€‚ ![æˆ‘çš„åšå®¢](./hugo-fixit.png \"William Fang's Hugo FixIt\") æˆ‘çš„åšå®¢ ","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:8:2","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" ä»£ç å—","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:9:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" è‡ªåŠ¨æŠ˜å  é…ç½®é»˜è®¤å±•å¼€çš„ä»£ç å—é•¿åº¦ # ä»£ç é…ç½® [params.page.code] # æ˜¯å¦æ˜¾ç¤ºä»£ç å—çš„å¤åˆ¶æŒ‰é’® copy = true # æ˜¯å¦æ˜¾ç¤ºä»£ç å—çš„ç¼–è¾‘æŒ‰é’® edit = true # é»˜è®¤å±•å¼€æ˜¾ç¤ºçš„ä»£ç è¡Œæ•° # maxShownLines = 10 maxShownLines = 25 ## \u003c------------- # KaTeX æ•°å­¦å…¬å¼ (https://katex.org) [params.page.math] enable = true # é»˜è®¤è¡Œå†…å®šç•Œç¬¦æ˜¯ $ ... $ å’Œ \\( ... \\) inlineLeftDelimiter = \"\" inlineRightDelimiter = \"\" # é»˜è®¤å—å®šç•Œç¬¦æ˜¯ $$ ... $$, \\[ ... \\], \\begin{equation} ... \\end{equation} å’Œä¸€äº›å…¶å®ƒçš„å‡½æ•° blockLeftDelimiter = \"\" blockRightDelimiter = \"\" # KaTeX æ’ä»¶ copy_tex copyTex = true # KaTeX æ’ä»¶ mhchem mhchem = true # Mapbox GL JS é…ç½® (https://docs.mapbox.com/mapbox-gl-js) ","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:9:1","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["tools"],"content":" æ•°å­¦å…¬å¼ hugo.toml title = \"William\" # baseURL = \"http://example.org/\" baseURL = \"https://williamlfang.github.io/\" # ç½‘ç«™è¯­è¨€ï¼Œä»…åœ¨è¿™é‡Œ CN å¤§å†™ [\"en\", \"zh-CN\", \"fr\", \"pl\", ...] defaultContentLanguage = \"zh-cn\" languageCode = \"zh-CN\" # æ˜¯å¦åŒ…æ‹¬ä¸­æ—¥éŸ©æ–‡å­— hasCJKLanguage = true ## ---------------------------------------------------------------------------\u003e[theme] # æ›´æ”¹ä½¿ç”¨ Hugo æ„å»ºç½‘ç«™æ—¶ä½¿ç”¨çš„é»˜è®¤ä¸»é¢˜ theme = \"FixIt\" ## ---------------------------------------------------------------------------\u003c[theme] # [menu] # [[menu.main]] # identifier = \"posts\" # name = \"æ–‡ç« \" # url = \"/posts/\" # weight = 1 # [[menu.main]] # identifier = \"categories\" # name = \"åˆ†ç±»\" # url = \"/categories/\" # title = \"\" # weight = 2 # [[menu.main]] # identifier = \"tags\" # name = \"æ ‡ç­¾\" # url = \"/tags/\" # weight = 3 # # [[menu.main]] # identifier = \"about\" # name = \"å…³äº\" # url = \"about/\" # weight = 20 # icon = \"fa-solid fa-signature\" # [[menu.main.params]] # icon = \"fa-solid fa-signature\" [menu] [[menu.main]] identifier = \"posts\" parent = \"\" # you can add extra information before the name (HTML format is supported), such as icons pre = \"\" # you can add extra information after the name (HTML format is supported), such as icons post = \"\" name = \"æ–‡ç« \" url = \"/posts/\" # title will be shown when you hover on this menu link title = \"\" weight = 1 # FixIt 0.2.14 | NEW add user-defined content to menu items [menu.main.params] # add css class to a specific menu item class = \"\" # whether set as a draft menu item whose function is similar to a draft post/page draft = false # FixIt 0.2.16 | NEW add fontawesome icon to a specific menu item icon = \"fa-regular fa-newspaper\" # FixIt 0.2.16 | NEW set menu item type, optional values: [\"mobile\", \"desktop\"] type = \"\" [[menu.main]] identifier = \"archives\" parent = \"\" # you can add extra information before the name (HTML format is supported), such as icons pre = \"\" # you can add extra information after the name (HTML format is supported), such as icons post = \"\" name = \"å½’æ¡£\" url = \"/archives/\" # title will be shown when you hover on this menu link title = \"\" weight = 2 # FixIt 0.2.14 | NEW add user-defined content to menu items [menu.main.params] # add css class to a specific menu item class = \"\" # whether set as a draft menu item whose function is similar to a draft post/page draft = false # FixIt 0.2.16 | NEW add fontawesome icon to a specific menu item icon = \"fa-solid fa-archive\" # FixIt 0.2.16 | NEW set menu item type, optional values: [\"mobile\", \"desktop\"] type = \"\" [[menu.main]] identifier = \"categories\" parent = \"\" pre = \"\" post = \"\" name = \"åˆ†ç±»\" url = \"/categories/\" title = \"\" weight = 3 [menu.main.params] icon = \"fa-solid fa-folder-tree\" [[menu.main]] identifier = \"tags\" parent = \"\" pre = \"\" post = \"\" name = \"æ ‡ç­¾\" url = \"/tags/\" title = \"\" weight = 3 [menu.main.params] icon = \"fa-solid fa-tags\" [[menu.main]] identifier = \"about\" parent = \"\" pre = \"\" post = \"\" name = \"å…³äº\" url = \"/about/\" title = \"\" weight = 20 [menu.main.params] icon = \"fa-solid fa-signature\" [params] # FixIt ä¸»é¢˜ç‰ˆæœ¬ version = \"0.2.X\" # ä¾‹å¦‚ï¼š\"0.2.X\", \"0.2.15\", \"v0.2.15\" ç­‰ # ç½‘ç«™æè¿° # description = \"è¿™æ˜¯æˆ‘çš„ Hugo FixIt ç½‘ç«™\" description = \"William\" # ç½‘ç«™å…³é”®è¯ keywords = [\"Hugo\", \"FixIt\"] # ç½‘ç«™é»˜è®¤ä¸»é¢˜æ ·å¼ [\"light\", \"dark\", \"auto\"] defaultTheme = \"auto\" # å“ªç§å“ˆå¸Œå‡½æ•°ç”¨æ¥ SRI, ä¸ºç©ºæ—¶è¡¨ç¤ºä¸ä½¿ç”¨ SRI # [\"sha256\", \"sha384\", \"sha512\", \"md5\"] fingerprint = \"\" # æ—¥æœŸæ ¼å¼ dateFormat = \"2006-01-02\" # ç½‘ç«™å›¾ç‰‡ï¼Œç”¨äº Open Graph å’Œ Twitter Cards images = [\"/logo.png\"] # å¼€å¯ PWA æ”¯æŒ enablePWA = true # æ˜¯å¦è‡ªåŠ¨æ˜¾ç¤ºå¤–é“¾å›¾æ ‡ externalIcon = false # æ˜¯å¦åè½¬å¯¼èˆªèœå•çš„é¡ºåº navigationReverse = false # æ˜¯å¦åœ¨æ¯ä¸ªé¡µé¢æ ‡é¢˜ä¸­æ·»åŠ ç½‘ç«™æ ‡é¢˜ # è¯·è®°å¾—åœ¨ `hugo.toml` ä¸­è®¾ç½®ç½‘ç«™æ ‡é¢˜ (ä¾‹å¦‚ title = \"title\") withSiteTitle = true # å½“ç½‘ç«™æ ‡é¢˜è¢«æ·»åŠ åˆ°æ¯ä¸ªé¡µé¢æ ‡é¢˜æ—¶çš„æ ‡é¢˜åˆ†éš”ç¬¦ titleDelimiter = \"-\" # æ˜¯å¦åœ¨ä¸»é¡µæ ‡é¢˜ä¸­æ·»åŠ ç½‘ç«™å‰¯æ ‡é¢˜ # è¯·è®°å¾—é€šè¿‡ `params.header.subtitle.name` è®¾ç½®ç½‘ç«™å‰¯æ ‡é¢˜ indexWithSubtitle = false # é»˜è®¤æƒ…å†µä¸‹ï¼ŒFixIt åªä¼šåœ¨ä¸»é¡µçš„ HTML å¤´ä¸­æ³¨å…¥ä¸»é¢˜å…ƒæ ‡è®° # ä½ å¯ä»¥å°†å…¶å…³é—­ï¼Œä½†å¦‚æœä½ ä¸è¿™æ ·åšï¼Œæˆ‘ä»¬å°†ä¸èƒœæ„Ÿæ¿€ï¼Œå› ä¸ºè¿™æ˜¯è§‚å¯Ÿ FixIt å—æ¬¢è¿ç¨‹åº¦ä¸Šå‡çš„å¥½æ–¹æ³• disableThemeInject = false # ä½œè€…é…ç½® [params.author] name = \"\" email = \"\" link = \"\" avatar = \"\" # å…¬å…± Git ä»“åº“ä¿¡æ¯ï¼Œä»…åœ¨ enableGitInfo è®¾ä¸º true æ—¶æœ‰æ•ˆ [params.gitInfo] # ä¾‹å¦‚ \"https://github.com/hugo-fixit/docs\" rep","date":"2024-03-16","objectID":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/:10:0","tags":["hugo","github","markdown"],"title":"ä½¿ç”¨hugo+githubæ­å»ºåšå®¢","uri":"/%E4%BD%BF%E7%94%A8hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["Programming"],"content":"C++ Hackerâ€™s Guide æ˜¯ä¸€æœ¬ä»‹ç»ç¼–ç¨‹æŠ€å·§çš„å®ç”¨ä¹¦ç±ã€‚ ","date":"2024-03-16","objectID":"/2024-03-16-c-hackers-guide/:0:0","tags":["c++","hacker"],"title":"C++ Hacker's Guide","uri":"/2024-03-16-c-hackers-guide/"},{"categories":["tools"],"content":"æˆ‘ç°åœ¨åŸºæœ¬ä¸Šéƒ½æ˜¯ä½¿ç”¨nvimåšç¬”è®°ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½æ˜¯å†™ markdown æ ¼å¼çš„æ–‡æ¡£ã€‚å› æ­¤ï¼Œéœ€è¦ä¸€æ¬¾èƒ½å¤Ÿåœ¨ç»ˆç«¯å®æ—¶æ¸²æŸ“çš„æ’ä»¶ã€‚ ","date":"2024-03-13","objectID":"/2024-03-13-nvim-%E9%85%8D%E7%BD%AE-markdown-%E5%AE%9E%E6%97%B6%E6%B8%B2%E6%9F%93/:0:0","tags":["nvim","markdown","glow"],"title":"nvim é…ç½® markdown å®æ—¶æ¸²æŸ“","uri":"/2024-03-13-nvim-%E9%85%8D%E7%BD%AE-markdown-%E5%AE%9E%E6%97%B6%E6%B8%B2%E6%9F%93/"},{"categories":["tools"],"content":" glowglow æ˜¯ä¸€æ¬¾å¯ä»¥åœ¨ç»ˆç«¯æ¸²æŸ“ markdown æ–‡æ¡£çš„å‘½ä»¤ # Debian/Ubuntu sudo mkdir -p /etc/apt/keyrings curl -fsSL https://repo.charm.sh/apt/gpg.key | sudo gpg --dearmor -o /etc/apt/keyrings/charm.gpg echo \"deb [signed-by=/etc/apt/keyrings/charm.gpg] https://repo.charm.sh/apt/ * *\" | sudo tee /etc/apt/sources.list.d/charm.list sudo apt update \u0026\u0026 sudo apt install glow # Fedora/RHEL echo '[charm] name=Charm baseurl=https://repo.charm.sh/yum/ enabled=1 gpgcheck=1 gpgkey=https://repo.charm.sh/yum/gpg.key' | sudo tee /etc/yum.repos.d/charm.repo sudo yum install glow ","date":"2024-03-13","objectID":"/2024-03-13-nvim-%E9%85%8D%E7%BD%AE-markdown-%E5%AE%9E%E6%97%B6%E6%B8%B2%E6%9F%93/:1:0","tags":["nvim","markdown","glow"],"title":"nvim é…ç½® markdown å®æ—¶æ¸²æŸ“","uri":"/2024-03-13-nvim-%E9%85%8D%E7%BD%AE-markdown-%E5%AE%9E%E6%97%B6%E6%B8%B2%E6%9F%93/"},{"categories":["tools"],"content":" markdown-preview.nvimè¿™æ¬¾æ’ä»¶æ”¯æŒåœ¨ nvim çš„ç»ˆç«¯å³å¯æ¸²æŸ“ markdownï¼Œåº•å±‚è°ƒç”¨çš„æ˜¯ glow çš„æ¸²æŸ“åŠŸèƒ½ã€‚ æˆ‘è¿™é‡Œé…ç½®äº†å¿«æ·é”®ï¼šmp -- :MPToggle: toggle markdown preview open or close. -- :MPOpen: open markdown preview window. -- :MPClose: close markdown preview window. -- :MPRefresh: refresh markdown preview window. return { \"0x00-ketsu/markdown-preview.nvim\", ft = {'md', 'markdown', 'mkd', 'mkdn', 'mdwn', 'mdown', 'mdtxt', 'mdtext', 'rmd', 'wiki'}, cmd = { \"MPToggle\", \"MPOpen\", \"MPClose\", \"MPRefresh\" }, config = function() require('markdown-preview').setup { -- é…ç½®å¿«æ·é”®:mp vim.keymap.set( \"n\", \"mp\", \":MPToggle\u003cCR\u003e\", { silent = true }), glow = { -- When find executable path of `glow` failed (from PATH), use this value instead exec_path = '', style = '', -- Path to glamour JSON style file }, -- Markdown preview term term = { -- reload term when rendered markdown file changed reload = { enable = true, events = { 'InsertLeave', 'TextChanged' }, }, direction = 'vertical', -- choices: vertical / horizontal keys = { close = {'q', '\u003cEsc\u003e'}, refresh = 'r', } } } end } ","date":"2024-03-13","objectID":"/2024-03-13-nvim-%E9%85%8D%E7%BD%AE-markdown-%E5%AE%9E%E6%97%B6%E6%B8%B2%E6%9F%93/:2:0","tags":["nvim","markdown","glow"],"title":"nvim é…ç½® markdown å®æ—¶æ¸²æŸ“","uri":"/2024-03-13-nvim-%E9%85%8D%E7%BD%AE-markdown-%E5%AE%9E%E6%97%B6%E6%B8%B2%E6%9F%93/"},{"categories":["tool"],"content":" docker-compose version: \"3\" services: gitbook: hostname: gitbook container_name: gitbook image: fellah/gitbook pull_policy: always restart: always privileged: true tty: true volumes: - /data/gitbook:/srv/gitbook - /etc/localtime:/etc/localtime ports: - 4000:4000 command: - /bin/bash - -c - | /bin/bash ","date":"2024-03-07","objectID":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/:1:0","tags":["gitbook","docker"],"title":"docker å®‰è£… gitbook","uri":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/"},{"categories":["tool"],"content":" gitbook","date":"2024-03-07","objectID":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/:2:0","tags":["gitbook","docker"],"title":"docker å®‰è£… gitbook","uri":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/"},{"categories":["tool"],"content":" SUMMARY.md # Summary * [Introduction](README.md) * [bash](bash.md) ","date":"2024-03-07","objectID":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/:2:1","tags":["gitbook","docker"],"title":"docker å®‰è£… gitbook","uri":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/"},{"categories":["tool"],"content":" book.jonå¯¹äºæ•´ä¸ªç½‘ç«™çš„é£æ ¼ï¼Œå¯ä»¥é€šè¿‡ book.json çš„é…ç½®è¿›è¡Œæ¸²æŸ“ï¼š { \"plugins\": [ \"-sharing\", \"theme-comscore\" ] } ","date":"2024-03-07","objectID":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/:2:2","tags":["gitbook","docker"],"title":"docker å®‰è£… gitbook","uri":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/"},{"categories":["tool"],"content":" å¼€å§‹éƒ¨ç½² npm i gitbook-plugin-theme-default npm i gitbook-plugin-theme-comscore npm i -g gitbook-cli gitbook init . gitbook install gitbook serve . \u0026 Starting server ... Serving book on http://localhost:4000 ","date":"2024-03-07","objectID":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/:2:3","tags":["gitbook","docker"],"title":"docker å®‰è£… gitbook","uri":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/"},{"categories":["tool"],"content":" åˆ é™¤ publish with gitbookref: https://blog.tedxiong.com/how_to_remove_Published_with_GitBook_in_GitBook.html é¦–å…ˆï¼Œåœ¨bookçš„æ ¹ç›®å½•é‡Œåˆ›å»ºstylesæ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨å…¶ä¸­åˆ›å»ºwebsite.cssæ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹: .gitbook-link { display: none !important; } ç¼–è¾‘book.jsonæ–‡ä»¶ { \"styles\": { \"website\": \"styles/website.css\" } } ","date":"2024-03-07","objectID":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/:2:4","tags":["gitbook","docker"],"title":"docker å®‰è£… gitbook","uri":"/2024-03-07-docker-%E5%AE%89%E8%A3%85-gitbook/"},{"categories":null,"content":" é—œæ–¼æˆ‘ keep Calm and Markdown; To follow the path: look to the master, follow the master, walk with the master, see through the master, become the master. The world is full of fascinating problems waiting to be solved No problem should ever have to be solved twice Boredom and drudgery are evil Freedom is good Attitude is no substitute for competence ","date":"2024-03-01","objectID":"/about/:1:0","tags":null,"title":"é—œæ–¼","uri":"/about/"},{"categories":null,"content":"William's friends","date":"2024-03-01","objectID":"/friends/","tags":null,"title":"å‹æƒ…éˆæ¥","uri":"/friends/"},{"categories":null,"content":" Notice æ•°æ®ä¿å­˜åœ¨ /data/friends.yml ","date":"2024-03-01","objectID":"/friends/:0:0","tags":null,"title":"å‹æƒ…éˆæ¥","uri":"/friends/"},{"categories":null,"content":" åŸºæœ¬è³‡è¨Š - nickname: è èœçœ¾é•· avatar: https://lruihao.cn/images/avatar.jpg url: https://lruihao.cn description: ä¸æ€•è¬äººé˜»æ“‹ï¼Œåªæ€•è‡ªå·±æŠ•é™ ","date":"2024-03-01","objectID":"/friends/:1:0","tags":null,"title":"å‹æƒ…éˆæ¥","uri":"/friends/"},{"categories":["tool"],"content":" setfacl -R -m o::--- /home/ops/shared/ setfacl -m u:spd:x /home/ops setfacl -m u:spd:x /home/ops/shared setfacl -m u:spd:x /home/ops/shared/trading setfacl -R -m u:spd:rx /home/ops/shared/trading/{PublicInfo,lib,Snail,Spider} ","date":"2024-02-26","objectID":"/2024-02-26-setfacl-%E6%9B%B4%E7%B2%BE%E5%87%86%E6%8E%A7%E5%88%B6%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90/:0:0","tags":["linux","setfacl"],"title":"setfacl æ›´ç²¾å‡†æ§åˆ¶æ–‡ä»¶æƒé™","uri":"/2024-02-26-setfacl-%E6%9B%B4%E7%B2%BE%E5%87%86%E6%8E%A7%E5%88%B6%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90/"},{"categories":[],"content":" cd /app ./cloudreve --database-script ResetAdminPassword ","date":"2024-01-26","objectID":"/2024-01-26-cloudreve-%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81/:0:0","tags":[],"title":"cloudreve ä¿®æ”¹å¯†ç ","uri":"/2024-01-26-cloudreve-%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81/"},{"categories":[],"content":"red: https://www.reddit.com/r/cpp_questions/comments/1953267/how_do_i_learn_c_designarchitecture/ ","date":"2024-01-13","objectID":"/2024-01-13-reddit--how-do-i-learn-c-design-architecture/:0:0","tags":[],"title":"reddit: How do I learn C++ Design Architecture","uri":"/2024-01-13-reddit--how-do-i-learn-c-design-architecture/"},{"categories":[],"content":"https://gist.github.com/jacksonpradolima/840b4a20c617204a65b15da61e124bf6 ","date":"2024-01-13","objectID":"/2024-01-13-ubuntu-install-source-code-pro/:0:0","tags":[],"title":"ubuntu install source code pro","uri":"/2024-01-13-ubuntu-install-source-code-pro/"},{"categories":[],"content":"C++ æä¾›äº†å°å¯¹è±¡çš„ RVOï¼ˆè¿”å›å€¼ä¼˜åŒ–ï¼‰ï¼Œå®ç°äº†åœ¨å‡½æ•°è¿”å›ä¸­è°ƒç”¨æ„é€ å‡½æ•°çš„åŠŸèƒ½ã€‚ #include \u003ciostream\u003e #include \u003cstring\u003e #include \u003cvector\u003e class BigObject { public: BigObject() : person_names_(std::vector\u003cstd::string\u003e(1000000)) { std::cout \u003c\u003c \"constructor. \" \u003c\u003c person_names_.size() \u003c\u003c std::endl; } ~BigObject() { std::cout \u003c\u003c \"destructor. \" \u003c\u003c std::endl; } BigObject(const BigObject\u0026 other) { person_names_ = other.person_names_; std::cout \u003c\u003c \"copy constructor. \" \u003c\u003c person_names_.size() \u003c\u003c std::endl; } private: std::vector\u003cstd::string\u003e person_names_; }; BigObject Foo() { BigObject local_obj; return local_obj; // return std::move(local_obj); } int n {0}; struct C { explicit C(int) {} C(const C\u0026) { ++n; } int x {1}; }; int main() { { BigObject obj = Foo(); } //-----Foo() // : BigObject local_obj -\u003e ctor + copy ctor // : return local_obj -\u003e dtor //BigObject obj // : -\u003e copy ctor // -\u003e dtor // : -\u003e dtor C c1(42); // copy ctor is equivalent to direct-ctor C c2 = C(42); std::cout \u003c\u003c \"n:\" \u003c\u003c n \u003c\u003c std::endl; return 0; } /* g++ -g -fno-elide-constructors -Wall -std=c++11 main.cpp main.cpp: In function â€˜int main()â€™: main.cpp:49:7: warning: variable â€˜c2â€™ set but not used [-Wunused-but-set-variable] 49 | C c2 = C(42); | ^~ ./a.out constructor. 1000000 copy constructor. 1000000 destructor. copy constructor. 1000000 destructor. destructor. n:1 */ /* g++ -g main.cpp ./a.out constructor. 1000000 destructor. n:0 */ ","date":"2024-01-12","objectID":"/2024-01-12-c-copy-elision/:0:0","tags":[],"title":"c++ copy elision","uri":"/2024-01-12-c-copy-elision/"},{"categories":[],"content":"epub2pdf ","date":"2023-11-29","objectID":"/2023-11-29-epub-to-pdf/:0:0","tags":[],"title":"epub to pdf","uri":"/2023-11-29-epub-to-pdf/"},{"categories":["tools"],"content":" å®‰è£… ## CentOS wget https://github.com/sharkdp/bat/releases/download/v0.24.0/bat-v0.24.0-x86_64-unknown-linux-gnu.tar.gz tar -xvf bat-v0.24.0-x86_64-unknown-linux-gnu.tar.gz cd bat-v0.24.0-x86_64-unknown-linux-gnu cp ./bat ~/local/bin ","date":"2023-11-17","objectID":"/2023-11-17-bat--better-than-cat/:1:0","tags":["linux","cat","bat"],"title":"bat: better than cat","uri":"/2023-11-17-bat--better-than-cat/"},{"categories":["tools"],"content":" è®¾ç½® ## cat alias cat='~/local/bin/bat --style=plain' ## help alias bathelp='bat --plain --language=help' help() { \"$@\" --help 2\u003e\u00261 | bathelp } alias -g -- -h='-h 2\u003e\u00261 | bat --language=help --style=plain' alias -g -- --help='--help 2\u003e\u00261 | bat --language=help --style=plain' ## tail -f taillog() { tail -f $1 | bat --paging=never -l log } ## fzf alias fzfx='fzf --preview \"bat --color=always --style=numbers --line-range=:500 {}\"' ","date":"2023-11-17","objectID":"/2023-11-17-bat--better-than-cat/:2:0","tags":["linux","cat","bat"],"title":"bat: better than cat","uri":"/2023-11-17-bat--better-than-cat/"},{"categories":["tools"],"content":"nethogs å¯ä»¥é’ˆå¯¹ Linux æ“ä½œç³»ç»Ÿä¸‹å•ç‹¬çš„è¿›ç¨‹ç›‘æ§ç½‘ç»œå¸¦å®½ï¼Œå¯ä»¥ååˆ†æ–¹ä¾¿åœ°æ’æŸ¥å½“å‰å ç”¨æµé‡è¿‡å¤šçš„è¿›ç¨‹ã€‚ wget https://github.com/raboof/nethogs/archive/refs/tags/v0.8.7.tar.gz tar -xvf v0.8.7.tar.gz cd nethogs-0.8.7 ## ä¿®æ”¹å®‰è£…è·¯å¾„ Makefile make make install #export TERM=linux ln -sfn /usr/local/sbin/nethogs /usr/bin/nethogs ## é root ä¹Ÿèƒ½ä½¿ç”¨ ## running nethogs without root ## https://github.com/raboof/nethogs/issues/86 setcap \"cap_net_admin,cap_net_raw=ep\" /usr/sbin/nethogs ## https://github.com/raboof/nethogs/issues/142 setcap cap_net_admin,cap_net_raw,cap_dac_read_search,cap_sys_ptrace+ep /usr/local/sbin/nethogs export TERM=linux ","date":"2023-11-17","objectID":"/2023-11-17-nethogs/:0:0","tags":["linux","nethogs"],"title":"nethogs","uri":"/2023-11-17-nethogs/"},{"categories":["toolsj"],"content":"å®‰è£… Docky mkdir -p ~/Downloads/docky cd ~/Downloads/docky wget http://archive.ubuntu.com/ubuntu/pool/universe/g/gnome-sharp2/libgconf2.0-cil_2.24.2-4_all.deb wget http://archive.ubuntu.com/ubuntu/pool/main/g/glibc/multiarch-support_2.27-3ubuntu1_amd64.deb wget http://archive.ubuntu.com/ubuntu/pool/universe/libg/libgnome-keyring/libgnome-keyring-common_3.12.0-1build1_all.deb wget http://archive.ubuntu.com/ubuntu/pool/universe/libg/libgnome-keyring/libgnome-keyring0_3.12.0-1build1_amd64.deb wget http://archive.ubuntu.com/ubuntu/pool/universe/g/gnome-keyring-sharp/libgnome-keyring1.0-cil_1.0.0-5_amd64.deb sudo apt install ./*.deb wget http://archive.ubuntu.com/ubuntu/pool/universe/d/docky/docky_2.2.1.1-1_all.deb sudo apt install ./docky_2.2.1.1-1_all.deb ","date":"2023-11-10","objectID":"/2023-11-10-ubuntu-%E5%AE%89%E8%A3%85-docky/:0:0","tags":["linux","docky"],"title":"ubuntu å®‰è£… docky","uri":"/2023-11-10-ubuntu-%E5%AE%89%E8%A3%85-docky/"},{"categories":["tools"],"content":"zsh å‡ºç°é”™è¯¯æç¤º zsh compinit: insecure directories, run compaudit for list å…ˆè¿›å…¥ zsh ç¯å¢ƒ(é€‰æ‹© n)ï¼Œç„¶åæ‰§è¡Œ compaudit |xargs chmod g-w ","date":"2023-11-06","objectID":"/2023-11-06-zsh-compinit--insecure-directories-run-compaudit-for-list/:0:0","tags":["Linux","zsh","compinit"],"title":"zsh compinit: insecure directories, run compaudit for list","uri":"/2023-11-06-zsh-compinit--insecure-directories-run-compaudit-for-list/"},{"categories":["tools"],"content":"nerd font æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„å­—ä½“ï¼Œæä¾›äº†å¤§é‡çš„å›¾æ ‡ï¼Œå¯ä»¥ç”¨äº terminalã€vim ç­‰ç»ˆç«¯æ˜¾ç¤ºã€‚ #/bin/bash # install DroidSansMono Nerd Font --\u003e u can choose another at: https://www.nerdfonts.com/font-downloads echo \"[-] Download fonts [-]\" echo \"https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/DroidSansMono.zip\" wget https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/DroidSansMono.zip unzip DroidSansMono.zip -d ~/.fonts fc-cache -fv echo \"done!\" mkdir -p ~/.fonts wget https://github.com/ryanoasis/nerd-fonts/releases/download/v3.0.2/SourceCodePro.zip wget https://github.com/ryanoasis/nerd-fonts/releases/download/v3.0.2/NerdFontsSymbolsOnly.zip unzip SourceCodePro.zip cd SourceCodePro cp ./* ~/.fonts fc-cache -fv ","date":"2023-11-04","objectID":"/2023-11-04-nerd-font/:0:0","tags":["linux","nerd","fonts","symbolic","saucecodepro"],"title":"nerd font","uri":"/2023-11-04-nerd-font/"},{"categories":[],"content":"alacritty æ¯” terminator æ›´åŠ å¼ºå¤§ã€‚ apt install cmake pkg-config libfreetype6-dev libfontconfig1-dev libxcb-xfixes0-dev libxkbcommon-dev python3 apt-get update --fix-missing sudo apt install git curl cargo cd /tmp git clone https://github.com/alacritty/alacritty.git cd alacritty/ curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh source \"$HOME/.cargo/env\" rustup override set stable sudo apt install cmake pkg-config libfreetype6-dev libfontconfig1-dev libxcb-xfixes0-dev python3 cargo build --release cargo build --release sudo cp target/release/alacritty /usr/local/bin # or anywhere else in $PATH sudo cp extra/logo/alacritty-term.svg /usr/share/pixmaps/Alacritty.svg sudo desktop-file-install extra/linux/Alacritty.desktop sudo update-desktop-database ","date":"2023-11-03","objectID":"/2023-11-03-alacritty/:0:0","tags":[],"title":"alacritty","uri":"/2023-11-03-alacritty/"},{"categories":[],"content":" å¤„ç† tmux é—®é¢˜ ## https://github.com/alacritty/alacritty/issues/2487 export TERM=xterm-256color ## æˆ–è€…å°è¯•ä½¿ç”¨ä»¥ä¸‹é…ç½® export TERM=xterm tmux kill-server ","date":"2023-11-03","objectID":"/2023-11-03-alacritty/:1:0","tags":[],"title":"alacritty","uri":"/2023-11-03-alacritty/"},{"categories":[],"content":" å¤„ç† nvim é¢œè‰²æ˜¾ç¤ºé—®é¢˜ ## https://github.com/alacritty/alacritty/issues/3354 set-option -ga terminal-overrides \",alacritty:Tc\" set -g default-terminal \"alacritty\" ","date":"2023-11-03","objectID":"/2023-11-03-alacritty/:2:0","tags":[],"title":"alacritty","uri":"/2023-11-03-alacritty/"},{"categories":[],"content":" color issues ## tmux.conf ## alacrrity: https://github.com/alacritty/alacritty/issues/3354 set-option -ga terminal-overrides \",alacritty:Tc\" set -g default-terminal \"alacritty\" ## https://www.reddit.com/r/tmux/comments/onom6t/nvim_colors_change_if_on_tmux_on_alacritty/ set -g default-terminal 'xterm-256color' set -as terminal-overrides ',xterm*:Tc:sitm=\\E[3m' ## .zshrc ## alacritty export TERM=xterm-256color ## .bashrc ## colo ## .zshrc export TERM=xterm-256color ## .bashrc export TERM=xterm-256color ","date":"2023-11-03","objectID":"/2023-11-03-alacritty/:3:0","tags":[],"title":"alacritty","uri":"/2023-11-03-alacritty/"},{"categories":[],"content":" ä» yaml è½¬æ¢åˆ° toml alacritty migrate -c xxx.yaml ## æˆ–è€…æ‰¹é‡è½¬æ¢ find . -type f -name '*.yaml' | xargs -I {} alacritty migrate -c {} ","date":"2023-11-03","objectID":"/2023-11-03-alacritty/:4:0","tags":[],"title":"alacritty","uri":"/2023-11-03-alacritty/"},{"categories":[],"content":" Ref ä¸€ä¸ªé…ç½®çš„è¯´æ˜ alacritty.yml ","date":"2023-11-03","objectID":"/2023-11-03-alacritty/:5:0","tags":[],"title":"alacritty","uri":"/2023-11-03-alacritty/"},{"categories":["tools"],"content":" set encoding=utf-8 set termencoding=utf-8 set fileencodings=ucs-bom,utf-8,cp936,gb18030,big5,euc-jp,euc-kr set fileencoding=utf-8 ","date":"2023-10-30","objectID":"/2023-10-30-nvim-%E6%89%93%E5%BC%80%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81/:0:0","tags":["linux","vim","nvim","neovim","utf8"],"title":"nvim æ‰“å¼€ä¸­æ–‡ä¹±ç ","uri":"/2023-10-30-nvim-%E6%89%93%E5%BC%80%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81/"},{"categories":["tools"],"content":"æˆ‘ä»¬åœ¨è®¾è®¡ç»“æ„ä½“æ—¶ï¼Œéœ€è¦æ…é‡è€ƒè™‘å†…å­˜å¯¹é½çš„é—®é¢˜ï¼Œå› ä¸ºä¸åŒçš„å†…å­˜å¯¹é½æ–¹å¼å¯¹ç¨‹åºçš„æ€§èƒ½æœ‰æå¤§çš„å½±å“ã€‚ ","date":"2023-10-22","objectID":"/2023-10-22-c-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/:0:0","tags":["Linux","c++","struct","pack","align","memory","å†…å­˜å¯¹é½"],"title":"c++ å†…å­˜å¯¹é½","uri":"/2023-10-22-c-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/"},{"categories":["tools"],"content":" CPU è¯»å–å†…å­˜çš„æœ€å°æœ‰æ•ˆå€¼è®¡ç®—æœºçš„å†…å­˜æ˜¯æŒ‰ç…§ byte(8 bits) è¿›è¡Œæœ‰åºæ’åºï¼Œç†è®ºä¸Šï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æœ€å°æœ‰æ•ˆå€¼ä¸º 1 byte è¿›è¡Œéšæœºå†…å­˜è¯»å–ã€‚ç„¶è€Œï¼Œå¦‚æœæ¯æ¬¡éƒ½æ˜¯æŒ‰ç…§è¿™ä¸ªèŠ‚å¥ï¼Œæ¯å–ä¸€ä¸ª intï¼ˆå‡è®¾ä¸º 4byteï¼‰ å˜é‡ï¼ŒCPU éƒ½éœ€è¦è¿›è¡Œ 4 æ¬¡æ“ä½œï¼Œæ¯«æ— ç–‘é—®æ•ˆç‡æä½ã€‚ æˆ‘ä»¬çŸ¥é“ CPU æ¶æ„æœ‰ 32bit ä¸ 64bit ä¸¤ç§ï¼Œå…¶å«ä¹‰æ˜¯åœ¨ CPU æ¯æ¬¡ä»å†…å­˜åœ°å€å–å€¼æ—¶ï¼Œæ˜¯ä»¥å¯¹åº”æœ€å°æœ‰æ•ˆå†…å­˜åœ°å€è¿›è¡Œå¿«é€Ÿæ“ä½œçš„ã€‚ç®€å•è®² å¯¹äº 32bitï¼Œæœ€ä¼˜æ“ä½œä¸ºæ¯æ¬¡å– 4 byte çš„å†…å­˜ç©ºé—´è¿›è¡Œè¯†åˆ« å¯¹äº 64bitï¼Œæœ€ä¼˜æ“ä½œä¸ºæ¯æ¬¡å– 8 byte çš„å†…å­˜ç©ºé—´è¿›è¡Œè¯†åˆ« ç°åœ¨çš„æ“ä½œç³»ç»Ÿä¸€èˆ¬éƒ½æ˜¯ 64bit äº†ï¼Œæ‰€ä»¥æ¯æ¬¡çš„æœ€ä½³å–å†…å­˜åœ°å€ä¸º 8byteï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ç»å¸¸è¯´çš„ï¼Œå†…å­˜å¯¹é½æŒ‰ç…§ 8byteï¼Œä¹Ÿæ˜¯ç¼–è¯‘å™¨ gcc é»˜è®¤é‡‡ç”¨çš„å¤§å°ã€‚ #pragama pack(8) ","date":"2023-10-22","objectID":"/2023-10-22-c-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/:1:0","tags":["Linux","c++","struct","pack","align","memory","å†…å­˜å¯¹é½"],"title":"c++ å†…å­˜å¯¹é½","uri":"/2023-10-22-c-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/"},{"categories":["tools"],"content":" å¦‚æœè®¡ç®— struct çš„å†…å­˜å¤§å° å…ˆè®¡ç®—æ“ä½œç³»ç»Ÿ CPU çš„å¯¹é½å•ä½ï¼ˆä¸€èˆ¬ä¸º 8byteï¼‰ï¼Œæ ¹æ®ç»“æ„ä½“æˆå‘˜æœ€å¤§çš„å†…å­˜å•ä½ï¼Œå– ä¸¤è€…çš„æœ€å°å€¼ä½œä¸ºæœ‰æ•ˆå¯¹é½å•ä½(x) å¯¹äºç»“æ„ä½“çš„æ¯ä¸€ä¸ªæˆå‘˜ï¼Œå–å…¶å¤§å°ä¸æœ‰æ•ˆå¯¹é½å•ä½çš„è¾ƒå°è€…ï¼Œä½œä¸ºå•ä¸ªæˆå‘˜çš„æœ‰æ•ˆå•ä½(e)ã€‚ç¬¬ä¸€ä¸ªæˆå‘˜å˜é‡çš„åç§»å€¼ä» 0 å¼€å§‹ï¼ŒæŒ‰ç…§æ¯ä¸ªæˆå‘˜çš„æœ‰æ•ˆå¯¹é½å•ä½æ’åˆ—ï¼Œä¸è¶³ä¹‹å¤„è¿›è¡Œè¡¥ä½å¡«å…… æœ€åï¼Œæ•´ä¸ªç»“æ„ä½“è¿˜éœ€è¦æŒ‰ç…§æœ‰æ•ˆå¯¹é½å•ä½(x)çš„æ•´æ•°å€è¿›è¡Œå¡«å…… #include \u003ciostream\u003e using namespace std; #pragma pack(push) #pragma pack(4) struct { int a; double b; short c; } u; #pragma pack(pop) #pragma pack(push) #pragma pack(1) struct { int a; double b; short c; } v; #pragma pack(pop) struct { int a; double b; short c; } x; struct { int a; char b; short c; } y; struct { int a; char b; short c; } __attribute__((packed)) z; int main() { cout \u003c\u003c \"sizeof(u):\" \u003c\u003c sizeof(u) \u003c\u003c endl; cout \u003c\u003c \"sizeof(v):\" \u003c\u003c sizeof(v) \u003c\u003c endl; cout \u003c\u003c \"sizeof(x):\" \u003c\u003c sizeof(x) \u003c\u003c endl; cout \u003c\u003c \"sizeof(y):\" \u003c\u003c sizeof(y) \u003c\u003c endl; cout \u003c\u003c \"sizeof(z):\" \u003c\u003c sizeof(z) \u003c\u003c endl; return 0; } sizeof(u):16, int(4) + double(8) + short(2) = (14/4+1) * 4 = 16 sizeof(v):14, int(4) + double(8) + short(2) = 14/1 = 14 sizeof(x):24 ç»“æ„ä½“ x çš„æœ€å¤§æˆå‘˜ (double)b çš„å†…å­˜å ç”¨ 8ï¼Œæ“ä½œç³»ç»Ÿ64ä½ï¼Œåˆ™æœ‰æ•ˆå¯¹é½å•ä½ x = min(8,8) = 8 å¯¹äºç»“æ„ä½“çš„æ¯ä¸ªæˆå‘˜ sizeof(a) = 4 \u003c= 8, åˆ™æŒ‰ç…§4çš„å€æ•°è¿›è¡Œåç§»ï¼ˆ4byteï¼‰ï¼Œå ç”¨4ä¸ªå­—èŠ‚ï¼Œå·²ç”¨:4 sizeof(b) = 1 \u003c= 8, åˆ™æŒ‰ç…§1çš„å€æ•°è¿›è¡Œåç§»ï¼Œä»ï¼ˆ4byteï¼‰å¼€å§‹ï¼Œå…ˆå¯¹é½ 8 byteï¼Œå ç”¨ 8 byteï¼Œå·²ç”¨: 4 + 4(å¡«å……) + 8 = 16 sizeof(c) = 2 \u003c= 8, åˆ™æŒ‰ç…§2çš„å€æ•°è¿›è¡Œåç§»ï¼Œä»ä¸Šé¢ 16 åé¢æŒ‰ç…§ 2 çš„å€æ•°ï¼Œå ç”¨ä¸¤ä¸ªå­—èŠ‚ï¼Œå·²ç”¨ï¼š16 + 2 = 18 æœ€åï¼Œæ•´ä¸ªç»“æ„ä½“å†æŒ‰ç…§ x=8 çš„å€æ•°å¯¹é½ï¼Œ(18/8+1) * 8 = 24ï¼Œæ‰€ä»¥æ•´ä¸ªç»“æ„ä½“å¤§å°ä¸º24å­—èŠ‚ å†…å­˜ç©ºé—´ä¸º xxxx ____ xxxxxxxx xx ______ 4 pad(4) 8 2 pad(6) sizeof(y):8 ç»“æ„ä½“ y çš„æœ€å¤§æˆå‘˜ a çš„å†…å­˜å ç”¨ 4ï¼Œæ“ä½œç³»ç»Ÿ64ä½ï¼Œåˆ™æœ‰æ•ˆå¯¹é½å•ä½ x = min(4,8) = 4 å¯¹äºç»“æ„ä½“çš„æ¯ä¸ªæˆå‘˜ sizeof(a) = 4 \u003c= 4, åˆ™æŒ‰ç…§4çš„å€æ•°è¿›è¡Œåç§»ï¼ˆ4byteï¼‰ï¼Œå ç”¨4ä¸ªå­—èŠ‚ï¼Œå·²ç”¨:4 sizeof(b) = 1 \u003c= 4, åˆ™æŒ‰ç…§1çš„å€æ•°è¿›è¡Œåç§»ï¼Œä»ï¼ˆ4byteï¼‰å¼€å§‹ï¼Œå ç”¨ä¸€ä¸ªå­—èŠ‚ï¼Œå·²ç”¨: 4 + 1 = 5 sizeof(c) = 2 \u003c= 4, åˆ™æŒ‰ç…§2çš„å€æ•°è¿›è¡Œåç§»ï¼Œä»ä¸Šé¢ 5 åé¢æŒ‰ç…§ 2 çš„å€æ•°ï¼Œå ç”¨ä¸¤ä¸ªå­—èŠ‚ï¼Œå·²ç”¨ï¼š5 + 1(å¡«å……) + 2 = 8 æœ€åï¼Œæ•´ä¸ªç»“æ„ä½“å†æŒ‰ç…§ x=4 çš„å€æ•°å¯¹é½ï¼Œåˆšå¥½ä¸º 8ï¼Œæ‰€ä»¥æ•´ä¸ªç»“æ„ä½“å¤§å°ä¸º8å­—èŠ‚ sizeof(z):7 æˆ‘ä»¬å‘Šè¯‰ç¼–è¯‘å™¨ä¸ç”¨å¯¹é½ï¼Œæ‰€ä»¥æŒ‰ç…§å®é™…å ç”¨çš„å­—èŠ‚å ç”¨ 7 byte. ","date":"2023-10-22","objectID":"/2023-10-22-c-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/:2:0","tags":["Linux","c++","struct","pack","align","memory","å†…å­˜å¯¹é½"],"title":"c++ å†…å­˜å¯¹é½","uri":"/2023-10-22-c-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/"},{"categories":["tools"],"content":" ä½¿ç”¨ pack æŒ‡å®šå¯¹é½å¯ä»¥ä½¿ç”¨ç¼–è¯‘å™¨æä¾›çš„ pack(n) æŒ‡å®šå¯¹é½å¤§å°ï¼š #pragma pack(n) æˆ–è€…ä½¿ç”¨å‹æ ˆçš„æ–¹å¼ #pragma pack(push, n) #pragma pop() ","date":"2023-10-22","objectID":"/2023-10-22-c-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/:3:0","tags":["Linux","c++","struct","pack","align","memory","å†…å­˜å¯¹é½"],"title":"c++ å†…å­˜å¯¹é½","uri":"/2023-10-22-c-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/"},{"categories":["tools"],"content":" ä¸åŒå†…å­˜å¯¹é½å½±å“ç¨‹åºæ€§èƒ½ ## å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ 64 ä½æ“ä½œç³»ç»Ÿä¸­ï¼Œæœ€ä½³å®è·µä¸º 8byte å¯¹é½ SampleStructPack1: 1000000000000000000 bytes allocated in 8202 nanoseconds SampleStructPack2: 1200000000000000000 bytes allocated in 276 nanoseconds SampleStructPack4: 1600000000000000000 bytes allocated in 205 nanoseconds SampleStructPack4: 1600000000000000000 bytes allocated in 131 nanoseconds ç¨‹åºå¦‚ä¸‹ï¼š #include \u003ciostream\u003e #include \u003cchrono\u003e #pragma pack (1) struct SampleStructPack1 { bool flag; unsigned int timeout; }; //#pragma pack(0) #pragma pack (2) struct SampleStructPack2 { bool flag; unsigned int timeout; }; // #pragma pack(0) #pragma pack (4) struct SampleStructPack4 { bool flag; unsigned int timeout; }; // #pragma pack(0) #pragma pack (8) struct SampleStructPack8 { bool flag; unsigned int timeout; }; // #pragma pack(0) struct SampleStruct { bool flag; unsigned int timeout; }; static const long long MAX_ELEMENTS = 200000000000000000; using namespace std; using namespace std::chrono; void allocate1() { SampleStructPack1 elements [MAX_ELEMENTS]; cout \u003c\u003c \"SampleStructPack1: \" \u003c\u003c sizeof(elements) \u003c\u003c \" bytes allocated\"; } void allocate2() { SampleStructPack2 elements [MAX_ELEMENTS]; cout \u003c\u003c \"SampleStructPack2: \" \u003c\u003c sizeof(elements) \u003c\u003c \" bytes allocated\"; } void allocate4() { SampleStructPack4 elements [MAX_ELEMENTS]; cout \u003c\u003c \"SampleStructPack4: \" \u003c\u003c sizeof(elements) \u003c\u003c \" bytes allocated\"; } void allocate8() { SampleStructPack8 elements [MAX_ELEMENTS]; cout \u003c\u003c \"SampleStructPack8: \" \u003c\u003c sizeof(elements) \u003c\u003c \" bytes allocated\"; } void chrono1() { auto begin = high_resolution_clock::now() ; allocate1(); cout \u003c\u003c \" in \" \u003c\u003c duration_cast\u003cnanoseconds\u003e(high_resolution_clock::now() - begin).count() \u003c\u003c \" nanoseconds\" \u003c\u003c endl; } void chrono2() { auto begin = high_resolution_clock::now() ; allocate2(); cout \u003c\u003c \" in \" \u003c\u003c duration_cast\u003cnanoseconds\u003e(high_resolution_clock::now() - begin).count() \u003c\u003c \" nanoseconds\" \u003c\u003c endl; } void chrono4() { auto begin = high_resolution_clock::now() ; allocate4(); cout \u003c\u003c \" in \" \u003c\u003c duration_cast\u003cnanoseconds\u003e(high_resolution_clock::now() - begin).count() \u003c\u003c \" nanoseconds\" \u003c\u003c endl; } void chrono8() { auto begin = high_resolution_clock::now() ; allocate4(); cout \u003c\u003c \" in \" \u003c\u003c duration_cast\u003cnanoseconds\u003e(high_resolution_clock::now() - begin).count() \u003c\u003c \" nanoseconds\" \u003c\u003c endl; } int main(int argc, char *argv[]) { chrono1(); chrono2(); chrono4(); chrono8(); return 0; } ","date":"2023-10-22","objectID":"/2023-10-22-c-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/:4:0","tags":["Linux","c++","struct","pack","align","memory","å†…å­˜å¯¹é½"],"title":"c++ å†…å­˜å¯¹é½","uri":"/2023-10-22-c-%E5%86%85%E5%AD%98%E5%AF%B9%E9%BD%90/"},{"categories":["tools"],"content":" old-style:[0]æˆ‘åœ¨æŸ¥çœ‹ä»£ç çš„æ—¶å€™ï¼Œå‘ç°æœ‰ä¸€ä¸ª struct æœ‰ é•¿åº¦ä¸º0 çš„æ•°ç»„ã€‚ struct data_t { size_t size; int data[0]; }; å¦‚æœæ‰“å°å‡ºä¸Šé¢ç»“æ„ä½“ï¼Œå‘ç°é•¿åº¦æ­£å¥½ä¸º size_tï¼Œå…¶ä¸­çš„ data æ˜¯ä¸å ç”¨å†…å­˜çš„ã€‚ cout \u003c\u003c \"sizeof(size_t):\" \u003c\u003c sizeof(size_t) \u003c\u003c endl; cout \u003c\u003c \"sizeof(data_t):\" \u003c\u003c sizeof(data_t) \u003c\u003c endl; //sizeof(size_t):8 //sizeof(data_t):8 åŸæ¥ï¼Œè¿™æ ·åšçš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†å¯ä»¥æ·»åŠ ä¸é™é•¿åº¦çš„æ•°ç»„ï¼Œé€šè¿‡ malloc åˆ†é…å†…å­˜å¤§å°ï¼Œä»è€Œå®ç°åœ¨ä»£ç ä¸­çµæ´»åˆ†é…æ•°æ®çš„ç›®çš„ã€‚ data_t* get_data(size_t size) { data_t* d = (data_t*) malloc(sizeof(data_t) + size * sizeof(int)); if (d) d-\u003esize = size; return d; } ","date":"2023-10-20","objectID":"/2023-10-20-c-array-of-zero-length/:1:0","tags":["linux","c++","cpp","array"],"title":"c++ array of ZERO length","uri":"/2023-10-20-c-array-of-zero-length/"},{"categories":["tools"],"content":" new-style:[]å…¶å®ï¼Œè¿™æ˜¯ä¸€ç§æ¯”è¾ƒå¤è€çš„å†™æ³•ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥ä½¿ç”¨ arr[] (flexible array member) æ¥æ›¿ä»£ struct data_t { size_t size; //In C99 standard this is not neccessary as it supports the arr[] syntax. int data[]; }; å®Œæ•´çš„æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š #include \u003ciostream\u003e #include \u003cstring\u003e #include \u003cvector\u003e #include \u003ccstdlib\u003e using namespace std; struct data_t { size_t size; //This is an old C hack to allow a flexible sized arrays. int data[0]; //In C99 standard this is not neccessary as it supports the arr[] syntax. //int data[]; }; data_t* get_data(size_t size) { data_t* d = (data_t*) malloc(sizeof(data_t) + size * sizeof(int)); if (d) d-\u003esize = size; return d; } int main() { cout \u003c\u003c \"sizeof(size_t):\" \u003c\u003c sizeof(size_t) \u003c\u003c endl; cout \u003c\u003c \"sizeof(data_t):\" \u003c\u003c sizeof(data_t) \u003c\u003c endl; auto x = get_data(10); for (size_t i = 0; i \u003c x-\u003esize; ++i) x-\u003edata[i] = i*i; for (size_t i = 0; i \u003c x-\u003esize; ++i) cout \u003c\u003c \"x[\" \u003c\u003c i \u003c\u003c \"]:\" \u003c\u003c x-\u003edata[i] \u003c\u003c endl; return 0; } ","date":"2023-10-20","objectID":"/2023-10-20-c-array-of-zero-length/:2:0","tags":["linux","c++","cpp","array"],"title":"c++ array of ZERO length","uri":"/2023-10-20-c-array-of-zero-length/"},{"categories":["tools"],"content":" best-style:[1]ä¸Šé¢çš„åšæ³•æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœä½¿ç”¨ç¼–è¯‘å™¨é€‰é¡¹ -pedantic ä¼šæœ‰æŠ¥é”™æç¤ºï¼š ## å¯¹äº int data[0] main.cpp:11:14: warning: ISO C++ forbids zero-size array â€˜dataâ€™ [-Wpedantic] 11 | int data[0]; | ^ ## å¯¹äº int data[] main.cpp:13:9: warning: ISO C++ forbids flexible array member â€˜dataâ€™ [-Wpedantic] 13 | int data[]; | ^~~~ Itâ€™s worth pointing out IMO the best way to do the size calculation, which is used in the Raymond Chen article linked above. struct data_t { size_t size; int data[1]; }; data_t* get_data(size_t size) { // ä½¿ç”¨ offsetof è®¡ç®—å‡º data[size] å ç”¨çš„å¤§å° data_t* d = (data_t*) malloc(offsetof(data_t, data[size])); if (d) d-\u003esize = size; return d; } å®Œæ•´çš„æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š #include \u003ccstddef\u003e #include \u003ciostream\u003e #include \u003cstring\u003e #include \u003cvector\u003e #include \u003ccstdlib\u003e using namespace std; struct data_t { size_t size; int data[1]; }; data_t* get_data(size_t size) { data_t* d = (data_t*) malloc(offsetof(data_t, data[size])); if (d) d-\u003esize = size; return d; } int main() { cout \u003c\u003c \"sizeof(size_t):\" \u003c\u003c sizeof(size_t) \u003c\u003c endl; cout \u003c\u003c \"sizeof(data_t):\" \u003c\u003c sizeof(data_t) \u003c\u003c endl; auto x = get_data(20); for (size_t i = 0; i \u003c x-\u003esize; ++i) x-\u003edata[i] = i*i; cout \u003c\u003c \"x.size:\" \u003c\u003c x-\u003esize \u003c\u003c endl; for (size_t i = 0; i \u003c x-\u003esize; ++i) cout \u003c\u003c \"x[\" \u003c\u003c i \u003c\u003c \"]:\" \u003c\u003c x-\u003edata[i] \u003c\u003c endl; return 0; } ","date":"2023-10-20","objectID":"/2023-10-20-c-array-of-zero-length/:3:0","tags":["linux","c++","cpp","array"],"title":"c++ array of ZERO length","uri":"/2023-10-20-c-array-of-zero-length/"},{"categories":["tools"],"content":" Ref: Array of zero length Why do some structures end with an array of size 1? ","date":"2023-10-20","objectID":"/2023-10-20-c-array-of-zero-length/:4:0","tags":["linux","c++","cpp","array"],"title":"c++ array of ZERO length","uri":"/2023-10-20-c-array-of-zero-length/"},{"categories":["tools"],"content":"ä½¿ç”¨ talebook ## ä½¿ç”¨ docker å®‰è£… docker pull talebook/talebook git clone https://github.com/talebook/talebook.git cd talebook docker-compose -f docker-compose.yml up -d ## è®¿é—®ï¼š 127.0.0.1:8080 ## åˆæ¬¡å®‰è£…ä¼šè¦æ±‚è®¾ç½®è´¦æˆ·ã€å¯†ç  ## ç®¡ç†å‘˜ ## è´¦æˆ·ï¼šadmin ## å¯†ç ï¼š****** ","date":"2023-10-15","objectID":"/2023-10-15-talebook-%E5%9C%A8%E7%BA%BF%E4%B8%AA%E4%BA%BA%E5%9B%BE%E4%B9%A6%E9%A6%86-%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97/:0:0","tags":["linux","talebook","kindle","è¯»ä¹¦","é˜…è¯»","åœ¨çº¿","å›¾ä¹¦é¦†","mobi","pdf"],"title":"talebook åœ¨çº¿ä¸ªäººå›¾ä¹¦é¦† å®‰è£…æŒ‡å—","uri":"/2023-10-15-talebook-%E5%9C%A8%E7%BA%BF%E4%B8%AA%E4%BA%BA%E5%9B%BE%E4%B9%A6%E9%A6%86-%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97/"},{"categories":["tools"],"content":"å°è¯•ä½¿ç”¨ neovimï¼Œå¯ä»¥é‡å¤åˆ©ç”¨ lua è¿™ä¸ªç¼–ç¨‹è¯­è¨€ã€‚ ","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:0:0","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":" å®‰è£… ## ä¸‹è½½äºŒè¿›åˆ¶ wget https://github.com/neovim/neovim/releases/latest/download/nvim-linux64.tar.gz tar -xvf nvim-linux64.tar.gz ## æ·»åŠ åˆ°ç³»ç»Ÿè·¯å¾„ sudo cp -r nvim-linux64 /usr/local/ sudo ln -sfn /usr/local/nvim-linux64/bin/nvim /usr/bin/nvim ## æŸ¥çœ‹ç‰ˆæœ¬ $ nvim --version NVIM v0.9.4 Build type: Release LuaJIT 2.1.1692716794 system vimrc file: \"$VIM/sysinit.vim\" fall-back for $VIM: \"/__w/neovim/neovim/build/nvim.AppDir/usr/share/nvim\" Run :checkhealth for more info ## æ‰“å¼€ nvimï¼Œæ‰§è¡Œ :checkhealth Configuration - WARNING Missing user config file: /home/william/.config/nvim/init.vim - ADVICE: - :help nvim-from-vim Runtime - OK $VIMRUNTIME: /usr/local/nvim-linux64/share/nvim/runtime Performance - OK Build type: Release Remote Plugins - OK Up to date terminal - key_backspace (kbs) terminfo entry: key_backspace= - key_dc (kdch1) terminfo entry: key_dc= - $TERM_PROGRAM=\"tmux\" ","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:1:0","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":" é…ç½®nvim é»˜è®¤ä¼šè¯»å–åˆå§‹åŒ–æ–‡ä»¶ init.lua init.vim ## nvim çš„é…ç½®æ–‡ä»¶åœ¨ mkdir -p ~/.config/nvim cd ~/.config/nvim ","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:2:0","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":" é…ç½®é€‰é¡¹ä¸»è¦ç”¨åˆ°çš„å°±æ˜¯ vim.gã€vim.optã€vim.cmd ç­‰ In Vim In Nvim Note let g:foo = bar vim.g.foo = bar set foo = bar vim.opt.foo = bar set foo = vim.opt.foo = true some_vimscript vim.cmd(some_vimscript) ","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:2:1","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":" æ’ä»¶ç®¡ç† lazy.nvimref: lazy-nvimæ’ä»¶ç®¡ç†å™¨åŸºç¡€å…¥é—¨ ## æ·»åŠ  init.lua vim ~/.config/nvim/init.lua -- bootstrap lazy.nvim -- ./lua/lazynvim-init.lua require(\"lazynvim-init\") ## è®¾ç½® lazynvim vim ~/.config/nvim/lua/lazynvim-init.lua -- 1. å‡†å¤‡lazy.nvimæ¨¡å—ï¼ˆå­˜åœ¨æ€§æ£€æµ‹ï¼‰ -- stdpath(\"data\") -- macOS/Linux: ~/.local/share/nvim -- Windows: ~/AppData/Local/nvim-data local lazypath = vim.fn.stdpath(\"data\") .. \"/lazy/lazy.nvim\" if not vim.loop.fs_stat(lazypath) then vim.fn.system({ \"git\", \"clone\", \"--filter=blob:none\", \"https://github.com/folke/lazy.nvim.git\", \"--branch=stable\", -- latest stable release lazypath, }) end -- -- 2. å°† lazypath è®¾ç½®ä¸ºè¿è¡Œæ—¶è·¯å¾„ -- rtpï¼ˆruntime pathï¼‰ -- nvimè¿›è¡Œè·¯å¾„æœç´¢çš„æ—¶å€™ï¼Œé™¤å·²æœ‰çš„è·¯å¾„ï¼Œè¿˜ä¼šä»prependçš„è·¯å¾„ä¸­æŸ¥æ‰¾ -- å¦åˆ™ï¼Œä¸‹é¢ require(\"lazy\") æ˜¯æ‰¾ä¸åˆ°çš„ vim.opt.rtp:prepend(lazypath) -- 3. åŠ è½½lazy.nvimæ¨¡å— -- require(\"lazy\").setup({}) -- åœ¨ ~/.config/nvim/lua/plugins å®‰è£…æ’ä»¶ require(\"lazy\").setup(\"plugins\") ## æ‰“å¼€ nvim éªŒè¯ lazynvim :Lazy ## å®‰è£… plugin mkdir -p ~/.config/nvim/lua/plugins vim ~/.config/nvim/lua/plugins/plugin-lualine.lua return { { 'nvim-lualine/lualine.nvim', config = function() require('lualine').setup() end } } vim-plug ## ä½¿ç”¨ vim-plug: https://github.com/junegunn/vim-plug ## å­˜æ”¾åœ¨ ~/.config/nvimï¼Œé¿å…ä¸ vim å†²çª curl -fLo ~/.config/nvim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim ## éœ€è¦å®‰è£… pynvim ## python3 -m pip install --user --upgrade pynvim ## å®‰è£…ç›¸å…³çš„æ’ä»¶ï¼Œä½ç½®åœ¨ï¼š~/.config/nvim/plugged vim ~/.config/nvim/init.vim \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \"å¦‚æœvimæ’ä»¶ç®¡ç†å™¨æ²¡æœ‰å®‰è£…åˆ™è‡ªåŠ¨å®‰è£… if empty(glob('~/.config/nvim/autoload/plug.vim')) silent !curl -fLo ~/.config/nvim/autoload/plug.vim --create-dirs \\ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim autocmd VimEnter * PlugInstall --sync | source $MYVIMRC endif \"\" è®¾ç½®vimå¯ä»¥ä¿å­˜æ–‡ä»¶ä¿®æ”¹å†å² silent !mkdir -p ~/.config/nvim/tmp/backup silent !mkdir -p ~/.config/nvim/tmp/undo \"\"silent !mkdir -p ~/.config/nvim/tmp/sessions set backupdir=~/.config/nvim/tmp/backup,. set directory=~/.config/nvim/tmp/backup,. if has('persistent_undo') set undofile set undodir=~/.config/nvim/tmp/undo,. endif call plug#begin('~/.config/nvim/plugged') Plug 'sainnhe/everforest' call plug#end() ","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:2:2","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":" å¿«æ·é”®","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:2:3","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":" ä¸»é¢˜é…è‰²","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:2:4","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":" ä»¥ vimrc ä½œä¸ºåŸºæœ¬å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ .vimrc ä½œä¸ºé…ç½® # CONFIG_PATH=$HOME/.config # ln -s ~/.vim $CONFIG_PATH/nvim # ln -s ~/.vimrc $CONFIG_PATH/nvim/init.vim ","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:2:5","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":" lsp ## nvim 'iostream' file not found sudo apt install libstdc++-12-dev ","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:2:6","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":" python /home/lfang/.config/nvim/lazy/mason/packages/python-lsp-server/venv/pyvenv.cfg home = /home/lfang/anaconda3/bin ## true include-system-site-packages = true version = 3.9.12 ","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:2:7","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":" Ref: å…³äº bufferline.lua çš„åˆç†é…ç½® æ¯”è¾ƒè§„èŒƒçš„ä¸€ä¸ªé…ç½®é¡¹ç›®ï¼šnvim åŠŸèƒ½å¼ºå¤§ .config Neovimå°ç»“ nvimé…ç½®æ–‡ä»¶ (Ubuntu 18.04 æµ‹è¯•æˆåŠŸ) ä»é›¶å¼€å§‹é…ç½® Neovim(Nvim) ä½¿ç”¨ init.vim ","date":"2023-10-14","objectID":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/:3:0","tags":["Linux","vim","neovim","editor","emacs"],"title":"neovim å…¥å‘","uri":"/2023-10-14-neovim-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":"ä¸€ç›´åœ¨å…¥å‘ï¼Œå´ä»æœªçˆ¬å‡ºæ¥ã€‚ Install wget https://mirrors.tuna.tsinghua.edu.cn/gnu/emacs/emacs-29.1.tar.gz tar -xvf emacs-29.1.tar.gz cd emacs-29.1 ## å‡†å¤‡å®‰è£…ç¯å¢ƒ sudo apt build-dep emacs ## ./configure --with-x-toolkit=no --with-xpm=ifavailable --with-gif=ifavailable --with-pop DoomEmacs git clone --depth 1 https://github.com/hlissner/doom-emacs ~/.emacs.d ## æ·»åŠ åˆ°ç¯å¢ƒå˜é‡çš„å¯æ‰§è¡Œè·¯å¾„ export PATH=/home/william/.emacs.d/bin:$PATH åœ¨ä¿®æ”¹äº†~/.doom.d/init.el å’Œ ~/.doom.d/packages.el åéœ€è¦æ‰§è¡Œ doom sync å¦‚æœæœ‰é—®é¢˜å°±è¿è¡Œ doom doctor å¦‚æœéœ€è¦æ›´æ–°å°±è¿è¡Œ doom upgrade å¯ä»¥åœ¨ Emacs å†…é€šè¿‡ SPC h d h æ¥æŸ¥çœ‹æ–‡æ¡£ å¯ä»¥é€šè¿‡å‘½ä»¤æŸ¥çœ‹å¯åŠ¨æ—¶é—´ï¼šM-x emacs-init-time å­—ä½“ref: https://github.com/seagle0128/doom-modeline/issues/310 @bk138 Currently nerd-icons is used in doom-modeline, while all-the-icons has been dropped. You should install nerd-fonts via M-x nerd-icons-install-fonts. Please read REAME. ## å®‰è£… nerd symbol font wget https://github.com/ryanoasis/nerd-fonts/releases/download/v3.0.2/NerdFontsSymbolsOnly.zip unzip NerdFontsSymbolsOnly.zip cd NerdFontsSymbolsOnly cp *ttf ~/.local/share/fonts ## æ›´æ–°å­—ä½“ç¼“å­˜ fc-cache -fv fc-list |grep -i nerd ## æ¸…ç†åŸæ¥çš„ font cd /home/william/.emacs.d/.local/straight/repos rm all-the-icons.el cd /home/william/.emacs.d/.local/straight/build-29.1 rm -rf all-the-icons ## é‡æ–°åŠ è½½ doom sync \u0026\u0026 doom build ## å®‰è£…å¿…è¦çš„å­—ä½“åŒ… M-x all-the-icons-install-fonts M-x nerd-icons-install-fonts ","date":"2023-10-11","objectID":"/2023-10-11-emacs-%E5%85%A5%E5%9D%91/:0:0","tags":["Linux","Emacs"],"title":"Emacs å…¥å‘","uri":"/2023-10-11-emacs-%E5%85%A5%E5%9D%91/"},{"categories":["tools"],"content":"ç½‘ä¸Šä¸€ä»½ cs çš„é˜…è¯»ä¹¦ç›®åˆ—è¡¨ï¼Œå€¼å¾—å¥½å¥½æ²‰ä¸‹å¿ƒæ¥é˜…è¯»ï¼Œä¸ºäº†æ–¹ä¾¿æŸ¥é˜…ï¼Œç‰¹åœ°åœ¨è¿™é‡Œæ¨èä¸€ä»½ï¼š Influential CS BOOKS Most influential books for programmersThese are books considered most influential for programmers from this StackOverflow thread. ","date":"2023-09-26","objectID":"/2023-09-26-cs-%E9%98%85%E8%AF%BB%E4%B9%A6%E7%9B%AE/:0:0","tags":["Linux","cs","books","reading"],"title":"cs é˜…è¯»ä¹¦ç›®","uri":"/2023-09-26-cs-%E9%98%85%E8%AF%BB%E4%B9%A6%E7%9B%AE/"},{"categories":["tools"],"content":" Why on Github?Cause SO is cathedral, Github is bazzar ;) Long answer: I frequently visit above thread. Over the time, such an active thread is closed, links to book sites are removed and I have to copy/paste/search everytime I go there. I am afraid they might remove it entirely. So, the list is preserved here :) ","date":"2023-09-26","objectID":"/2023-09-26-cs-%E9%98%85%E8%AF%BB%E4%B9%A6%E7%9B%AE/:1:0","tags":["Linux","cs","books","reading"],"title":"cs é˜…è¯»ä¹¦ç›®","uri":"/2023-09-26-cs-%E9%98%85%E8%AF%BB%E4%B9%A6%E7%9B%AE/"},{"categories":["tools"],"content":" Influential Books List Code Complete (2nd edition) by Steve McConnell The Pragmatic Programmer by Andrew Hunt and David Thomas Structure and Interpretation of Computer Programs by Sussman and Abelson (free pdf) The C Programming Language by Brian Kernighan and Dennis Ritchie Introduction to Algorithms by Cormen, Leiserson, Rivest \u0026 Stein Design Patterns by the Gang of Four Refactoring: Improving the Design of Existing Code by Martin Fowler The Mythical Man Month by Fred Brooks The Art of Computer Programming by Donald Knuth Compilers: Principles, Techniques and Tools by Alfred V. Aho, Ravi Sethi and Jeffrey D. Ullman GÃ¶del, Escher, Bach by Douglas Hofstadter Clean Code: A Handbook of Agile Software Craftsmanship by Robert C. Martin Effective C++ by Scott Meyers More Effective C++ by Scott Meyers CODE by Charles Petzold Programming Pearls by Jon Bentley Working Effectively with Legacy Code by Michael C. Feathers Peopleware by Demarco and Lister Coders at Work by Peter Seibel Surely Youâ€™re Joking, Mr. Feynman! by Richard Feynman Effective Java 2nd edition by Joshua Bloch Patterns of Enterprise Application Architecture by Martin Fowler The Little Schemer by Matthias Felleisen and Daniel P. Friedman The Seasoned Schemer by Matthias Felleisen and Daniel P. Friedman Whyâ€™s (Poignant) Guide to Ruby by why the lucky stiff (free PDF) The Inmates Are Running The Asylum: Why High Tech Products Drive Us Crazy and How to Restore the Sanity by Alan Cooper The Art of Unix Programming by Eric S. Raymond Test-Driven Development: By Example by Kent Beck (free PDF) Practices of an Agile Developer by Venkat Subramaniam and Andy Hunt Donâ€™t Make Me Think by Steve Krug Agile Software Development, Principles, Patterns, and Practices by Robert C. Martin Domain Driven Designs by Eric Evans The Design of Everyday Things by Donald Norman Modern C++ Design by Andrei Alexandrescu Best Software Writing I by Joel Spolsky The Practice of Programming by Kernighan and Pike Pragmatic Thinking and Learning: Refactor Your Wetware by Andy Hunt Software Estimation: Demystifying the Black Art by Steve McConnel The Passionate Programmer by Chad Fowler Hackers: Heroes of the Computer Revolution by Steven Levy (free ebook) Algorithms + Data Structures = Programs by Niklaus Wirth (free PDF) Writing Solid Code by Steve Maguire JavaScript - The Good Parts by Douglas Crockford Getting Real by 37 Signals (free PDF) Foundations of Programming by Karl Seguin (free PDF) Computer Graphics: Principles and Practice in C (2nd Edition) by Foley, Dam, Feiner, Hughes Thinking in Java by Bruce Eckel The Elements of Computing Systems by Noam Nisan and Shimon Schocken(free ebook) Refactoring to Patterns by Joshua Kerievsky Modern Operating Systems by Andrew S. Tanenbaum The Annotated Turing by Charles Petzold Things That Make Us Smart by Donald Norman The Timeless Way of Building by Christopher Alexander The Deadline: A Novel About Project Management by Tom DeMarco The C++ Programming Language (3rd edition) by Stroustrup Computer Systems - A Programmerâ€™s Perspective by Bryant and Oâ€™Hallaron Agile Principles, Patterns, and Practices in C# by Robert C. Martin Growing Object-Oriented Software, Guided by Tests by Steve Freeman and Nat Pryce Framework Design Guidelines by Brad Abrams Object Thinking by Dr. David West Advanced Programming in the UNIX Environment by W. Richard Stevens Hackers and Painters: Big Ideas from the Computer Age by Paul Graham The Soul of a New Machine by Tracy Kidder CLR via C# by Jeffrey Richter Design Patterns in C# by Steve Metsker Zen and the Art of Motorcycle Maintenance by Robert M. Pirsig About Face - The Essentials of Interaction Design by Alan Cooper Here Comes Everybody: The Power of Organizing Without Organizations by Clay Shirky The Tao of Programming by Geoffrey James (free ebook) Computational Beauty of Nature by Gary William Flake Philip and Alexâ€™s Guide to Web Publishing (free ebook) Object-Oriented Analysis and Design with Applications by Grady Booch ","date":"2023-09-26","objectID":"/2023-09-26-cs-%E9%98%85%E8%AF%BB%E4%B9%A6%E7%9B%AE/:2:0","tags":["Linux","cs","books","reading"],"title":"cs é˜…è¯»ä¹¦ç›®","uri":"/2023-09-26-cs-%E9%98%85%E8%AF%BB%E4%B9%A6%E7%9B%AE/"},{"categories":["tools"],"content":" Original threadWhat is the single most influential book every programmer should read? If you could go back in time and tell yourself to read a specific book at the beginning of your career as a developer, which book would it be? I expect this list to be varied and to cover a wide range of things. ","date":"2023-09-26","objectID":"/2023-09-26-cs-%E9%98%85%E8%AF%BB%E4%B9%A6%E7%9B%AE/:3:0","tags":["Linux","cs","books","reading"],"title":"cs é˜…è¯»ä¹¦ç›®","uri":"/2023-09-26-cs-%E9%98%85%E8%AF%BB%E4%B9%A6%E7%9B%AE/"},{"categories":["tools"],"content":"æŠ¥é”™ crontab -e [08:40:07] vim: error while loading shared libraries: libpython3.9.so.1.0: cannot open shared object file: No such file or directory crontab: \"vim\" exited with status 127 è¿™æ˜¯å› ä¸º vim ç¼–è¯‘çš„æ—¶å€™ä½¿ç”¨äº†åŠ¨æ€åº“ libpython3.9.so.1.0ï¼Œéœ€è¦æ‹·è´ä¸€ä»½åˆ° /usr/lib /usr/lib64 cp /home/ops/vim9/local/lib/libpython3.9.so.1.0 /usr/lib cp /home/ops/vim9/local/lib/libpython3.9.so.1.0 /usr/lib64 å¦‚æœæ²¡æœ‰ root æƒé™ï¼Œåˆ™å¯ä»¥é€šè¿‡ alias æ¥è®¾ç½® crontab å‘½ä»¤ alias crontab=\"export VISUAL='export VIMRUNTIME=$HOME/vim9/local/share/vim/vim90; LD_LIBRARY_PATH=$HOME/vim9/local/lib:$LD_LIBRARY_PATH PATH=$HOME/vim9/local/bin:$HOME/vim9/local/node-v16.20.0-linux-x64/bin:$PATH $HOME/vim9/local/bin/vim -u $HOME/vim9/.vimrc'; crontab\" alias crontab=\"export VISUAL=nvim; crontab\" ","date":"2023-09-22","objectID":"/2023-09-22-crontab-vim-%E6%89%BE%E4%B8%8D%E5%88%B0-so-%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/:0:0","tags":["Linux","vim","crontab","so","python"],"title":"crontab vim æ‰¾ä¸åˆ° so çš„è§£å†³æ–¹æ³•","uri":"/2023-09-22-crontab-vim-%E6%89%BE%E4%B8%8D%E5%88%B0-so-%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"},{"categories":["tools"],"content":"è®¾ç½® tmux å¯åŠ¨åçš„é»˜è®¤ $SHELL `vim ~/.tmux.conf` set-option -g default-shell /home/lfang/opt/bin/zsh ","date":"2023-09-20","objectID":"/2023-09-20-tmux-%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4-zsh/:0:0","tags":["Linux","tmux","zsh","SHELL"],"title":"tmux è®¾ç½®é»˜è®¤ zsh","uri":"/2023-09-20-tmux-%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4-zsh/"},{"categories":["tools"],"content":"vim æ›´æ–°æ’ä»¶ coc åè¿è¡Œå‡ºç°å¼‚å¸¸ï¼š éœ€è¦é‡æ–°å®‰è£… cocï¼Œç„¶åé‡æ–°å¯åŠ¨ vim å³å¯ã€‚ cd /home/william/.vim/plugged/coc.nvim npm install ","date":"2023-09-18","objectID":"/2023-09-18-vim-coc-%E6%9B%B4%E6%96%B0%E5%87%BA%E7%8E%B0%E5%BC%82%E5%B8%B8/:0:0","tags":["Linux","vim","coc","npm","yarn"],"title":"vim coc æ›´æ–°å‡ºç°å¼‚å¸¸","uri":"/2023-09-18-vim-coc-%E6%9B%B4%E6%96%B0%E5%87%BA%E7%8E%B0%E5%BC%82%E5%B8%B8/"},{"categories":["tools"],"content":"åœ¨ Vim ç¯å¢ƒä¸­è¿è¡Œ REPL ç¨‹åºã€‚ ä½¿ç”¨è§¦å‘é”® \u003cLeader\u003et å¯¹äºå¤šä¸ª buffer çš„é—®é¢˜ï¼Œéœ€è¦æ”¹ä¸€ä¸‹ç»‘å®šé”® \" handling multi buffer switch: https://github.com/sillybun/vim-repl/issues/19 tnoremap \u003cLeader\u003en \u003cC-w\u003e:bnext\u003cCR\u003e Plug 'sillybun/vim-repl', { 'for': ['python', 'r'], 'on':'REPLToggle' } \" Vim-repl ------------------------------------------------------------------- let g:repl_program = { \\ 'python': 'ipython', \\ 'default': 'zsh', \\ 'r': 'R', \\ 'lua': 'lua', \\ } let g:repl_width = 120 \"REPL windows width\" let g:repl_predefine_python = { \\ 'numpy': 'import numpy as np', \\ 'matplotlib': 'from matplotlib import pyplot as plt' \\ } let g:repl_python_auto_import = 1 let g:repl_cursor_down = 1 let g:repl_python_automerge = 1 let g:repl_ipython_version = '7' let g:repl_auto_sends = ['class ', 'def ', 'for ', 'if ', 'while ', 'with ', 'async def', '@', 'try'] let g:repl_python_auto_send_unfinish_line = 1 let g:repl_cursor_down = 1 let g:repl_python_auto_import = 1 nnoremap \u003cLeader\u003et :REPLToggle\u003cCr\u003e \" handling multi buffer switch: https://github.com/sillybun/vim-repl/issues/19 tnoremap \u003cLeader\u003en \u003cC-w\u003e:bnext\u003cCR\u003e tnoremap \u003cLeader\u003eh \u003cC-w\u003e\u003cC-h\u003e tnoremap \u003cLeader\u003el \u003cC-w\u003e\u003cC-l\u003e \"let g:repl_width = None \"çª—å£å®½åº¦ \"let g:repl_height = None \"çª—å£é«˜åº¦ \" ref: http://stackoverflow.com/questions/598113/can-terminals-detect-shift-enter-or-control-enter let g:sendtorepl_invoke_key = \"\u003cCR\u003e\" \"ä¼ é€ä»£ç å¿«æ·é”®ï¼Œé»˜è®¤ä¸º\u003cleader\u003ew nnoremap \u003cleader\u003ere :REPLSendSession\u003cCr\u003e let g:repl_position = 3 \"0è¡¨ç¤ºå‡ºç°åœ¨ä¸‹æ–¹ï¼Œ1è¡¨ç¤ºå‡ºç°åœ¨ä¸Šæ–¹ï¼Œ2åœ¨å·¦è¾¹ï¼Œ3åœ¨å³è¾¹ let g:repl_stayatrepl_when_open = 0 \"æ‰“å¼€REPLæ—¶æ˜¯å›åˆ°åŸæ–‡ä»¶ï¼ˆ1ï¼‰è¿˜æ˜¯åœç•™åœ¨REPLçª—å£ä¸­ï¼ˆ0ï¼‰\" let g:repl_console_name = 'Vim-REPL' tnoremap \u003cC-h\u003e \u003cC-w\u003e\u003cC-h\u003e tnoremap \u003cC-j\u003e \u003cC-w\u003e\u003cC-j\u003e tnoremap \u003cC-k\u003e \u003cC-w\u003e\u003cC-k\u003e tnoremap \u003cC-l\u003e \u003cC-w\u003e\u003cC-l\u003e \" tnoremap \u003cC-n\u003e \u003cC-w\u003eN tnoremap \u003cScrollWheelUp\u003e \u003cC-w\u003eNk tnoremap \u003cScrollWheelDown\u003e \u003cC-w\u003eNj ","date":"2023-09-16","objectID":"/2023-09-16-vim-repl/:0:0","tags":["Linux","vim","repl","python"],"title":"vim repl","uri":"/2023-09-16-vim-repl/"},{"categories":["tools"],"content":"C++ æ˜¯ä¸€ä¸ªé™æ€ã€å¼ºç±»å‹çš„ç¼–è¯‘å‹ç¼–ç¨‹è¯­è¨€ï¼Œå˜é‡çš„ç”Ÿå‘½å‘¨æœŸéœ€è¦åœ¨ç¼–è¯‘å™¨ç¡®å®šã€‚è¿™ä¸åŠ¨æ€è¯­è¨€æ˜¯å®Œå…¨ä¸åŒçš„ã€‚ Scoping is generally divided into two classes: Static Scoping (ä¹Ÿç§°ä½œ lexical scope) Dynamic Scoping Static scoping is also called lexical scoping. In this scoping, a variable always refers to its top-level environment. This is a property of the program text and is unrelated to the run-time call stack. Static scoping also makes it much easier to make a modular code as a programmer can figure out the scope just by looking at the code. In contrast, dynamic scope requires the programmer to anticipate all possible dynamic contexts. In most programming languages including C, C++, and Java, variables are always statically (or lexically) scoped i.e., binding of a variable can be determined by program text and is independent of the run-time function call stack. #include \u003ciostream\u003e using namespace std; int i {999}; void f() { { int i {10}; // in function scope cout \u003c\u003c \"inside f inner scrope:\" \u003c\u003c i \u003c\u003c endl; } // i not in function scope, will search for it in the GLOBAL SCOPE // do not care who is calling it (other function stack) cout \u003c\u003c \"inside f scrope:\" \u003c\u003c i \u003c\u003c endl; } int main(int argc, char *argv[]) { int i {20}; // int main function scope cout \u003c\u003c \"inside main scrope:\" \u003c\u003c i \u003c\u003c endl; f(); return 0; } ç¼–è¯‘åï¼Œè¿è¡Œå¾—çš„çš„ç»“æœæ˜¯ g++ /tmp/main.cpp -o /tmp/a.out \u0026\u0026 /tmp/a.out inside main scrope: 20 inside f inner scrope: 10 inside f scrope: 999 ","date":"2023-09-16","objectID":"/lexical-scope/:0:0","tags":["c++","scope","static","lexical"],"title":"c++ static/lexical scope","uri":"/lexical-scope/"},{"categories":["tools"],"content":"ä½¿ç”¨ tmux-fzf å¿«é€Ÿæœç´¢çª—å£ã€‚ ","date":"2023-09-13","objectID":"/2023-09-13-tmux-fzf-%E5%BF%AB%E9%80%9F%E6%90%9C%E7%B4%A2/:0:0","tags":["tmux","fzf","vim"],"title":"tmux fzf å¿«é€Ÿæœç´¢","uri":"/2023-09-13-tmux-fzf-%E5%BF%AB%E9%80%9F%E6%90%9C%E7%B4%A2/"},{"categories":["tools"],"content":" ä¿®æ”¹ tmux-fzf","date":"2023-09-13","objectID":"/2023-09-13-tmux-fzf-%E5%BF%AB%E9%80%9F%E6%90%9C%E7%B4%A2/:1:0","tags":["tmux","fzf","vim"],"title":"tmux fzf å¿«é€Ÿæœç´¢","uri":"/2023-09-13-tmux-fzf-%E5%BF%AB%E9%80%9F%E6%90%9C%E7%B4%A2/"},{"categories":["tools"],"content":" main.shvim ~/.tmux/plugins/tmux-fzf/main.shï¼šç›¸å½“äºå…³é—­äº†å…¶ä»–çš„é€‰é¡¹ã€‚ #!/usr/bin/env bash CURRENT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" \u0026\u0026 pwd)\" [[ -z \"$TMUX_FZF_ORDER\" ]] \u0026\u0026 TMUX_FZF_ORDER=\"session|window|pane|command|keybinding|clipboard|process\" source \"$CURRENT_DIR/scripts/.envs\" ## ============================================== ## only pane item=\"pane\" #items_origin=\"$(echo $TMUX_FZF_ORDER | tr '|' '\\n')\" #if [[ -z \"$TMUX_FZF_MENU\" ]]; then # item=$(printf \"%s\\n[cancel]\" \"$items_origin\" | eval \"$TMUX_FZF_BIN $TMUX_FZF_OPTIONS\") #else # item=$(printf \"menu\\n%s\\n[cancel]\" \"$items_origin\" | eval \"$TMUX_FZF_BIN $TMUX_FZF_OPTIONS\") #fi #[[ \"$item\" == \"[cancel]\" || -z \"$item\" ]] \u0026\u0026 exit ## ============================================== item=$(echo \"$CURRENT_DIR/scripts/$item\" | sed -E 's/$/.sh/') tmux run-shell -b \"$item\" ","date":"2023-09-13","objectID":"/2023-09-13-tmux-fzf-%E5%BF%AB%E9%80%9F%E6%90%9C%E7%B4%A2/:1:1","tags":["tmux","fzf","vim"],"title":"tmux fzf å¿«é€Ÿæœç´¢","uri":"/2023-09-13-tmux-fzf-%E5%BF%AB%E9%80%9F%E6%90%9C%E7%B4%A2/"},{"categories":["tools"],"content":" pane.shvim ~/.tmux/plugins/tmux-fzf/scripts/pane.shï¼šç›¸å½“äºåªé’ˆå¯¹ switch æ‰§è¡Œå‘½ä»¤ #!/usr/bin/env bash CURRENT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" \u0026\u0026 pwd)\" source \"$CURRENT_DIR/.envs\" current_pane_origin=$(tmux display-message -p '#S:#{window_index}.#{pane_index}: #{window_name}') current_pane=$(tmux display-message -p '#S:#{window_index}.#{pane_index}') if [[ -z \"$TMUX_FZF_PANE_FORMAT\" ]]; then panes=$(tmux list-panes -a -F \"#S:#{window_index}.#{pane_index}: [#{window_name}:#{pane_title}] #{pane_current_command} [#{pane_width}x#{pane_height}] [history #{history_size}/#{history_limit}, #{history_bytes} bytes] #{?pane_active,[active],[inactive]}\") else panes=$(tmux list-panes -a -F \"#S:#{window_index}.#{pane_index}: $TMUX_FZF_PANE_FORMAT\") fi ## ============================================== ## only switch action=\"switch\" #FZF_DEFAULT_OPTS=\"$FZF_DEFAULT_OPTS --header='Select an action.'\" #if [[ -z \"$1\" ]]; then # action=$(printf \"switch\\nbreak\\njoin\\nswap\\nlayout\\nkill\\nresize\\nrename\\n[cancel]\" | eval \"$TMUX_FZF_BIN $TMUX_FZF_OPTIONS\") #else # action=\"$1\" #fi ## ============================================== ##------------- å…¶ä»–çš„å¤åˆ¶åŸæ¥çš„ä»£ç  --------------- ## [[ \"$action\" == \"[cancel]\" || -z \"$action\" ]] \u0026\u0026 exit ","date":"2023-09-13","objectID":"/2023-09-13-tmux-fzf-%E5%BF%AB%E9%80%9F%E6%90%9C%E7%B4%A2/:1:2","tags":["tmux","fzf","vim"],"title":"tmux fzf å¿«é€Ÿæœç´¢","uri":"/2023-09-13-tmux-fzf-%E5%BF%AB%E9%80%9F%E6%90%9C%E7%B4%A2/"},{"categories":["tools"],"content":" tmux.conf è®¾ç½®ä½¿ç”¨ prefix-f ## fzf set -g @plugin 'sainnhe/tmux-fzf' ## enable:1, disable:0 TMUX_FZF_PREVIEW=1 # prefix-f TMUX_FZF_LAUNCH_KEY=\"f\" #TMUX_FZF_ORDER=\"session|window|pane|command|keybinding|clipboard|process\" TMUX_FZF_ORDER=\"pane|window|session\" ##Default value in tmux \u003e= 3.2 TMUX_FZF_OPTIONS=\"-p -w 90% -h 80% -m\" ## menu #TMUX_FZF_MENU=\\ #\"foo\\necho 'Hello!'\\n\"\\ #\"bar\\nls ~\\n\"\\ #\"sh\\nsh ~/test.sh\\n\" ","date":"2023-09-13","objectID":"/2023-09-13-tmux-fzf-%E5%BF%AB%E9%80%9F%E6%90%9C%E7%B4%A2/:2:0","tags":["tmux","fzf","vim"],"title":"tmux fzf å¿«é€Ÿæœç´¢","uri":"/2023-09-13-tmux-fzf-%E5%BF%AB%E9%80%9F%E6%90%9C%E7%B4%A2/"},{"categories":["tools"],"content":"vim ä½¿ç”¨ coc éœ€è¦æ‰¾åˆ° compile_commands.jsonã€‚ ç¬¬ä¸€ç§æ–¹æ³•ï¼Œé€šè¿‡å‘½ä»¤è¡Œæ·»åŠ ï¼Œä¼šåœ¨ build ç›®å½•ä¸‹é¢è‡ªåŠ¨ç”Ÿæˆ cmake -DCMAKE_EXPORT_COMPILE_COMMANDS=1 ç¬¬äºŒç§æ–¹æ³•ï¼Œé€šè¿‡ä¿®æ”¹ CMakeLists.txt SET(CMAKE_EXPORT_COMPILE_COMMANDS ON) IF(EXISTS \"${CMAKE_CURRENT_BINARY_DIR}/compile_commands.json\") EXECUTE_PROCESS( COMMAND ${CMAKE_COMMAND} -E copy_if_different ${CMAKE_CURRENT_BINARY_DIR}/compile_commands.json ${CMAKE_CURRENT_SOURCE_DIR}/compile_commands.json ) ENDIF() ","date":"2023-08-25","objectID":"/2023-08-25-vim-coc-%E7%94%9F%E6%88%90-compile_commands.json/:0:0","tags":["vim","coc","cmake","compile"],"title":"vim coc ç”Ÿæˆ compile_commands.json","uri":"/2023-08-25-vim-coc-%E7%94%9F%E6%88%90-compile_commands.json/"},{"categories":[],"content":" vim /etc/hosts # Sublime-Bypass 0.0.0.0 sublimetext.com 0.0.0.0 sublimemerge.com 0.0.0.0 sublimehq.com 0.0.0.0 telemetry.sublimehq.com 0.0.0.0 license.sublimehq.com 0.0.0.0 45.55.255.55 0.0.0.0 45.55.41.223 wget https://raw.githubusercontent.com/CITIZENSIXTYNINE/Sublime-Bypass/mistress/sublime-bypass.sh sudo bash ./sublime-bypass.sh ## sublime4 -\u003e Help -\u003e Enter Licence â€”â€“ BEGIN LICENSE â€”â€“ Die Socialisten GmbH 10 User License EA7E-800613 51311422 E45F49ED 3F0ADE0C E5B8A508 2F4D9B65 64E1E244 EDA11F0E F9D06110 B7B2E826 E6FDAA72 2C653693 5D80582F 09DCFFB5 113A940C 5045C0CD 5F8332F8 34356CC6 D96F6FDB 4DEC20EA 0A24D83A 2C82C329 E3290B29 A16109A7 EC198EB9 F28EBB17 9C07403F D44BA75A C23C6874 EBF11238 5546C3DD 737DC616 445C2941 â€”â€” END LICENSE â€”â€” Ref Sublime Text 4 æ³¨å†Œæ±‰åŒ– ","date":"2023-08-16","objectID":"/2023-08-16-sublime4-%E6%B3%A8%E5%86%8C%E7%A0%81/:0:0","tags":[],"title":"sublime4 æ³¨å†Œç ","uri":"/2023-08-16-sublime4-%E6%B3%A8%E5%86%8C%E7%A0%81/"},{"categories":[],"content":"æ³¨æ„ï¼šéœ€è¦æœ‰æ™®é€šç”¨æˆ·å†™å…¥æƒé™çš„è·¯å¾„ã€‚ ## æŸ¥çœ‹å½“å‰é…ç½® cat /proc/sys/kernel/core_pattern ## ä¸´æ—¶ echo \"/tmp/core-%e-%p-%t\" \u003e /proc/sys/kernel/core_pattern ## ä½¿ç”¨ sysctl è®¾ç½® sysctl -w kernel.core_pattern=/tmp/core-%e-%p-%t %% å•ä¸ª%å­—ç¬¦ %p æ‰€dumpè¿›ç¨‹çš„è¿›ç¨‹ID %u æ‰€dumpè¿›ç¨‹çš„å®é™…ç”¨æˆ·ID %g æ‰€dumpè¿›ç¨‹çš„å®é™…ç»„ID %s å¯¼è‡´æœ¬æ¬¡core dumpçš„ä¿¡å· %t core dumpçš„æ—¶é—´ (ç”±1970å¹´1æœˆ1æ—¥è®¡èµ·çš„ç§’æ•°) %h ä¸»æœºå %e ç¨‹åºæ–‡ä»¶å Ref CoreDumpè®¾ç½®æ–¹å¼ ","date":"2023-08-02","objectID":"/2023-08-02-linux-coredump-%E8%AE%BE%E7%BD%AE/:0:0","tags":[],"title":"Linux coredump è®¾ç½®","uri":"/2023-08-02-linux-coredump-%E8%AE%BE%E7%BD%AE/"},{"categories":["tools"],"content":"Linux systemd å­¦ä¹ æ€»ç»“ simple vs oneshot: When you are deciding which service type to choose between simple and oneshot, here is some guidance: Does your service need to complete before any follow-up services run? Use oneshot. Do your follow-up services need to be running while this service does? Use simple. Is this a long-running service? Probably use simple. Do you need to run this service only at shutdown? Use oneshot. Do you need to have multiple separate commands to run? Use oneshot. Ref Simple vs Oneshot - Choosing a systemd Service Type ","date":"2023-08-01","objectID":"/2023-08-01-systemd-%E5%AD%A6%E4%B9%A0/:0:0","tags":["Linux","systemd","oneshot","simple"],"title":"systemd å­¦ä¹ ","uri":"/2023-08-01-systemd-%E5%AD%A6%E4%B9%A0/"},{"categories":["tools"],"content":"æ–°åŠ ä¸€å— 4T ç¡¬ç›˜æŒ‚è½½ï¼ˆéé€»è¾‘ç›˜ï¼Œæ²¡æœ‰ vgdisplay çš„æ¦‚å¿µï¼Œå°±æ˜¯ç®€å•çš„æŒ‚è½½åˆ°æŸä¸ªè·¯å¾„ï¼‰ fdisk -l lsblk ## å‡è®¾ä»¥ /dev/sdb ä¸ºä¾‹ ## å¦‚æœæ­¤ç¡¬ç›˜ä»¥å‰æœ‰è¿‡åˆ†åŒºï¼Œåˆ™å…ˆå¯¹ç£ç›˜æ ¼å¼åŒ–ï¼š mkfs -t ext4 /dev/sdb ## å¯¹äºæ–°ç¡¬ç›˜è¿›è¡Œåˆ†åŒºæ“ä½œ ## ç”±äº fdisk åªèƒ½å¤„ç† 2T ä»¥å†…çš„ç¡¬ç›˜åˆ†åŒº ## å¯¹äºè¶…è¿‡ 2T çš„ç¡¬ç›˜ï¼Œéœ€è¦ä½¿ç”¨ parted è¿›è¡Œ GPT æ ¼å¼åˆ†åŒº parted /dev/sdb ## è¿›å…¥æ“ä½œå‘½ä»¤ parted (parted) print ## å¦‚æœæœ‰åˆ†åŒºï¼Œå…ˆåˆ æ‰ï¼Œæ³¨æ„æ•°æ®çš„å¤‡ä»½å¤„ç† (parted) #rm 1 ## åˆ›å»ºæ ¼å¼ (parted) mklabel gpt ## åªåˆ›å»ºä¸€ä¸ªåˆ†åŒº (parted) mkpart primary xfs 1 -1 ## ä»¥ s ä¸ºå•å…ƒ (parted) unit s (parted) mkpart primary ext4 0% 100% (parted) q ## å¼€å§‹æŒ‚è½½çš„ /data ç›®å½• sudo mkdir -p /data mount /dev/sdb1 /data ## æ·»åŠ åˆ° /etc/fstab vim /etc/fstab /dev/sdb1 /data ext4 defaults 0 0 ","date":"2023-07-31","objectID":"/2023-07-31-linux-%E6%96%B0%E5%8A%A04t%E7%A1%AC%E7%9B%98%E6%8C%82%E8%BD%BD%E9%9D%9E%E9%80%BB%E8%BE%91%E7%9B%98/:0:0","tags":["Linux","CentOS","fdisk","parted","ç¡¬ç›˜","åˆ†åŒº"],"title":"Linux æ–°åŠ 4Tç¡¬ç›˜æŒ‚è½½ï¼ˆéé€»è¾‘ç›˜ï¼‰","uri":"/2023-07-31-linux-%E6%96%B0%E5%8A%A04t%E7%A1%AC%E7%9B%98%E6%8C%82%E8%BD%BD%E9%9D%9E%E9%80%BB%E8%BE%91%E7%9B%98/"},{"categories":["tools"],"content":" ä½¿ç”¨ Win é”®è°ƒå‡º keyboard è®¾ç½®ç•Œé¢ åœ¨ Custom Shortcuts ç‚¹å‡»æ·»åŠ  flameshotï¼Œå…¶ä¸­ Name å¯ä»¥è‡ªå·±å†™ï¼Œç„¶ååœ¨ Command å¡«å†™: /usr/bin/flameshot gui æ·»åŠ å¿«æ·é”®ä¸º PrtScr è¿™æ ·ï¼Œå°±å¯ä»¥ç”¨é”®ç›˜ä¸Šé¢çš„æˆªå±å·¥å…·è¿›è¡Œæˆªå›¾äº† å‚è€ƒï¼šHow to change screenshot application to Flameshot on Ubuntu 18.04? ","date":"2023-07-31","objectID":"/2023-07-31-ubuntu-%E8%AE%BE%E7%BD%AE-flameshot-%E5%BF%AB%E6%8D%B7%E9%94%AE/:0:0","tags":["Ubuntu","flameshot","æˆªå›¾"],"title":"Ubuntu è®¾ç½® flameshot å¿«æ·é”®","uri":"/2023-07-31-ubuntu-%E8%AE%BE%E7%BD%AE-flameshot-%E5%BF%AB%E6%8D%B7%E9%94%AE/"},{"categories":["tools"],"content":" #!/bin/bash mkfs.ext3 /dev/sda sudo dd bs=4M if=/home/william/Desktop/CentOS-7-x86_64-Minimal-2009.iso of=/dev/sda \u0026\u0026 sync ","date":"2023-07-29","objectID":"/2023-07-29-dd-%E5%88%B6%E4%BD%9C-bios-%E5%90%AF%E5%8A%A8%E7%9B%98/:0:0","tags":["linux","bios","dd"],"title":"dd åˆ¶ä½œ bios å¯åŠ¨ç›˜","uri":"/2023-07-29-dd-%E5%88%B6%E4%BD%9C-bios-%E5%90%AF%E5%8A%A8%E7%9B%98/"},{"categories":["tools"],"content":"å…³äºä½¿ç”¨ bash/shell ç¼–ç¨‹çš„æ€»ç»“ã€‚ metaæ‰€è°“çš„ meta æŒ‡çš„æ˜¯ bash/shell è¿è¡Œå‡†å¤‡ä¸ç¯å¢ƒå˜é‡ã€‚ ","date":"2023-07-25","objectID":"/2023-07-25-bash%E5%85%A5%E9%97%A8/:0:0","tags":["Linux","bash","shell","gnu","c"],"title":"bashå…¥é—¨","uri":"/2023-07-25-bash%E5%85%A5%E9%97%A8/"},{"categories":["tools"],"content":" sheband #!/bin/bash -xe è¿™äº›ä¸»è¦æ˜¯åœ¨ set æœ‰ä»‹ç»ï¼š e: Exit immediately if a command exits with a non-zero status. x: Print commands and their arguments as they are executed. Ref shellå‘½ä»¤getoptç®€ä»‹ shell getopt ","date":"2023-07-25","objectID":"/2023-07-25-bash%E5%85%A5%E9%97%A8/:1:0","tags":["Linux","bash","shell","gnu","c"],"title":"bashå…¥é—¨","uri":"/2023-07-25-bash%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":"æœ€è¿‘åœ¨å­¦ä¹ æ±‡ç¼–è¯­è¨€ï¼Œè¿™é‡Œåšä¸€ä¸‹ç®€è¦çš„è®°å½•ï¼Œä¸»è¦ä½¿ç”¨çš„å‚è€ƒä¹¦ï¼š Jonathan Bartlett: Learn to Program with Assembly: Foundational Learning for New Programmers Jonathan Bartlett: Programming from the Ground Up CSci 241: Assembly Language Programming MIT Computation Structures å…¶å®ï¼Œæˆ‘æœ€æ—©æ˜¯å…ˆçœ‹äº† PGUï¼Œå› ä¸ºè¿™æ˜¯ä¸€æœ¬å¼€æºä¹¦ç±ï¼Œåæ¥æ‰çœ‹é˜…è¯» LPAï¼Œå‘ç° LPA å…¶å®æ˜¯ PGU çš„å‡ºç‰ˆç¤¾ä¹¦ç±ï¼Œæ˜¯å¯¹ PGU è¿›è¡Œæ›´åŠ ç³»ç»ŸåŒ–çš„æ•´ç†ï¼Œå¹¶å‡çº§äº†æ±‡ç¼–åˆ° x86-64 ã€‚æ‰€ä»¥æ¨èç›´æ¥çœ‹ LPA å³å¯ã€‚ Ch01ï¼šä¸ºä½•å­¦ä¹ æ±‡ç¼–","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:0:0","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" ç†è§£è®¡ç®—æœºå†…éƒ¨è®¡ç®—æœºç¼–ç¨‹è¯­è¨€åˆ’åˆ†ä¸º High-level programming languages ï¼ˆHLPLï¼‰ Low-level programming languages ï¼ˆLLPLï¼‰ å¯¹äºå¤§éƒ¨åˆ†çš„ç¨‹åºå‘˜ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½ä½¿ç”¨ HLPL è¿›è¡Œç¼–ç¨‹å¼€å‘ï¼Œè€Œè¾ƒå°‘ä½¿ç”¨ï¼ˆç”šè‡³çœ‹ä¸æ‡‚ï¼‰LLPLã€‚è¿™æ˜¯å› ä¸ºéšç€è®¡ç®—æœºæŠ€æœ¯çš„å‘å±•ï¼Œè¶Šæ¥è¶Šå¤šçš„é«˜çº§ç¼–ç¨‹è¯­è¨€ä¸ºæˆ‘ä»¬åšäº†å¤ªå¤šçš„äº‹æƒ…ï¼Œä½¿å¾—æˆ‘ä»¬è¿œç¦»åº•å±‚ã€é¢å‘é—®é¢˜è¿›è¡Œç¼–ç¨‹ã€‚HLPL ä¸»è¦åšçš„äº‹æƒ…æ˜¯ï¼š é€šè¿‡é€å±‚çš„æŠ½è±¡ï¼ˆAbstractï¼‰ï¼Œå…è®¸ç¨‹åºå‘˜å°½é‡è¿œç¦»è®¡ç®—æœºåº•å±‚æŠ€æœ¯ï¼Œè€Œç›´æ¥è°ƒç”¨ç¼–ç¨‹è¯­è¨€æä¾›çš„è¯­æ³•ç³–è¿›è¡Œæ“ä½œã€‚è¿™äº›ç¼–ç¨‹è¯­è¨€é€šè¿‡ compiler æˆ–è€… interpreter ç¿»è¯‘æˆæœºå™¨è¯­è¨€ ç¨‹åºå‘˜ä¸å†æ€è€ƒè®¡ç®—æœºå†…éƒ¨å¦‚ä½•å®ç°æŒ‡ä»¤è¿ç®—ï¼Œè€Œåªéœ€è¦æŒ‰ç…§é«˜çº§ç¨‹åºè¯­è¨€çš„è§„åˆ™ï¼ŒæŠŠé—®é¢˜ç©ºé—´æ˜ å°„åˆ°è§£å†³æ–¹æ¡ˆç©ºé—´ã€‚ ç„¶åï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æ›´æ·±å…¥çš„ç†è§£è®¡ç®—æœºå†…éƒ¨çš„è¿è¡Œæœºåˆ¶ï¼Œç†è§£æˆ‘ä»¬åœ¨é«˜çº§ç¼–ç¨‹è¯­è¨€è®¾è®¡çš„æ±‚è§£æ–¹æ¡ˆå¦‚ä½•è¢«æ˜ å°„åˆ°è®¡ç®—æœºçš„è¿è¡ŒæŒ‡ä»¤ï¼ˆæœºå™¨è¯­è¨€ï¼Œ0-1ï¼‰ï¼Œå°±éœ€è¦ç«™åœ¨è®¡ç®—çš„è§£è¯»æ€è€ƒï¼Œç†è§£æ“ä½œæŒ‡ä»¤åœ¨å†…éƒ¨æ˜¯å¦‚ä½•è¢«æ‰§è¡Œçš„ã€‚ è™½ç„¶ç°ä»£è®¡ç®—æœºå·²ç»é«˜åº¦æ™ºèƒ½åŒ–ï¼ŒAI æ­£å¦‚ç«å¦‚è¼çš„æ¸—å…¥æˆ‘ä»¬ç”Ÿæ´»çš„å„ä¸ªæ–¹é¢ã€‚ä½†åœ¨åº•å±‚ï¼Œè®¡ç®—æœºå…¶å®åªèƒ½è¿›è¡Œæœ‰é™çš„è¿ç®—ï¼Œç†è§£ç‰¹å®šçš„æ“ä½œæŒ‡ä»¤ï¼Œå³äºŒè¿›åˆ¶ä»£ç ï¼ˆäº¦æˆ–æœºå™¨ä»£ç ï¼‰ã€‚æˆ‘ä»¬è¿™é‡Œè¯´çš„ç†è§£è®¡ç®—æœºï¼Œå½“ç„¶ä¸æ˜¯ç›´æ¥å»çœ‹ç”±è¿™äº› 0-1 æ‰€ç»„æˆçš„æœºå™¨ä»£ç ï¼Œè€Œæ˜¯ä»¥äººç±»å¯ä»¥ç†è§£çš„æ–¹å¼é˜…è¯»æœºå™¨ä»£ç ã€‚è¿™å°±æ˜¯æ±‡ç¼–è¯­è¨€ï¼ˆAssemly Languageï¼‰ã€‚ å¯ä»¥æŠŠæ±‡ç¼–ç†è§£æˆæœºå™¨ä»£ç çš„ç¿»è¯‘ï¼Œè€Œä¸”è¿™ç§å…³ç³»æ˜¯ä¸€ä¸€æ˜ å°„ï¼Œå³ä¸€ä¸ªæ±‡ç¼–æŒ‡ä»¤å°±æ˜¯ä»£è¡¨ä¸€æ¡è®¡ç®—æœºæ‰€èƒ½æ‰§è¡Œçš„æœ€å°å•å…ƒæŒ‡ä»¤ï¼Œå¦‚æ•°å­—ç›¸åŠ ï¼š å¯¹äºé«˜çº§è¯­è¨€ï¼ša = 0 + 1 å¯¹äºæœºå™¨ä»£ç ï¼š48 83 c7 01 å¯¹äºæ±‡ç¼–è¯­è¨€ï¼šaddq $1 %rdi .global _start _start: movq $60, %rax movq $0, %rdi addq $1, %rdi syscall ## assembling and linker into executable(elf) as test.asm -o test.o ld test.o -o test ## run ./test echo $? ## disassembly with AT\u0026T objdump -M att -d test.o test.o: file format elf64-x86-64 Disassembly of section .text: 0000000000000000 \u003c_start\u003e: 0: 48 c7 c0 3c 00 00 00 mov $0x3c,%rax 7: 48 c7 c7 00 00 00 00 mov $0x0,%rdi e: 48 83 c7 01 add $0x1,%rdi 12: 0f 05 syscall é€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“è®¡ç®—ç³»åœ¨åº•å±‚æ˜¯å¦‚ä½•è¿›è¡Œè¿ç®—çš„ å…ˆç»™å¯„å­˜å™¨ %rdi åˆå§‹åŒ– ç„¶åå¯¹å¯„å­˜å™¨ %rdi æ‰§è¡Œ add æŒ‡ä»¤ï¼Œè¿™ä¸ªå¯¹åº”å¯¹åº”äº†æœºå™¨ä»£ç  83 å¯è§ï¼Œæ— è®ºæˆ‘ä»¬æ˜¯å¦ä»äº‹æ±‡ç¼–å¼€å‘ï¼Œäº†è§£ä¸€äº›å…³äºæ±‡ç¼–çš„çŸ¥è¯†ï¼Œæœ‰åŠ©äºæˆ‘ä»¬æ›´åŠ æ·±å…¥äº†è§£è®¡ç®—æœºå†…éƒ¨çš„è¿è¡Œæœºåˆ¶ï¼ˆè‹±æ–‡è¯´æ³•æ˜¯ï¼šunder the hoodï¼‰ã€‚ ","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:1:0","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" å­¦ä¹ æ±‡ç¼–çš„å¥½å¤„ know how the computer really works, underneath the hood, fundamentally demystifying the operation of your most basic tool: the processor, how the processor itself thinks about the code better mental model of compiler, debugging, optimization, high-performance-related work ","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:2:0","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" æ±‡ç¼–ç‰ˆæœ¬ï¼šIntel vs AT\u0026Tåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† objdump å·¥å…·ç”¨æ¥æŠŠäºŒè¿›åˆ¶ä»£ç ç¿»è¯‘æˆæ±‡ç¼–è¯­è¨€ï¼Œå…¶ä¸­ -d è¡¨ç¤º disassemleï¼Œå³åæ±‡ç¼–ã€‚ -M att è¡¨ç¤ºä½¿ç”¨ AT\u0026T æ±‡ç¼–é£æ ¼å±•ç¤º ","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:3:0","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" ISAï¼šæŒ‡ä»¤é›†Instrument Set Architectureï¼ˆISAï¼‰è¡¨ç¤ºè®¡ç®—æœºå¯ä»¥è¯†åˆ«çš„ä¸åŒæŒ‡ä»¤æ¶æ„ï¼Œä¸»æµçš„æœ‰ï¼š x86 æŒ‡ä»¤é›†ï¼ŒåŒ…æ‹¬ x86-32 ã€x86-64ï¼Œä¹Ÿç§°ä½œ AMDï¼ˆå› ä¸ºæœ€åˆçš„ AMD æå‡ºçš„ï¼‰ã€‚è¿™ä¸ªå¤§éƒ¨åˆ† Unix-Linux ä½¿ç”¨ã€‚ ARM æŒ‡ä»¤é›†ï¼Œä¸»è¦æ˜¯æ‰‹æœºè®¾å¤‡ä½¿ç”¨ã€‚ PowerPC æŒ‡ä»¤é›† ","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:3:1","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" Intel ä¸ AT\u0026T é£æ ¼è™½ç„¶æœ‰assembler ç”Ÿæˆçš„æœºå™¨ä»£ç éƒ½æ˜¯ä¸€æ ·çš„ï¼ˆæ‰èƒ½ä¿è¯è®¡ç®—æœºå®ç°çš„ç»“æœçš„ä¸€è‡´ä¸”å”¯ä¸€ï¼‰ï¼Œä¸åŒçš„ç»„ç»‡åœ¨å¦‚ä½•è¡¨ç¤º assembly language é£æ ¼ä¸Šå´æœ‰ä¸€å®šçš„åŒºåˆ«ã€‚ç›®å‰ä¸»è¦æœ‰ä¸¤ä¸ªé£æ ¼çš„æ±‡ç¼–ä»£ç ï¼š Intel ä¹Ÿç§°ä½œ NASMï¼ˆNetwide Assemblerï¼‰ï¼Œè¿™ä¸ªä¸»è¦æ˜¯ Intel å…¬å¸åœ¨æ“ä½œæ‰‹å†Œæ‰€ä½¿ç”¨çš„çš„æ±‡ç¼–é£æ ¼ã€‚ AT\u0026T ä¹Ÿç§°ä½œ GASï¼ˆGUN Assemblerï¼‰è¿™ä¸ªæ˜¯ Linux ã€GCC æ‰€é‡‡ç”¨çš„æ±‡ç¼–é£æ ¼ã€‚ æˆ‘ä»¬åˆšæ‰è¯´è¿‡ï¼Œä¸åŒæ±‡ç¼–è¯­æ³•åªæ˜¯çš„é£æ ¼ä¸Šæœ‰æ‰€å·®åˆ«ï¼Œä½†æœ€è¿‘ç”Ÿæˆçš„æœºå™¨ä»£ç éƒ½æ˜¯ä¸€æ ·çš„ã€‚å› æ­¤ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å·¥å…·å°†ä¸¤ä¸ªæ±‡ç¼–é£æ ¼è¿›è¡Œäº’è½¬ã€‚ä»¥ä¸‹æ˜¯å…³äºä¸¤è€…çš„å‚è€ƒé“¾æ¥ï¼š AT\u0026T Syntax versus Intel Syntax Intel vs. AT\u0026T syntax Differences in Intel (NASM) vs AT\u0026T (GAS) Syntax. Intel AT\u0026T æ³¨é‡Š(comment) ä½¿ç”¨è‹±æ–‡åˆ†å·ï¼š; ä½¿ç”¨ #ï¼Œå³ c-style register ä¸éœ€è¦å‰ç¼€ % mov eas, 1 éœ€è¦å¸¦å‰ç¼€ % movq $1, %eax direction instr dest src mov eas, 1 instr src dest movq $1, %eas memory (address) mov eax,[ebx] mov eax,[ebx+3] movl (%ebx),%eax movl 3(%ebx),%eax ","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:3:2","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" %r vs %eç”±äºæ±‡ç¼–è¯­è¨€çš„å‘å±•ç»å†äº†æ¼«é•¿çš„å†å²è¿‡ç¨‹ï¼ˆæœ€è¿‘ç”šè‡³å¯ä»¥è¿½æº¯åˆ°æ™¶ä½“ç®¡ï¼‰ï¼Œæ±‡ç¼–è¯­è¨€åœ¨è¡¨ç¤ºå¯„å­˜å™¨çš„ç¬¦å·æ–¹é¢ä¹Ÿç»è¿‡å¤šæ¬¡è°ƒæ•´ï¼š %rax %eax %ax %ah, %al å¯ä»¥å‚è€ƒä»¥ä¸‹é“¾æ¥ï¼Œä»‹ç»ç›¸å…³çš„å†å² x86-64 Machine-Level Programming Ch02ï¼šç†è§£è®¡ç®—æœºå¦‚ä½•å·¥ä½œ","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:3:3","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" CPU çš„ç»„æˆä¸è¿è¡Œ å¯ä»¥è¯´ï¼ŒCPU å……å…¶é‡å°±æ˜¯ä¸€ä¸ªæœºæ¢°è®¾å¤‡ï¼Œåªè¦ä¸æ–­ç”µï¼Œå®ƒéƒ½ä¼šæ°¸ä¸åœæ­‡åœ°è®¯å¾ªç¯æ‰§è¡Œä»¥ä¸Šå‘½ä»¤ã€‚è€Œä½œä¸ºç¨‹åºå‘˜ï¼Œæˆ‘ä»¬éœ€è¦å‘Šè¯‰ CPU å¦‚ä½•æ­£ç¡®åœ°ã€ä¸¥æ ¼æŒ‰ç…§æˆ‘ä»¬è®¾è®¡çš„æ–¹æ¡ˆæ‰§è¡Œã€‚è®¡ç®—æœºæ— æ‰€è°“å¯¹é”™ï¼ˆbugï¼‰ï¼Œå®ƒä»¬åªæ˜¯ä¸€å°æœºå™¨ï¼Œæœ¬èº«ä¹Ÿæ— æ³•å†™å‡º bugï¼ŒçœŸæ­£å†™ bug çš„æ˜¯äººã€‚æˆ‘ä¹‹å‰çœ‹è¿‡ä¸€ç¯‡åšå®¢ï¼Œè¯´çš„å°±æ˜¯æˆ‘ä»¬åœ¨å†™ä»£ç æ—¶ï¼Œä¸€å®šè¦ç§‰æ‰¿ç€æ²¡æœ‰ bug çš„æƒ³æ³•ï¼Œåªè¦æˆ‘ä»¬è®¾è®¡çš„ç¨‹åºæ²¡æœ‰ bugï¼ŒCPU å°±ä¸€å®šæ²¡æœ‰ bugã€‚åœ¨è®¡ç®—æœºåº•å±‚çš„æœºå™¨ä»£ç çœ¼é‡Œï¼Œä¸–ç•Œåªæœ‰ 0-1 ï¼Œæˆ–è€…è¯´ on-offã€‚ â€œIf you want more effective programmers, you will discover that they should not waste their time debugging, they should not introduce the bugs to start with.â€ â€”Edsger Dijkstra, Turing Award Lecture (1972) If you want a single piece of advice to reduce your bug count, itâ€™s this: Re-read your code frequently. After writing a few lines of code (3 to 6 lines, a short block within a function), re-read them. That habit will save you more time than any other simple change you can make. Donâ€™t write bugs Ch03ï¼šæ±‡ç¼–åŸºç¡€é¦–å…ˆä»‹ç»ä¸€ä¸ªåœ¨ x86-64 æ¶æ„ä¸­ï¼Œä¸åŒçš„å†…å­˜æ¨¡å—å¤§å° 1 byte (8 bits, 0000 0000)ï¼ŒèŒƒå›´ä¸º 0-255ï¼Œå³ ASCII 2 bytes (16 bits)ï¼Œå³ word ã€short 4 bytes (32 bits)ï¼Œ å³ double wordã€long 8 bytes (64 bits)ï¼Œå³ quadwordï¼Œè¿™æ˜¯ç›®å‰ä¸»æµçš„ x86-64 ç³»ç»Ÿ ä»¥ä¸Šçš„å†…å­˜æ¨¡å—å¯ä»¥ç†è§£æˆ CPU æ¯æ¬¡æå–ï¼ˆè¯·æ±‚ï¼‰å†…å­˜çš„å•å…ƒï¼Œæ¯”å¦‚å¯¹äºä¸€ä¸ªæ±‡ç¼–æŒ‡ä»¤ ## å–ä¸€ä¸ª byte: 00000010 movb $0b10, %rdi ## å–ä¸€ä¸ª long: 0000'0000 0000'0000 0000'0000 0000'0010 movq $1, %rdi ## å–ä¸€ä¸ª quadword: 0000'0000 0000'0000 0000'0000 0000'0000 0000'0000 0000'0000 0000'0000 0000'0010 movq $1, %rdi è€Œåœ¨æ“ä½œç³»ç»Ÿå±‚é¢ï¼Œä¸ºäº†åŠ å¿«è¯»å–å†…å­˜ï¼Œå¾€å¾€è¿˜ä¼šåœ¨å¢åŠ ä¸€å±‚æŠ½è±¡ï¼Œé‡‡ç”¨ paging åˆ†é¡µçš„æ–¹å¼ï¼Œä»¥æ›´å¤§çš„æ¨¡å—æ¥åˆ†é…å†…å­˜ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œé»˜è®¤çš„ paging size æ˜¯ 4k(4096 bytes)ã€‚ ","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:4:0","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" æ±‡ç¼–è¯­æ³• .global _start _start: movq $60, %rax movq $123, %rdi syscall ä¸Šé¢ä¸€ä¸ªä¸€ä¸ªå®Œæ•´çš„æ±‡ç¼–ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œç¼–è¯‘ï¼Œå¹¶æ‰“å°å‡ºæ‰§è¡Œç»“æœï¼š as ch03-demo01.asm -o ch03-demo01.o ld ch03-demo01.o -o ch03-demo01 ./ch03-demo01 echo $? ## è¿è¡Œç»“æœå³ä¸ºä¸Šé¢çš„æ±‡ç¼–æŒ‡ä»¤ï¼š movq $123, %rdi 123 ","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:5:0","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" global(globl)global ï¼ˆä¹Ÿå¯ä»¥å†™ä½œ globlï¼ŒäºŒè€…æ˜¯ç­‰ä»·çš„ï¼‰å‘Šè¯‰ linker æ­¤å¤„è®¾å®šçš„ label éœ€è¦ä¿ç•™ä»¥å¤‡ä»–ç”¨ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæ²¡æœ‰æ·»åŠ  global æŒ‡ç¤ºï¼Œlinker ä¼šæŠŠå½“å‰æ¨¡å—ä¸‹æˆ‘ä»¬è‡ªå·±è®¾å®šçš„å˜é‡åå¿½ç•¥ï¼Œè€Œæ·»åŠ äº† globalï¼Œåˆ™è¦æ±‚ä¸è¦è¿™ä¹ˆåšï¼Œå› ä¸ºæœ‰å¯èƒ½å…¶ä»–çš„æ¨¡å—æœ‰ä½¿ç”¨åˆ°ã€‚ ç‰¹åˆ«çš„ï¼Œ.global _start æ˜¯ä½œä¸ºå¯æ‰§è¡Œçš„å…¥å£ï¼Œè¿™ä¸ªä¸€å®šè¦ä¿å­˜ã€‚ ","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:5:1","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" _startï¼šentry pointè¿™ä¸ªæ˜¯äºŒè¿›åˆ¶çš„å…¥åº“ï¼Œç›¸å½“äº main åœ¨ C/C++ ç¼–ç¨‹ä¸­çš„ä½œç”¨ã€‚æ— è®ºæ±‡ç¼–ä»£ç çš„é¡ºåºå¦‚ä½•ï¼Œæ“ä½œç³»ç»Ÿåœ¨æ‰§è¡Œç›®æ ‡æ—¶ï¼Œéƒ½æ˜¯ä» _start å¼€å§‹é€è¡Œæ‰§è¡Œæ±‡ç¼–ä»£ç ã€‚ ","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:5:2","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" labelè¡¨ç¤ºä¸€ä¸ªåç§°ï¼Œä½†å®é™…ä¸Šè¯¥åç§°æ‰€åœ¨çš„å†…å­˜åœ°å€èµ·å§‹ä½ç½®ï¼ˆä»¥åŠåé¢ç´§éšçš„å†…å­˜ï¼‰ï¼Œç”¨æ¥ç»™ assembler æ‰¾åˆ°ç›¸åº”çš„å†…å­˜åœ°å€ã€‚ ","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:5:3","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" %rax: system call code%rax (Accumulate) è¡¨ç¤ºå¯„å­˜å™¨çš„ä½œç”¨ï¼Œé€šå¸¸ç”¨æ¥ä»£è¡¨ç³»ç»Ÿè°ƒç”¨çš„æŒ‡ä»¤ï¼Œå¦‚ä¸Šè¿°ä»£ç ä¸­æˆ‘ä»¬å°†å…¶è®¾ç½®ä¸º 60ï¼Œè¿™ä»£è¡¨ system call çš„ sys_exit ä»£å·ã€‚ å…·ä½“çš„ system call code å¯ä»¥å‚è€ƒï¼š Linux System Call Table Searchable Linux Syscall Table for x86 and x86_64 Instruction: syscall Return value found in: %rax Syscalls are implemented in functions named as in the Entry point column, or with the DEFINE_SYSCALLx(%name% macro. %rax %rdi: arg0 Name Entry Point Implementation 0 unsigned int fd read sys_read fs/read_write.c 1 unsigned int fd write sys_write fs/read_write.c 2 const char *filename open sys_open fs/open.c 3 unsigned int fd close sys_close fs/open.c 4 const char *filename stat sys_newstat fs/stat.c 5 unsigned int fd fstat sys_newfstat fs/stat.c 6 const char *filename lstat sys_newlstat fs/stat.c â€¦ 60 int error_code exit sys_exit kernel/exit.c ","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:5:4","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" %rdi: exit status codeç”¨äºä¿å­˜ç³»ç»Ÿè°ƒç”¨çš„ç»“æœï¼Œè®¿é—®ä¸ºï¼š 0~255 ","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:5:5","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" æ±‡ç¼–å·¥å…·","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:6:0","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" as","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:6:1","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" ld","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:6:2","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" æ±‡ç¼–å‘¨è¾¹ï¼ˆç›¸å…³å·¥å…·ï¼‰","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:7:0","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" hexdump","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:7:1","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" objdump","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:7:2","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" gdb(cgdb)","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:8:0","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" disassemble Ch04ï¼šAssembly Programming","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:8:1","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" å¯„å­˜å™¨","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:9:0","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" ä¸åŒåŠŸèƒ½çš„å¯„å­˜å™¨æˆ‘ä»¬åœ¨ [å¯„å­˜å™¨å†å²](###%r vs %e)åˆ—ä¸¾äº† x86-32 ä¸ x86-64 æ¶æ„ä¸‹çš„å¯„å­˜å™¨ç±»å‹ã€‚è¿™é‡Œåšä¸€ä¸ªæ€»ç»“ï¼š general-purpose registers computational %rax: accumulative ç´¯è®¡é‡ ç”¨æ¥æ‰§è¡Œ system call çš„ä»£ç  ç”¨æ¥ä¿å­˜ mulq ã€divq çš„ç»“æœ %rbx: base indexingï¼Œé€šå¸¸ç”¨æ¥å¤„ç† memory addressing ç›¸å…³çš„æ“ä½œ %rcx : counting registerï¼Œé€šè¿‡ç”¨åœ¨ loop %rdx: data registerï¼Œç”¨æ¥ä¿å­˜æ•°æ®ç›¸å…³ï¼Œå¦‚å¯¹äº mulqã€divq ç­‰æ“ä½œï¼Œç”±äºåªèƒ½é€šè¿‡ register æˆ–è€… memory addressï¼Œé€šå¸¸æ˜¯å…ˆæŠŠæ•°å€¼æ”¾åˆ° %rdxï¼Œç„¶åå†ä¸ %rax è¿›è¡Œæ“ä½œ data-related %rsi: source index %rdi: destination indexï¼Œå¯ä»¥ç”¨æ¥ä¿å­˜ exit status code specific-purpose registers %ripâ€™ï¼šinstrument pointï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªæŒ‡ä»¤çš„å†…å­˜åœ°å€ %eflags ç”¨æ¥å¤„ç†è·³è½¬æŒ‡ä»¤ç›¸å…³çš„æ“ä½œ ","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:9:1","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" ä½¿ç”¨ä¸åŒçš„å­—èŠ‚è®¡ç®—ï¼ˆå†…å­˜ä¸æ€§èƒ½ï¼‰ .global _start _start: ##0000'0001'0000'0010 ## %bh ## %bl ## %bx movw $0b0000000100000010, %bx ## 0000'0001 ## 0000'0010 ## addb %bh, %bl ## 2+1 = 3= 0000'0011 movb $0, %bh ## 0000'0000 movq %rbx, %rdi ## %rbx: 0000'0000|0000'0011 ## %rdi: 0000'0000|0000'0011 = 3 ## ------------ movq $60, %rax syscall ","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:9:2","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" è¿ç®—ç¬¦ addq: format: addq src dst ## %rdi = %rdi + %ras addq %rax, %rdi subq format: subq src dst ## %rdi = %rdi - %ras subq %rax, %rdi incqï¼šï¼ˆ+1ï¼‰ format: addq dst ## %rdi = %rdi + 1 incq %rdi decqï¼šï¼ˆ-1ï¼‰ format: decq dst ## %rdi = %rdi - 1 decq %rdi mulq format: mulq src mulq %rdi æ³¨æ„ï¼Œmulq å’Œ divq çš„ä½œç”¨ç»“æœä¿ç•™åœ¨ %raxï¼Œè€Œä¸”åªèƒ½ç”¨ register æˆ–è€… memory addressï¼Œä¸èƒ½ç”¨æ™®é€šçš„ number value divq format: divq src ä¸ mulq ç›¸åŒ .global _start .section .text _start: ## rdi ## rax movq $3, %rdi ## 3 movq %rdi, %rax ## 3 add %rdi, %rax ## 3+3=6 mulq %rdi ## 3*6=18 subq %rdi, %rax ## 18-3=15 divq %rdi ## 15/3=5 movq %rax, %rdi ## 5 ## ------------- movq $60, %rax syscall ","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:10:0","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" æ¯”è¾ƒ %eflagsæ±‡ç¼–åœ¨å¾ˆå¤šåœ°æ–¹éƒ½ä½¿ç”¨ %eflags æ¥åˆ¤æ–­çœŸå‡ï¼Œæ¯”å¦‚ jmp cmp looqï¼Œæ˜¯çš„ï¼Œloop ä¹Ÿæ˜¯é€šè¿‡è°ƒç”¨ decq %rcx æ˜¯å¦ä¸º 0 æ¥å†³å®šå¾ªç¯ç»“æŸä¸å¦ã€‚ï¼ˆå¦‚æœ %rcx å˜ä¸º 0ï¼Œåˆ™ %eflags è®¾ç½®ä¸º trueï¼ˆZFï¼‰ï¼‰ æˆ‘ä»¬å¯ä»¥é€šè¿‡ ZF æˆ–è€… CF è¿›è¡Œè·³è½¬ï¼Œä½†æ˜¯è¿™ä¸ªæœ‰ç‚¹ä¸ç›´è§‚ jz jnz jc jnc cmpæœ¬è´¨ä¸Šï¼Œcmp åšçš„äº‹æƒ…è·Ÿ %eflags æ˜¯ç›¸å…³çš„ é€šè¿‡å¯„å­˜å™¨ç›¸å‡ï¼Œå¾—åˆ°ä¸€ä¸ªå€¼ åˆ¤æ–­è¿™ä¸ªå€¼æ˜¯å¦ä¸º 0 ç„¶åè¿›è¡Œ ZF åˆ¤æ–­ï¼Œ ä½†æ˜¯ï¼Œæœ‰æ„æ€çš„æ˜¯ï¼Œcmp æ­¤æ—¶ä¸ä¼šé‡ç½®å¯„å­˜å™¨ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äº cmp åœ¨å®ç°ä¸Šï¼Œæ˜¯é€šè¿‡ dst å‡å» src çš„å€¼æ¥åˆ¤æ–­ %eflagsï¼Œæ‰€ä»¥å¦‚æœé‡åˆ°ä¸€ä¸ªå¯„å­˜å™¨ä¸ä¸€ä¸ªå­—é¢æ•°å€¼å¯¹æ¯”ï¼Œä¸€å®šè¦æŠŠå­—é¢æ•°å€¼æ”¾åœ¨å‰é¢ï¼Œç„¶åå‡æ³•çš„æ“ä½œæ˜¯æ— æ•ˆçš„ å¯ä»¥è¿™æ ·ç†è§£ åœ¨æ“ä½œä¸Šï¼š cmpq %rax, %rbx åœ¨å†…éƒ¨å®ç°ä¸Šï¼š subq %rax, %rbx ## using %elags to jmp je : %rax == %rbx jne jaï¼šjump Above for %rax \u003e %rbx jae jbï¼šjump Below for %rax \u003c %rbx jbe ","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:10:1","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" è·³è½¬åœ¨ä»‹ç»ä¸åŒå¯„å­˜å™¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬åŒºåˆ†äº† general ä¸ specific ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå¯„å­˜å™¨ %rip æŒ‡å‘ä¸‹ä¸€ä¸ªæŒ‡ä»¤çš„å†…å­˜åœ°å€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ jmp æ¥è°ƒæ•´ã€‚æœ¬è´¨ä¸Šï¼Œjmp æ˜¯ç›´æ¥æ‰¾åˆ°å¯¹åº” label ä¸Šçš„å†…å­˜åœ°å€ï¼Œç„¶åè·³è½¬åˆ°é‚£é‡Œæ‰§è¡ŒæŒ‡ä»¤ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œå®ç°ä»£ç çš„è·³è½¬ä¸å¾ªç¯ã€‚ .global _start _start: movq $25, %rax jmp thelabel somewhere: movq %rax, %rdi jmp anotherlabel label1: addq %rbx, %rax movq $5, %rbx jmp here labellabel: syscall anotherlabel: movq $60, %rax jmp labellabel thelabel: movq %rax, %rbx jmp there here: divq %rbx jmp somewhere there: addq $5, %rbx jmp label1 anywhere: jmp thelabel %rax %rbx %rdi _start 25 thelabel 25 there 5+25=30 label1 30+25=55 5 here 55/5=11 somewhere 11 anotherlabel 60 labellabel (syscall) æ•°æ® bit æ“ä½œ","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:10:2","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" stack ä¸ function","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:10:3","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" æ±‡ç¼–å‡½æ•°","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:10:4","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" ç³»ç»Ÿè°ƒç”¨","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:10:5","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["learning"],"content":" æ¨¡å—ä¸é“¾æ¥ Ch05ï¼šè®¡ç®—æœºæ¶æ„ä¸è®¾è®¡","date":"2023-07-23","objectID":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/:10:6","tags":["Linux","assembly","cs","x86","x86-64","æ±‡ç¼–","ç¼–ç¨‹","è®¡ç®—æœº"],"title":"æ±‡ç¼–å…¥é—¨","uri":"/2023-07-23-%E6%B1%87%E7%BC%96%E5%85%A5%E9%97%A8/"},{"categories":["tools"],"content":"å®‰è£… python3.11 çš„ä¸€ä¸ªè½¯ä»¶åŒ… pycrypto æ—¶ï¼Œå‡ºç°ä¸€ä¸ªæŠ¥é”™ï¼Œå¯¼è‡´æ— æ³•å®‰è£…ç›¸å…³ä¾èµ–åŒ…ã€‚ æ ¹æ®è¿™ç¯‡é—®ç­”Could not build wheels for pycrypto, which is required to install pyproject.toml-based projects - ERROR Try running pip install setuptools wheel before installing requirements.txt. Some legacy projects require these packages to build wheels for pyproject.toml based projects. If that doesnâ€™t work, you might look into pycryptodome as a replacement for this dependency as mentioned in this thread. è¿™ä¸ªçœ‹èµ·æ¥ä¾ç„¶æ— æ•ˆï¼Œç„¶åæ‰¾åˆ°æ–‡ä¸­æåˆ°çš„å‚è€ƒé“¾æ¥ï¼Œæç¤ºæœ‰å¯èƒ½æ˜¯ pycrypto è¿™ä¸ªåŒ…å¹´ä¹…å¤±ä¿®ï¼Œè€Œ python3.11 åˆæ°å¥½æ›´æ–°äº†ä¸€äº›åŸºç¡€åŒ…ï¼ˆæ¯”å¦‚longintç±»å‹æ•°æ®ï¼‰ï¼Œä»è€Œå¯¼è‡´å®‰è£…æŠ¥é”™ã€‚ å‰å¾€é“¾æ¥ï¼šFailed installing pycrypto with pip This is a workaround rather than a solution, but it is still useful, because according to this post on the â€œIssuesâ€ section of the pycrypto official repository, it seems the package has not been maintained at all in the last years. And their recommendation is to install pycryptodome instead, since it still creates a Crypto package with the same namespace, so it is expected to work with source code based on the pycrypto libraries. pip uninstall pycrypto pip install pycryptodome å¯ä»¥åœ¨ github ä¸Šçœ‹åˆ° pycrypto ç¡®å®å·²ç»åœæ­¢æ›´æ–°äº†ï¼šStop creating issues - this project is dead! #173 PyCrypto 2.x is unmaintained, obsolete, and contains security vulnerabilities. See https://www.pycrypto.org/ for details. The following is provided for historical/reference purposes only. Move to a fork like pycryptodome å¦å¤–ä¸€ä¸ªæ–°é¡¹ç›®æ˜¯ cryptography ","date":"2023-07-18","objectID":"/2023-07-18-python3.11-%E6%97%A0%E6%B3%95%E5%AE%89%E8%A3%85-pycrypto/:0:0","tags":["python3","pycrypto","longintrepr.h"],"title":"python3.11 æ— æ³•å®‰è£… pycrypto","uri":"/2023-07-18-python3.11-%E6%97%A0%E6%B3%95%E5%AE%89%E8%A3%85-pycrypto/"},{"categories":[],"content":" History and Spirit of C and C++ History and Spirit of C - Olve Maudal Dennis M. Ritchie Linux like original Unix ","date":"2023-07-14","objectID":"/2023-07-14-%E6%9C%89%E5%85%B3-unix-c-%E7%9A%84%E4%B8%80%E4%BA%9B%E5%8E%86%E5%8F%B2%E6%95%85%E4%BA%8B/:0:0","tags":[],"title":"æœ‰å…³ unix c çš„ä¸€äº›å†å²æ•…äº‹","uri":"/2023-07-14-%E6%9C%89%E5%85%B3-unix-c-%E7%9A%84%E4%B8%80%E4%BA%9B%E5%8E%86%E5%8F%B2%E6%95%85%E4%BA%8B/"},{"categories":[],"content":"ä½¿ç”¨ vim-latex ç¼–è¾‘å¹¶ç”Ÿæˆ pdf æ–‡ä»¶ã€‚ Install","date":"2023-07-14","objectID":"/2023-07-14-vim-latex/:0:0","tags":[],"title":"vim latex","uri":"/2023-07-14-vim-latex/"},{"categories":[],"content":" xelatex sudo apt-get install texlive-xetex latex-cjk-all ## okular ç”¨äºé¢„è§ˆ pdf æ–‡ä»¶ sudo apt-get install okular ","date":"2023-07-14","objectID":"/2023-07-14-vim-latex/:1:0","tags":[],"title":"vim latex","uri":"/2023-07-14-vim-latex/"},{"categories":[],"content":" vim-latex-preview \" ä½¿ç”¨ F6 è‡ªåŠ¨è°ƒç”¨å‘½ä»¤ noremap \u003csilent\u003e \u003cF6\u003e :LLPStartPreview\u003cCR\u003e \" LaTex \" A Vim Plugin for Lively Previewing LaTeX PDF Output Plug 'xuhdev/vim-latex-live-preview', { 'for': 'tex' } \"\" é…ç½® \"\" xelatex \"\" okular \"\" LaTex, Using: LLPStartPreview autocmd Filetype tex setl updatetime=1 let g:livepreview_previewer = '/usr/bin/okular' let g:livepreview_engine = '/usr/bin/xelatex' Make \\documentclass{article} \\usepackage{xeCJK} \\begin{document} \\title{APMæºç ç¬”è®°{}} \\author{èœåˆ€} \\maketitle %\\today \\end{document} `` ```bash xelatex test.tet ","date":"2023-07-14","objectID":"/2023-07-14-vim-latex/:2:0","tags":[],"title":"vim latex","uri":"/2023-07-14-vim-latex/"},{"categories":["tools"],"content":"nagios æ˜¯ä¸€æ¬¾ç”¨äºç›‘æ§è¿œç¨‹æœºå™¨çŠ¶æ€çš„å¼€æºè½¯ä»¶ï¼Œä½¿ç”¨äº†æœåŠ¡ç«¯-å®¢æˆ·ç«¯çš„è®¾è®¡æ¶æ„ã€‚ æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯çš„å®‰è£…æ­¥éª¤ã€‚ å…¶ä¸­ï¼Œç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯ï¼š ç›®å‰ NRPE åªèƒ½æ”¯æŒ openssl-1.1.1 ç‰ˆæœ¬çš„ ssl åŠŸèƒ½ï¼Œå¦åˆ™ä¼šå‡ºç°é”™è¯¯ ccxhAMXP.o: In function `get_dh2048': /tmp/nrpe-4.1.0/src/./../include/dh.h:33: undefined reference to `DH_set0_pqg' collect2: error: ld returned 1 exit status make[1]: *** [nrpe] Error 1 make[1]: Leaving directory `/tmp/nrpe-4.1.0/src' make: *** [all] Error 2 ... undefined reference to `SSL_get1_peer_certificate' nagios ä¾èµ– apache æä¾›çš„ httpdï¼Œç®¡ç†é¡µé¢ä½äº: http://127.0.0.1:80/nagios/ã€‚ NRPE çš„æœåŠ¡ç«¯ä¸éœ€è¦å®‰è£…ä»¥ä¸‹åŠŸèƒ½ï¼š ## below only for host-client ## make install-config \u0026\u0026 \\ ## make install-inetd \u0026\u0026 \\ ## make install-init \u0026\u0026 \\ ## make install-groups-users nagcmd ç”¨æˆ· groupadd nagcmd usermod -G nagcmd nagios usermod -G nagcmd apache chown nagios:nagcmd /usr/local/nagios/var/rw chown nagios:nagcmd /usr/local/nagios/var/rw/nagios.cmd systemctl restart nagios perl å®ç°å‘½ä»¤è¡Œè‡ªåŠ¨å®‰è£…ä¾èµ–åŒ… # export PERL_MM_USE_DEFAULT=1 \u0026\u0026 \\ # # cpan -i Digest::MD5 \u0026\u0026 \\ # # cpan -i Nagios::Config \u0026\u0026 \\ # perl -MCPAN -e \"install Digest::MD5\" \u0026\u0026 \\ # perl -MCPAN -e \"install Nagios::Config\" \u0026\u0026 \\ yum -y install perl-App-cpanminus.noarch export PERL_CPANM_OPT=\"--prompt --reinstall -l ~/perl5 --mirror http://cpan.cpantesters.org\" cpanm Digest::MD5 cpanm Nagios::Config åœ¨å®‰è£… nagios-graph çš„æ—¶å€™ï¼Œä¸€å®šè¦æ³¨æ„å…è®¸ä¿®æ”¹ nagios.cfg nagios.cfg Modify the Nagios configuration? [n] y Path of Nagios configuration file? [/usr/local/nagios/etc/nagios.cfg] Path of Nagios commands file? [/usr/local/nagios/etc/objects/commands.cfg] ``` apache Modify the Apache configuration? [n] y Path of Apache configuration directory? [/etc/httpd/conf.d] æ•´ä¸ªè¿‡ç¨‹å¦‚ä¸‹ï¼š checking required PERL modules Carp...1.26 CGI...3.63 Data::Dumper...2.145 Digest::MD5...2.52 File::Basename...2.84 File::Find...1.20 MIME::Base64...3.13 POSIX...1.30 RRDs...1.4008 Time::HiRes...1.9725 checking optional PERL modules GD...2.49 Nagios::Config...36 checking nagios installation found nagios exectuable at /usr/local/nagios/bin/nagios found nagios init script at /etc/init.d/nagios checking web server installation found apache executable at /usr/sbin/httpd Destination directory (prefix)? [/usr/local/nagios] Location of configuration files (etc-dir)? [/usr/local/nagios/etc/nagiosgraph] Location of executables? [/usr/local/nagios/libexec] Location of CGI scripts? [/usr/local/nagios/sbin] Location of documentation (doc-dir)? [/usr/local/nagios/docs/nagiosgraph] Location of examples? [/usr/local/nagios/docs/nagiosgraph/examples] Location of CSS and JavaScript files? [/usr/local/nagios/share] Location of utilities? [/usr/local/nagios/docs/nagiosgraph/util] Location of state files (var-dir)? [/var/nagios] Location of RRD files? [/var/nagios/rrd] Location of log files (log-dir)? [/var/nagios] Path of log file? [/var/nagios/nagiosgraph.log] Path of CGI log file? [/var/nagios/nagiosgraph-cgi.log] Base URL? [/nagios] URL of CGI scripts? [/nagios/cgi-bin] URL of CSS file? [/nagios/nagiosgraph.css] URL of JavaScript file? [/nagios/nagiosgraph.js] URL of Nagios CGI scripts? [/nagios/cgi-bin] Path of Nagios performance data file? [/tmp/perfdata.log] username or userid of Nagios user? [nagios] username or userid of web server user? [apache] Modify the Nagios configuration? [n] y Path of Nagios configuration file? [/usr/local/nagios/etc/nagios.cfg] Path of Nagios commands file? [/usr/local/nagios/etc/objects/commands.cfg] Modify the Apache configuration? [n] y Path of Apache configuration directory? [/etc/httpd/conf.d] configuration: ng_prefix /usr/local/nagios ng_etc_dir /usr/local/nagios/etc/nagiosgraph ng_bin_dir /usr/local/nagios/libexec ng_cgi_dir /usr/local/nagios/sbin ng_doc_dir /usr/local/nagios/docs/nagiosgraph ng_examples_dir /usr/local/nagios/docs/nagiosgraph/examples ng_www_dir /usr/local/nagios/share ng_util_dir /usr/local/nagios/docs/nagiosgraph/util ng_var_dir /var/nagios ng_rrd_dir /var/nagios/rrd ng_log_dir /var/nagios ng_log_file /var/nagios/nagiosgraph.log ng_cgilog_file /var/nagios/nagiosgraph-cgi.log ng_url /nagios ng_cgi_url /nagios/cgi-bin ng","date":"2023-07-09","objectID":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:0:0","tags":["Linux","CentOS","nagios","openssl","log","monitor"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" å®‰è£… nagios-core sudo yum -y install httpd php gd gd-devel perl postfix \u0026\u0026 \\ yum -y install perl perl-CGI \u0026\u0026 \\ sudo useradd nagios -p nagios \u0026\u0026 \\ sudo groupadd nagcmd \u0026\u0026 \\ sudo usermod -G nagcmd nagios \u0026\u0026 \\ sudo usermod -G nagcmd apache export NAGIOS_CORE_VERSION=4.4.13 cd /tmp \u0026\u0026 \\ wget -O nagioscore.tar.gz https://github.com/NagiosEnterprises/nagioscore/archive/nagios-${NAGIOS_CORE_VERSION}.tar.gz \u0026\u0026 \\ tar -xvf nagioscore.tar.gz \u0026\u0026 \\ cd nagioscore-nagios-${NAGIOS_CORE_VERSION} \u0026\u0026 \\ ./configure \u0026\u0026 \\ make all \u0026\u0026 \\ make install \u0026\u0026 \\ make install-daemoninit \u0026\u0026 \\ make install-config \u0026\u0026 \\ make install-commandmode \u0026\u0026 \\ make install-webconf ","date":"2023-07-09","objectID":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:1:0","tags":["Linux","CentOS","nagios","openssl","log","monitor"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" å®‰è£… nagios-plugin NAGIOS_PLUGIN_VERSION=2.4.5 cd /tmp \u0026\u0026 \\ wget --no-check-certificate -O nagios-plugins.tar.gz https://github.com/nagios-plugins/nagios-plugins/releases/download/release-${NAGIOS_PLUGIN_VERSION}/nagios-plugins-${NAGIOS_PLUGIN_VERSION}.tar.gz \u0026\u0026 \\ tar -xvf nagios-plugins.tar.gz \u0026\u0026 \\ cd nagios-plugins-${NAGIOS_PLUGIN_VERSION} \u0026\u0026 \\ unset ZSH_VERSION \u0026\u0026 \\ CFLAGS=\"-I/usr/local/openssl/include\" LDFLAGS=\"-L/usr/local/openssl/lib64\" \\ ./configure --with-nagios-user=nagios --with-nagios-group=nagios --with-openssl=/usr/local/openssl \u0026\u0026 \\ make -j \u0026\u0026 make install ","date":"2023-07-09","objectID":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:2:0","tags":["Linux","CentOS","nagios","openssl","log","monitor"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" å®‰è£… nagios-nrpe NAGIOS_NRPE_VERSION=4.1.0 cd /tmp \u0026\u0026 \\ unset ZSH_VERSION \u0026\u0026 \\ wget https://www.openssl.org/source/old/1.1.1/openssl-1.1.1t.tar.gz \u0026\u0026 \\ tar -xvf openssl-1.1.1t.tar.gz \u0026\u0026 \\ cd openssl-1.1.1t \u0026\u0026 \\ ./config --prefix=/usr/local --openssldir=/etc/ssl --libdir=lib enable-ssl3 enable-ssl3-method enable-weak-ssl-ciphers -DOPENSSL_NO_GOST zlib shared \u0026\u0026 \\ make -j \u0026\u0026 make install \u0026\u0026 \\ ln -sfn /usr/local/bin/openssl /usr/bin/openssl \u0026\u0026 \\ ln -sfn /usr/local/include/openssl/ /usr/include/openssl \u0026\u0026 \\ echo \"/usr/local/lib/\" \u003e\u003e /etc/ld.so.conf \u0026\u0026 \\ ldconfig \u0026\u0026 \\ wget --no-check-certificate -O nagios-nrpe.tar.gz https://github.com/NagiosEnterprises/nrpe/releases/download/nrpe-${NAGIOS_NRPE_VERSION}/nrpe-${NAGIOS_NRPE_VERSION}.tar.gz \u0026\u0026 \\ tar -xvf nagios-nrpe.tar.gz \u0026\u0026 \\ cd nrpe-${NAGIOS_NRPE_VERSION} \u0026\u0026 \\ export LDFLAGS=-L/usr/local/lib \u0026\u0026 \\ ./configure --enable-command-args --with-nagios-user=nagios --with-nagios-group=nagios \u0026\u0026 \\ make all \u0026\u0026 \\ make install \u0026\u0026 \\ ## below only for host-client ## make install-config \u0026\u0026 \\ ## make install-inetd \u0026\u0026 \\ ## make install-init \u0026\u0026 \\ ## make install-groups-users rm -rf /tmp/nagios* ","date":"2023-07-09","objectID":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:3:0","tags":["Linux","CentOS","nagios","openssl","log","monitor"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" å¯åŠ¨æœåŠ¡ ## å¯åŠ¨ http æœåŠ¡ sudo systemctl restart httpd ## ç”Ÿæˆå¯†ç  sudo htpasswd -c /usr/local/nagios/etc/htpasswd.users nagiosadmin New password: Re-type new password: Adding password for user nagiosadmin ## å¯åŠ¨æœåŠ¡ systemctl enable nagios systemctl start nagios systemctl status nagios ## å¼€æ”¾ç«¯å£ #firewall-cmd --add-service=http #firewall-cmd --add-service=https #firewall-cmd --reload æ£€æŸ¥ä¸€ä¸‹æ’ä»¶æ˜¯å¦å·²ç»å®‰è£…å¥½ ## è¿œç¨‹æœåŠ¡åœ¨ 192.168.1.162:5666 /usr/local/nagios/libexec/check_nrpe -H 192.168.1.162 -p 5666 ## è¿™æ—¶å€™ä¼šè°ƒç”¨è¿œç¨‹å®¢æˆ·ç«¯å‘½ä»¤ï¼Œå¦‚æœæ˜¾ç¤ºä»¥ä¸‹å†…å®¹åˆ™è¯´æ˜åŒ¹é…æˆåŠŸäº† NRPE v4.0.3 è¿™æ ·ï¼Œå¯ä»¥è®¿é—®: http://127.0.0.1:80/nagios/ã€‚ \u003c!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\"\u003e \u003chtml\u003e\u003chead\u003e \u003ctitle\u003e401 Unauthorized\u003c/title\u003e \u003c/head\u003e\u003cbody\u003e \u003ch1\u003eUnauthorized\u003c/h1\u003e \u003cp\u003eThis server could not verify that you are authorized to access the document requested. Either you supplied the wrong credentials (e.g., bad password), or your browser doesn't understand how to supply the credentials required.\u003c/p\u003e \u003c/body\u003e\u003c/html\u003e ","date":"2023-07-09","objectID":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:4:0","tags":["Linux","CentOS","nagios","openssl","log","monitor"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" æ·»åŠ ç›‘æ§å®¢æˆ·æœºå™¨å¯ä»¥å‚è€ƒ /usr/local/nagios/etc/objects/localhost.cfgï¼Œ æ¯”å¦‚è¿™ä¸ªå®¢æˆ·ç«¯ /usr/local/nagios/etc/research-machines/m2.cfg # ä¸­é—´çš„å†…å®¹å—æ˜¯ç”¨äºè®¾ç½®è®¾å¤‡ä¿¡æ¯çš„ define host { # use å…³é”®å­—è¡¨ç¤ºä½¿ç”¨çš„æ¨¡ç‰ˆï¼Œæ¨¡ç‰ˆå°†åœ¨åç»­è®²è§£ï¼Œæ­¤å¤„ä½¿ç”¨çš„æ˜¯ linux-server æ¨¡ç‰ˆ use linux-server # host_name å…³é”®å­—è¡¨ç¤ºæœºå™¨çš„åå­—ï¼Œä¹Ÿæ˜¯åœ¨ Web ç•Œé¢ä¸­æ˜¾ç¤ºçš„åå­— host_name M2 # alias è¡¨ç¤ºæœºå™¨çš„åˆ«åï¼Œä¸€èˆ¬ç”¨ä½œæœºå™¨åˆ«åçš„æè¿° alias M2@WuyaCapital # address è®¾ç½®è¯¥æœºå™¨çš„ IP åœ°å€ï¼Œä»¥ä¾¿ä¸æ•°æ®çš„è·å–ä¸è¢«åŠ¨ç›‘æ§çš„è¯·æ±‚ address 192.168.1.162 # æœ€å¤§çš„å°è¯•æ¬¡æ•°ï¼Œä¹Ÿå°±æ˜¯åœ¨æŸæœåŠ¡ç›‘æ§å‡ºé”™å†æ¬¡è¿è¡Œç›‘æ§å‘½ä»¤è·å–æ•°æ®çš„æ¬¡æ•° max_check_attempts 3 # æ£€æµ‹çš„æ—¶é—´æ®µ check_period 24x7 # å‘é€æ¶ˆæ¯æé†’çš„æ—¶é—´é—´éš” notification_interval 30 # å‘é€æ¶ˆæ¯æé†’çš„æ—¶é—´æ®µ notification_period 24x7 } define service{ use local-service,graphed-service ; Name of service template to use host_name M2 service_description Current Users check_command check_nrpe!check_users check_interval 1 retry_interval 1 check_period 24x7 notification_interval 1 notification_period 24x7 notifications_enabled 1 register 1 } define service{ use local-service,graphed-service ; Name of service template to use host_name M2 service_description Total Procs check_command check_nrpe!check_total_procs check_interval 1 retry_interval 1 check_period 24x7 notification_interval 1 notification_period 24x7 notifications_enabled 1 register 1 } åŒæ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹å‘½ä»¤ vim /usr/local/nagios/etc/objects/commands.cfg # 'check_NRPE' command definition define command{ command_name check_nrpe command_line $USER1$/check_nrpe -H $HOSTADDRESS$ -p $ARG1$ -c $ARG2$ } å®¢æˆ·ç«¯ sudo yum -y install zlib-devel xinetd sudo useradd nagios -p nagios ","date":"2023-07-09","objectID":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:5:0","tags":["Linux","CentOS","nagios","openssl","log","monitor"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" å®‰è£… nagios-pluginåŒæœåŠ¡ç«¯çš„å®‰è£…: nagios-plugin ","date":"2023-07-09","objectID":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:6:0","tags":["Linux","CentOS","nagios","openssl","log","monitor"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" å®‰è£… nagios-nrpe NAGIOS_NRPE_VERSION=4.1.0 cd /tmp \u0026\u0026 \\ unset ZSH_VERSION \u0026\u0026 \\ wget https://www.openssl.org/source/old/1.1.1/openssl-1.1.1t.tar.gz \u0026\u0026 \\ tar -xvf openssl-1.1.1t.tar.gz \u0026\u0026 \\ cd openssl-1.1.1t \u0026\u0026 \\ ./config --prefix=/usr/local --openssldir=/etc/ssl --libdir=lib enable-ssl3 enable-ssl3-method enable-weak-ssl-ciphers -DOPENSSL_NO_GOST zlib shared \u0026\u0026 \\ make -j \u0026\u0026 make install \u0026\u0026 \\ ln -sfn /usr/local/bin/openssl /usr/bin/openssl \u0026\u0026 \\ ln -sfn /usr/local/include/openssl/ /usr/include/openssl \u0026\u0026 \\ echo \"/usr/local/lib/\" \u003e\u003e /etc/ld.so.conf \u0026\u0026 \\ ldconfig \u0026\u0026 \\ wget --no-check-certificate -O nagios-nrpe.tar.gz https://github.com/NagiosEnterprises/nrpe/releases/download/nrpe-${NAGIOS_NRPE_VERSION}/nrpe-${NAGIOS_NRPE_VERSION}.tar.gz \u0026\u0026 \\ tar -xvf nagios-nrpe.tar.gz \u0026\u0026 \\ cd nrpe-${NAGIOS_NRPE_VERSION} \u0026\u0026 \\ export LDFLAGS=-L/usr/local/lib \u0026\u0026 \\ ./configure --enable-command-args --with-nagios-user=nagios --with-nagios-group=nagios \u0026\u0026 \\ make all \u0026\u0026 \\ make install \u0026\u0026 \\ ## below only for host-client make install-config \u0026\u0026 \\ make install-inetd \u0026\u0026 \\ make install-init \u0026\u0026 \\ make install-groups-users rm -rf /tmp/nagios* ","date":"2023-07-09","objectID":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:7:0","tags":["Linux","CentOS","nagios","openssl","log","monitor"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" å¯åŠ¨æœåŠ¡ systemctl enable xinetd systemctl restart xinetd systemctl status xinetd systemctl enable nrpe systemctl restart nrpe systemctl status nrpe ## æ£€æŸ¥æ˜¯å¦å·²ç»å¯åŠ¨ nrpe netstat -at | egrep \"nrpe|5666\" ## æ£€æŸ¥æœåŠ¡æ˜¯å¦å¯ç¨‹ /usr/local/nagios/libexec/check_nrpe -H localhost NRPE v4.1.0 ## æ£€æŸ¥æ’ä»¶æ˜¯å¦å¯ç”¨ /usr/local/nagios/libexec/check_nrpe -H localhost -c check_users USERS OK - 5 users currently logged in |users=5;5;10;0 ## ä¿®æ”¹å®¢æˆ·ç«¯ç›‘æ§é¡¹ç›®ä¸å†…å®¹ vim /usr/local/nagios/etc/nrpe.cfg # The following examples allow user-supplied arguments and can # only be used if the NRPE daemon was compiled with support for # command arguments *AND* the dont_blame_nrpe directive in this # config file is set to '1'. This poses a potential security risk, so # make sure you read the SECURITY file before doing this. ### MISC SYSTEM METRICS ### # command[check_users]=/usr/local/nagios/libexec/check_users -w 5 -c 10 command[check_load]=/usr/local/nagios/libexec/check_load -r -w .15,.10,.05 -c .30,.25,.20 command[check_hda1]=/usr/local/nagios/libexec/check_disk -w 20% -c 10% -p /dev/hda1 command[check_zombie_procs]=/usr/local/nagios/libexec/check_procs -w 5 -c 10 -s Z command[check_total_procs]=/usr/local/nagios/libexec/check_procs -w 150 -c 200 # The following examples allow user-supplied arguments and can # only be used if the NRPE daemon was compiled with support for # command arguments *AND* the dont_blame_nrpe directive in this # config file is set to '1'. This poses a potential security risk, so # make sure you read the SECURITY file before doing this. ### MISC SYSTEM METRICS ### command[check_users]=/usr/local/nagios/libexec/check_users -w $ARG1$ -c $ARG2$ #command[check_load]=/usr/local/nagios/libexec/check_load $ARG1$ #command[check_disk]=/usr/local/nagios/libexec/check_disk $ARG1$ #command[check_swap]=/usr/local/nagios/libexec/check_swap $ARG1$ #command[check_cpu_stats]=/usr/local/nagios/libexec/check_cpu_stats.sh $ARG1$ #command[check_mem]=/usr/local/nagios/libexec/custom_check_mem -n $ARG1$ ## å…è®¸æ¥å…¥çš„æœåŠ¡å™¨ip allowed_hosts=127.0.0.1 allowed_hosts=192.168.1.162 ## æ—¥å¿—æ–‡ä»¶ log_file=/usr/local/nagios/var/nrpe.log ## å…è®¸ä¼ é€’å‚æ•° ## è¿™æ ·æœåŠ¡å™¨å¯ä»¥è°ƒç”¨å‚æ•°ï¼š/usr/local/nagios/libexec/check_nrpe -H127.0.0.1 -p56118 -c check_users -a \"2 10\" ## åœ¨ command.cfg å¯ä»¥è¿™æ ·ä½¿ç”¨å‚æ•°ä¼ é€’ï¼šcommand_line $USER1$/check_nrpe -H $HOSTADDRESS$ -p $ARG1$ -c $ARG2$ -a $ARG3$ ## åœ¨ colo.cfg è°ƒç”¨å‘½ä»¤ï¼šcheck_command check_nrpe!56118!check_users!\"2 10\" ## dont_blame_nrpe=1 ç¼–å†™ nagios-plugin","date":"2023-07-09","objectID":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:8:0","tags":["Linux","CentOS","nagios","openssl","log","monitor"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" show-users Show Users show_users show_users.sh ","date":"2023-07-09","objectID":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:9:0","tags":["Linux","CentOS","nagios","openssl","log","monitor"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" ä»£ç  #!/bin/bash # # Copyright Hari Sekhon 2007 # # This program is free software; you can redistribute it and/or modify # it under the terms of the GNU General Public License as published by # the Free Software Foundation; either version 2 of the License, or # (at your option) any later version. # # This program is distributed in the hope that it will be useful, # but WITHOUT ANY WARRANTY; without even the implied warranty of # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the # GNU General Public License for more details. # # You should have received a copy of the GNU General Public License # along with this program; if not, write to the Free Software # Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA # # Nagios Plugin to list all currently logged on users to a system. # Modified by Rob MacKenzie, SFU - rmackenz@sfu.ca # Added the -w and -c options to check for number of users. version=0.3 # This makes coding much safer as a varible typo is caught # with an error rather than passing through set -u # Note: resisted urge to use \u003c\u003c\u003c, instead sticking with | # in case anyone uses this with an older version of bash # so no bash bashers please on this # Standard Nagios exit codes OK=0 WARNING=1 CRITICAL=2 UNKNOWN=3 usage(){ echo \"usage: ${0##*/} [--simple] [ --mandatory username ] [ --unauthorized username ] [ --whitelist username ]\" echo echo \"returns a list of users on the local machine\" echo echo \" -s, --simple show users without the number of sessions\" echo \" -m username, --mandatory username\" echo \" Mandatory users. Return CRITICAL if any of these users are not\" echo \" currently logged in\" echo \" -b username, --blacklist username\" echo \" Unauthorized users. Returns CRITICAL if any of these users are\" echo \" logged in. This can be useful if you have a policy that states\" echo \" that you may not have a root shell but must instead only use \" echo \" 'sudo command'. Specifying '-u root' would alert on root having\" echo \" a session and hence catch people violating such a policy.\" echo \" -a username, --whitelist username\" echo \" Whitelist users. This is exceptionally useful. If you define\" echo \" a bunch of users here that you know you use, and suddenly\" echo \" there is a user session open for another account it could\" echo \" alert you to a compromise. If you run this check say every\" echo \" 3 minutes, then any attacker has very little time to evade\" echo \" detection before this trips.\" echo echo \" -m,-u and -w can be specified multiple times for multiple users\" echo \" or you can use a switch a single time with a comma separated\" echo \" list.\" echo \" -w integer, --warning integer\" echo \" Set WARNING status if more than INTEGER users are logged in\" echo \" -c integer, --critical integer\" echo \" Set CRITICAL status if more than INTEGER users are logged in\" echo echo echo \" -V --version Print the version number and exit\" echo exit $UNKNOWN } simple=\"\" mandatory_users=\"\" unauthorized_users=\"\" whitelist_users=\"\" warning_users=0 critical_users=0 while [ \"$#\" -ge 1 ]; do case \"$1\" in -h|--help) usage ;; -V|--version) echo $version exit $UNKNOWN ;; -s|--simple) simple=true ;; -m|--mandatory) if [ \"$#\" -ge 2 ]; then if [ -n \"$mandatory_users\" ]; then mandatory_users=\"$mandatory_users $2\" else mandatory_users=\"$2\" fi shift else usage fi ;; -b|--blacklist) if [ \"$#\" -ge 2 ]; then if [ -n \"$unauthorized_users\" ]; then unauthorized_users=\"$unauthorized_users $2\" else unauthorized_users=\"$2\" fi shift else usage fi ;; -a|--whitelist) if [ \"$#\" -ge 2 ]; then if [ -n \"$whitelist_users\" ]; then whitelist_users=\"$whitelist_users $2\" else whitelist_users=\"$2\" fi shift else usage fi ;; -w|--warning) if [ \"$#\" -ge 2 ]; then if [ $2 -ge 1 ]; then warning_users=$2 fi shift else usage fi ;; -c|--critical) if [ \"$#\" -ge 2 ]; then if [ $2 -ge 1 ]; then critical_users=$2 fi shift else usage fi ;; *) usage ;; esac shift done mandatory_users=\"`echo $mandatory_users | tr ',' ' '`\" unauthorized_users=\"`echo $unauthorized_users | tr","date":"2023-07-09","objectID":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:9:1","tags":["Linux","CentOS","nagios","openssl","log","monitor"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" é…ç½® Plugin worked properly. Just set below things. On Nagios Server: * Create a file \"show_users\" in your libexec directory. * Copy all the \"show_users.txt\" contents in \"show_users\" file * chmod 755 show_users * chown nagios:nagios show_users * Open your host configuration file \u0026 type below configuration. define service{ use generic-service ; Inherit values from a template host_name Dell NFS Server service_description Logged Users check_command check_nrpe!show_users On NRPE Client: * Copy show_users file in \"libexec\" directory * vim nrpe.cfg, add below line command[show_users]=/usr/local/nagios/libexec/show_users Save \u0026 Exit \u0026 restart NRPE/Xinetd service That's it. ","date":"2023-07-09","objectID":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:9:2","tags":["Linux","CentOS","nagios","openssl","log","monitor"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" é…ç½® nagios-graph å‚è€ƒè¿™ä¸ªåšå®¢:Steps to Install Nagiosgraph for Nagios Core on CentOS 7 å®‰è£…çš„æ—¶å€™ï¼Œä¸€å®šè¦è®°å¾—å…è®¸ä¿®æ”¹ nagios ä¸ apache é…ç½®ï¼Œä¸è¦ä¸€é”®åˆ°åº• locate /etc/httpd/conf/httpd.conf ## cgi ## å…ˆå®‰è£… perl-core yum install -y perl-core ## è¿›å…¥ perl å‘½ä»¤è¡Œæ¨¡å¼ï¼Œå¼€å§‹å®‰è£… perl -MCPAN -e shell 1) install Digest::MD5 2) install Nagios::Config ## ä¿®æ”¹æƒé™ chmod 777 -R /usr/local/nagios ## ä¿®æ”¹ templates.cfg, ä¸€å®šè¦æ”¹æˆ /nagios/cgi-bin/.... define service { name graphed-service action_url /nagios/cgi-bin/show.cgi?host=$HOSTNAME$\u0026service=$SERVICEDESC$' onMouseOver='showGraphPopup(this)' onMouseOut='hideGraphPopup()' rel='/nagiosgraph/cgi-bin/showgraph.cgi?host=$HOSTNAME$\u0026service=$SERVICEDESC$\u0026period=week\u0026rrdopts=-w+450+-j register 0 } ## æµ‹è¯•æ‰“å¼€ http://127.0.0.1:8080/nagios/cgi-bin/showconfig.cgi ","date":"2023-07-09","objectID":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:10:0","tags":["Linux","CentOS","nagios","openssl","log","monitor"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" é…ç½® pnp4nagios å¼€æºç›‘æ§è§£å†³æ–¹æ¡ˆNagios+Cacti+PNP4Nagios+NConf+NDOUtils+Nagvisï¼ˆä¸‰ï¼‰pnp4nagioså®‰è£… sudo /etc/init.d/npcd restart systemctl restart npcd systemctl restart httpd ","date":"2023-07-09","objectID":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:11:0","tags":["Linux","CentOS","nagios","openssl","log","monitor"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" å®‰è£… pnp4nagios cd /tmp wget -O pnp4nagios.tar.gz https://github.com/lingej/pnp4nagios/archive/0.6.26.tar.gz tar -xvf pnp4nagios.tar.gz cd pnp4nagios-0.6.26 ./configure --with-rrdtool=/usr/bin/rrdtool --with-perfdata-dir=/usr/local/nagios/share/perfdata --with-perfdata-spool-dir=/usr/local/nagios/share/spool --with-nagios-user=nagios --with-nagios-group=nagios make all make install make install-webconf make install-config make install-init é…ç½® cd /usr/local/pnp4nagios/etc mv misccommands.cfg-sample misccommands.cfg mv nagios.cfg-sample nagios.cfg mv rra.cfg-sample rra.cfg cd /usr/local/pnp4nagios/etc/pages/ mv web_traffic.cfg-sample web_traffic.cfg cd ../check_commands mv check_all_local_disks.cfg-sample check_all_local_disks.cfg mv check_nrpe.cfg-sample check_nrpe.cfg mv check_nwstat.cfg-sample check_nwstat.cfg ## å¯åŠ¨æœåŠ¡ sudo /etc/init.d/npcd restart systemctl restart npcd systemctl restart httpd ## ä¿®æ”¹ /usr/local/nagios/etc/objects/templates.cfg cp /usr/local/nagios/etc/objects/templates.cfg /usr/local/nagios/etc/objects/templates.cfg.orig ## ---------------------------------------------- vim /usr/local/nagios/etc/objects/templates.cfg define host { name host-pnp register 0 action_url /pnp4nagios/index.php/graph?host=$HOSTNAME$\u0026srv=_HOST_' class='tips' rel='/pnp4nagios/index.php/popup?host=$HOSTNAME$\u0026srv=_HOST_ process_perf_data 1 } define service { name srv-pnp register 0 action_url /pnp4nagios/index.php/graph?host=$HOSTNAME$\u0026srv=$SERVICEDESC$' class='tips' rel='/pnp4nagios/index.php/popup?host=$HOSTNAME$\u0026srv=$SERVICEDESC$ process_perf_data 1 } define host{ name gchost use host-pnp max_check_attempts 1 normal_check_interval 2 retry_check_interval 1 check_period 24x7 contact_groups myself_group notification_interval 2 notification_period 24x7 notification_options d,u,r check_command check-host-alive } define service{ name myself_temp use srv-pnp max_check_attempts 2 normal_check_interval 2 retry_check_interval 1 check_period 24x7 notification_interval 2 notification_period 24x7 notification_options w,u,c,r contact_groups myself_group check_command check-host-alive register 0 } ## ä¿®æ”¹ /usr/local/nagios/etc/nagios.cfg cd /usr/local/nagios/etc/nagios.cfg /usr/local/nagios/etc/nagios.cfg.orig ## ------------------------------------- vim /usr/local/nagios/etc/nagios.cfg process_performance_data=1 enable_environment_macros=1 host_perfdata_file=/usr/local/pnp4nagios/var/host-perfdata service_perfdata_file=/usr/local/pnp4nagios/var/service-perfdata host_perfdata_file_template=DATATYPE::HOSTPERFDATA\\tTIMET::$TIMET$\\tHOSTNAME::$HOSTNAME$\\tHOSTPERFDATA::$HOSTPERFDATA$\\tHOSTCHECKCOMMAND::$HOSTCHECKCOMMAND$\\tHOSTSTATE::$HOSTSTATE$\\tHOSTSTATETYPE::$HOSTSTATETYPE$ service_perfdata_file_template=DATATYPE::SERVICEPERFDATA\\tTIMET::$TIMET$\\tHOSTNAME::$HOSTNAME$\\tSERVICEDESC::$SERVICEDESC$\\tSERVICEPERFDATA::$SERVICEPERFDATA$\\tSERVICECHECKCOMMAND::$SERVICECHECKCOMMAND$\\tHOSTSTATE::$HOSTSTATE$\\tHOSTSTATETYPE::$HOSTSTATETYPE$\\tSERVICESTATE::$SERVICESTATE$\\tSERVICESTATETYPE::$SERVICESTATETYPE$\\tSERVICEOUTPUT::$SERVICEOUTPUT$ host_perfdata_file_mode=a service_perfdata_file_mode=a host_perfdata_file_processing_interval=15 service_perfdata_file_processing_interval=15 host_perfdata_file_processing_command=process-host-perfdata-file service_perfdata_file_processing_command=process-service-perfdata-file ## ä¿®æ”¹ /usr/local/nagios/etc/objects/commands.cfg cp /usr/local/nagios/etc/objects/commands.cfg /usr/local/nagios/etc/objects/commands.cfg.orig ## -------------------------------------------------- vim /usr/local/nagios/etc/objects/commands.cfg define command{ command_name process-service-perfdata-file command_line /usr/local/pnp4nagios/libexec/process_perfdata.pl --bulk=/usr/local/pnp4nagios/var/service-perfdata } define command{ command_name process-host-perfdata-file command_line /usr/local/pnp4nagios/libexec/process_perfdata.pl --bulk=/usr/local/pnp4nagios/var/host-perfdata } ## ä¿®æ”¹ apache é…ç½® /etc/httpd/conf/httpd.conf cd /etc/httpd/conf/httpd.conf /etc/httpd","date":"2023-07-09","objectID":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:11:1","tags":["Linux","CentOS","nagios","openssl","log","monitor"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" grafana nagios+grafana https://www.centlinux.com/2019/02/install-grafana-pnp4nagios-centos-7.html cd /tmp wget https://dl.grafana.com/enterprise/release/grafana-enterprise-10.0.0-1.x86_64.rpm ## å®‰è£… grafana sudo yum install grafana-enterprise-10.0.0-1.x86_64.rpm systemctl daemon-reload systemctl enable grafana-server.service systemctl start grafana-server.service systemctl restart grafana-server.service ## å®‰è£… PNP plugin sudo grafana-cli plugins install sni-pnp-datasource # service firewalld restart # firewall-cmd --permanent --add-port=3000/tcp # firewall-cmd --reload # service firewalld restart ## ä¸‹è½½ api cd /usr/local/pnp4nagios/share/application/controllers/ wget -O api.php \"https://github.com/lingej/pnp-metrics-api/raw/master/application/controller/api.php\" systemctl restart grafana-server.service ## é…ç½® pnp4nagios cp /etc/httpd/conf.d/pnp4nagios.conf /etc/httpd/conf.d/pnp4nagios.conf.orig sed -i '/Allow from all/a\\ Allow from 127.0.0.1 ::1' /etc/httpd/conf.d/pnp4nagios.conf sed -i '/Require valid-user/a\\ Require all granted' /etc/httpd/conf.d/pnp4nagios.conf sed -i '/Require valid-user/a\\ Require ip 127.0.0.1 ::1' /etc/httpd/conf.d/pnp4nagios.conf sed -i 's/Allow from all/#\u0026/' /etc/httpd/conf.d/pnp4nagios.conf sed -i 's/AuthName/#\u0026/' /etc/httpd/conf.d/pnp4nagios.conf sed -i 's/AuthType Basic/#\u0026/' /etc/httpd/conf.d/pnp4nagios.conf sed -i 's/AuthUserFile/#\u0026/' /etc/httpd/conf.d/pnp4nagios.conf sed -i 's/Require valid-user/#\u0026/' /etc/httpd/conf.d/pnp4nagios.conf systemctl restart httpd.service ## é…ç½® grafana, é¦–æ¬¡ç™»å½•ï¼Œè´¦æˆ·:adminï¼Œå¯†ç :admin ## é…ç½® pnp data source ## ç”Ÿæˆå¯†ç ï¼Œä½¿ç”¨è¿™ä¸ªåœ¨ grafana ç™»å½• pnp htpasswd -b /usr/local/nagios/etc/htpasswd.users nagiosadmin ********* ## æ‰“å¼€é¡µé¢, http://127.0.0.1:3000 ","date":"2023-07-09","objectID":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:11:2","tags":["Linux","CentOS","nagios","openssl","log","monitor"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" ä¼ä¸šå¾®ä¿¡é€šçŸ¥ ä¼ä¸šå¾®ä¿¡å¯¹äºæœºå™¨äººä¸ç¾¤åŠ©æ‰‹çš„æ¸²æŸ“ä¸ä¸€æ ·ï¼Œå¯¼è‡´ \\n çš„åˆ¤æ–­ä¸åŒ if re.search('Robot', str(type(w)), re.IGNORECASE): msgx = cli.args.msg.replace('\\\\n', '\\n') else: msgx = cli.args.msg.replace('\\\\n', '\u003cbr\u003e').replace('\\n', '\u003cbr\u003e') å‚è€ƒï¼š 4 Steps to Define Nagios Contacts With Email and Pager Notification Creating a new e-mail contact nagios macro ä»‹ç»å¦‚ä½•ä½¿ç”¨ nagios å®å®šä¹‰ï¼šusing macro in commans å»ºç«‹ python é€šçŸ¥è„šæœ¬ from wepy.utils.init import * if __name__ == '__main__': ## ------------------------------------------- cli = CliParser(\"wechat from command line\") cli.add(\"who\", type=str, default='wx_test') cli.add(\"msg\", type=str, default=\"\") cli.add(\"level\", type=str, default='info') cli.show() ## ------------------------------------------- if cli.args.who not in globals(): msg = f\"\"\" {cli.args.who=} does not exist \"\"\" log.err(msg) raise Exception(msg) w = globals().get(cli.args.who) if re.search('Robot', str(type(w)), re.IGNORECASE): msgx = cli.args.msg.replace('\\\\n', '\\n') else: msgx = cli.args.msg.replace('\\\\n', '\u003cbr\u003e').replace('\\n', '\u003cbr\u003e') w.send(msgx, cli.args.level) ä¿®æ”¹ generic-contactè¿™ä¸ªæ˜¯æ¨¡æ¿ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç»§æ‰¿æ¥å®ç°å…·ä½“çš„ contact1 vim /usr/local/nagios/etc/objects/templates.cfg define contact { name generic-contact ; The name of this contact template service_notification_period 24x7 ; service notifications can be sent anytime host_notification_period 24x7 ; host notifications can be sent anytime # service_notification_options w,u,c,r,f,s ; send notifications for all service states, flapping events, and scheduled downtime events service_notification_options u,c,r,f,s ; send notifications for all service states, flapping events, and scheduled downtime events host_notification_options d,u,r,f,s ; send notifications for all host states, flapping events, and scheduled downtime events # service_notification_commands notify-service-by-email,notify-service-by-wechat ; send service notifications via email # host_notification_commands notify-host-by-email,notify-host-by-wechat ; send host notifications via email service_notification_commands notify-service-by-wechat ; send service notifications via email host_notification_commands notify-host-by-wechat ; send host notifications via email register 0 ; DON'T REGISTER THIS DEFINITION - ITS NOT A REAL CONTACT, JUST A TEMPLATE! } ä¿®æ”¹ contact vim /usr/local/nagios/etc/objects/contacts.cfg define contact { contact_name nagiosadmin ; Short name of user use generic-contact ; Inherit default values from generic-contact template (defined above) alias Nagios Admin ; Full name of user # email nagios@localhost ; \u003c\u003c***** CHANGE THIS TO YOUR EMAIL ADDRESS ****** email william.lian.fang@gmail.com ; \u003c\u003c***** CHANGE THIS TO YOUR EMAIL ADDRESS ****** host_notification_commands notify-host-by-wechat host_notification_options d,u,r host_notification_period 24x7 service_notification_commands notify-service-by-wechat service_notification_options w,u,c,r ; å¯ä»¥ä¿®æ”¹ä¸åŒçš„è®¾ç½® service_notification_period 24x7 } define contact { contact_name test ; Short name of user use generic-contact ; Inherit default values from generic-contact template (defined above) alias Nagios Dev ; Full name of user email william.lian.fang@gmail.com ; host_notifications_enabled 1 service_notifications_enabled 1 host_notification_period 24x7 service_notification_period 24x7 host_notification_options d,u,r,f,s,n service_notification_options w,u,c,r,f,s ; send notifications for all service states, flapping events, and scheduled downtime events host_notification_commands notify-host-by-wechat-test service_notification_commands notify-service-by-wechat-test } è¿˜å¯ä»¥è®¾ç½® contact-groups vim /usr/local/nagios/etc/objects/contacts.cfg define contactgroup { contactgroup_name admins alias Nagios Administrators members nagiosadmin,test } æ·»åŠ ç›‘æ§ commands vim /usr/local/nagios/etc/objects/commands.cfg ##### notify-host-by-wechat command definition define command{ command_name notify-host-by-wechat command_line /usr/local/python3/bin/python3 /app/wechat_cli.py --who='wx_test' --msg=$(/usr/bin/printf \"%b\" \"***** Nagios *****\\n","date":"2023-07-09","objectID":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:11:3","tags":["Linux","CentOS","nagios","openssl","log","monitor"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-09-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" Docker å®‰è£… nagios4","date":"2023-07-08","objectID":"/2023-07-08-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:0:0","tags":["Linux","ubuntu","CentOS","nagios","log","httpd"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-08-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" å®‰è£… nagios docker pull jasonrivers/nagios docker run --rm --name nagios4 -p 0.0.0.0:8080:80 jasonrivers/nagios:latest ## æˆ‘ä»¬éœ€è¦é…ç½®ä¸€ä¸ªç”¨æˆ·ï¼Œæˆ‘ä»¬è®©dockerå®¹å™¨ä¸­çš„nagiosé…ç½®æ–‡ä»¶è·Ÿè™šæ‹Ÿæœºç£ç›˜å»ºç«‹è”ç³» mkdir -p /opt/nagios4/etc docker cp nagios4:/opt/nagios/etc /opt/nagios4/ ç„¶åé€€å‡ºè¿™ä¸ª docker (ctl-c)ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦ç»™è´¦æˆ·è®¾ç½®å¯†ç ï¼Œä½¿ç”¨äº† htpasswd è¿™ä¸ªå·¥å…·ã€‚ ","date":"2023-07-08","objectID":"/2023-07-08-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:1:0","tags":["Linux","ubuntu","CentOS","nagios","log","httpd"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-08-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" å®‰è£… apache2 ä¸ httpd ## ubuntu sudo apt install apache2 ## CentOS sudo yum install httpd ## ç”Ÿæˆå¯†ç  sudo htpasswd -c /opt/nagios4/etc/htpasswd.users nagiosadmin New password: Re-type new password: Adding password for user nagiosadmin ","date":"2023-07-08","objectID":"/2023-07-08-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:2:0","tags":["Linux","ubuntu","CentOS","nagios","log","httpd"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-08-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" å¯åŠ¨æœåŠ¡ docker run -d --name nagios4 -p 0.0.0.0:8080:80 -v /opt/nagios4/etc:/opt/nagios/etc jasonrivers/nagios:latest ç°åœ¨å¯ä»¥ä½¿ç”¨è´¦å·è®¿é—®ç½‘é¡µï¼šhttp://127.0.0.1:8080/ã€‚ ä½¿ç”¨","date":"2023-07-08","objectID":"/2023-07-08-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:3:0","tags":["Linux","ubuntu","CentOS","nagios","log","httpd"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-08-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" é…ç½® nagios4/etcé€šè¿‡æŒ‡å®šç›®å½•ï¼Œå®ç°ä»¥ä»»æ„æ·»åŠ  *.cfg æ–‡ä»¶çš„æ–¹å¼æ¥å¢åŠ å®¢æˆ·ç«¯ç›‘æ§é¡¹ç›®ã€‚ mkdir -p /opt/nagios4 sudo docker cp nagios4:/opt/nagios/etc /opt/nagios4 vim /opt/nagios4/etc/nagios.cfg #cfg_dir=/opt/nagios/etc/servers #cfg_dir=/opt/nagios/etc/printers #cfg_dir=/opt/nagios/etc/switches #cfg_dir=/opt/nagios/etc/routers cfg_dir=/opt/nagios/etc/colo-machines cfg_dir=/opt/nagios/etc/research-machines ","date":"2023-07-08","objectID":"/2023-07-08-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:4:0","tags":["Linux","ubuntu","CentOS","nagios","log","httpd"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-08-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" æ·»åŠ  hostå¯ä»¥å‚è€ƒ /opt/nagios/etc/objectes/localhost.cfgï¼Œ æ¯”å¦‚è¿™ä¸ªå®¢æˆ·ç«¯ /opt/nagios4/etc/research-machines/m2.cfg # ä¸­é—´çš„å†…å®¹å—æ˜¯ç”¨äºè®¾ç½®è®¾å¤‡ä¿¡æ¯çš„ define host { # use å…³é”®å­—è¡¨ç¤ºä½¿ç”¨çš„æ¨¡ç‰ˆï¼Œæ¨¡ç‰ˆå°†åœ¨åç»­è®²è§£ï¼Œæ­¤å¤„ä½¿ç”¨çš„æ˜¯ linux-server æ¨¡ç‰ˆ use linux-server # host_name å…³é”®å­—è¡¨ç¤ºæœºå™¨çš„åå­—ï¼Œä¹Ÿæ˜¯åœ¨ Web ç•Œé¢ä¸­æ˜¾ç¤ºçš„åå­— host_name M2 # alias è¡¨ç¤ºæœºå™¨çš„åˆ«åï¼Œä¸€èˆ¬ç”¨ä½œæœºå™¨åˆ«åçš„æè¿° alias M2@WuyaCapital # address è®¾ç½®è¯¥æœºå™¨çš„ IP åœ°å€ï¼Œä»¥ä¾¿ä¸æ•°æ®çš„è·å–ä¸è¢«åŠ¨ç›‘æ§çš„è¯·æ±‚ address 192.168.1.162 # æœ€å¤§çš„å°è¯•æ¬¡æ•°ï¼Œä¹Ÿå°±æ˜¯åœ¨æŸæœåŠ¡ç›‘æ§å‡ºé”™å†æ¬¡è¿è¡Œç›‘æ§å‘½ä»¤è·å–æ•°æ®çš„æ¬¡æ•° max_check_attempts 3 # æ£€æµ‹çš„æ—¶é—´æ®µ check_period 24x7 # å‘é€æ¶ˆæ¯æé†’çš„æ—¶é—´é—´éš” notification_interval 30 # å‘é€æ¶ˆæ¯æé†’çš„æ—¶é—´æ®µ notification_period 24x7 } define service{ use local-service,graphed-service ; Name of service template to use host_name M2 service_description Current Users check_command check_nrpe!check_users check_interval 1 retry_interval 1 check_period 24x7 notification_interval 1 notification_period 24x7 notifications_enabled 1 register 1 } define service{ use local-service,graphed-service ; Name of service template to use host_name M2 service_description Total Procs check_command check_nrpe!check_total_procs check_interval 1 retry_interval 1 check_period 24x7 notification_interval 1 notification_period 24x7 notifications_enabled 1 register 1 } åŒæ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹å‘½ä»¤ vim /opt/nagios4/etc/objects/command.cfg # 'check_NRPE' command definition define command{ command_name check_nrpe command_line $USER1$/check_nrpe -H $HOSTADDRESS$ -c $ARG1$ } å®¢æˆ·ç«¯å®‰è£… nrpe","date":"2023-07-08","objectID":"/2023-07-08-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:5:0","tags":["Linux","ubuntu","CentOS","nagios","log","httpd"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-08-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" é…ç½® vim /etc/nagios/nrpe.cfg command[check_users]=/usr/local/nagios/libexec/check_users -w 5 -c 10 command[check_load]=/usr/local/nagios/libexec/check_load -r -w .15,.10,.05 -c .30,.25,.20 command[check_hda1]=/usr/local/nagios/libexec/check_disk -w 20% -c 10% -p /dev/hda1 command[check_zombie_procs]=/usr/local/nagios/libexec/check_procs -w 5 -c 10 -s Z command[check_total_procs]=/usr/local/nagios/libexec/check_procs -w 150 -c 200 allowed_hosts=127.0.0.1,192.168.1.82 systemctl enable nrpe systemctl start nrpe ","date":"2023-07-08","objectID":"/2023-07-08-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:6:0","tags":["Linux","ubuntu","CentOS","nagios","log","httpd"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-08-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":" æµ‹è¯• ## æœåŠ¡å™¨æµ‹è¯• /opt/nagios/libexec/check_nrpe -H 192.168.1.162 -p 5666 -c check_total_procs PROCS CRITICAL: 605 processes | procs=605;150;200;0; Ref Nagios on CentOS 7 ","date":"2023-07-08","objectID":"/2023-07-08-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:7:0","tags":["Linux","ubuntu","CentOS","nagios","log","httpd"],"title":"nagios å®‰è£…ä¸ä½¿ç”¨","uri":"/2023-07-08-nagios-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["tools"],"content":"ç”±äºæ¢äº†ä¸€å°æˆ´å°” xps å·¥ä½œæœºï¼Œéœ€è¦é‡æ–°å®‰è£… Rã€‚åœ¨æ­¤é¡ºä¾¿è®°å½•ä¸€ä¸‹è¿‡ç¨‹ã€‚ ","date":"2023-07-05","objectID":"/2023-07-05-ubuntu-install-r4.3/:0:0","tags":["ubuntu","R4.0"],"title":"ubuntu install R4.3","uri":"/2023-07-05-ubuntu-install-r4.3/"},{"categories":["tools"],"content":" apt-get sudo apt-get install \\ gfortran \\ libcurl4-gnutls-dev \\ libreadline-dev \\ libbz2-dev \\ liblzma-dev \\ libpcre++-dev \\ libpango1.0-dev sudo apt-get install \\ libfreetype6-dev \\ libpng-dev \\ libtiff5-dev \\ libjpeg-dev \\ libmariadbclient-dev ","date":"2023-07-05","objectID":"/2023-07-05-ubuntu-install-r4.3/:1:0","tags":["ubuntu","R4.0"],"title":"ubuntu install R4.3","uri":"/2023-07-05-ubuntu-install-r4.3/"},{"categories":["tools"],"content":" textlive sudo apt-get install texlive sudo apt-get install texlive-fonts-extra wget http://mirrors.ctan.org/fonts/inconsolata.zip unzip inconsolata.zip cp -Rfp inconsolata/* /usr/share/texmf mktexlsr ","date":"2023-07-05","objectID":"/2023-07-05-ubuntu-install-r4.3/:2:0","tags":["ubuntu","R4.0"],"title":"ubuntu install R4.3","uri":"/2023-07-05-ubuntu-install-r4.3/"},{"categories":["tools"],"content":" install export R_VERSION=R-4.3.1 cd /tmp \u0026\u0026 \\ wget --no-check-certificate https://cran.r-project.org/src/base/R-4/${R_VERSION}.tar.gz \u0026\u0026 \\ tar -xvf ${R_VERSION}.tar.gz \u0026\u0026 \\ cd ${R_VERSION} \u0026\u0026 \\ ./configure \\ --prefix=/usr/local/R-4/${R_VERSION} \\ --enable-memory-profiling \\ --enable-R-shlib \\ --with-blas \\ --with-lapack \\ --with-x=no \u0026\u0026 \\ make \u0026\u0026 sudo make install \u0026\u0026 \\ ln -sfn /usr/local/R-4/${R_VERSION}/bin/R /usr/bin/R \u0026\u0026 \\ ln -sfn /usr/local/R-4/${R_VERSION}/bin/Rscript /usr/bin/Rscript \u0026\u0026 \\ rm -rf /tmp/${R_VERSION}* ","date":"2023-07-05","objectID":"/2023-07-05-ubuntu-install-r4.3/:3:0","tags":["ubuntu","R4.0"],"title":"ubuntu install R4.3","uri":"/2023-07-05-ubuntu-install-r4.3/"},{"categories":["tools"],"content":"ä¸€ä»½ CS ä¸“ä¸šçš„è‡ªå­¦æ‰‹å†Œï¼šOpen Source Society University ","date":"2023-07-04","objectID":"/2023-07-04-cs--open-source-society-university/:0:0","tags":["CS","open source","university"],"title":"CS: Open Source Society University","uri":"/2023-07-04-cs--open-source-society-university/"},{"categories":["tools"],"content":"Docker æä¾›äº†ä¸€äº›æ–°åŠŸèƒ½ï¼Œè¿™äº›åªæœ‰é€šè¿‡ buildx æ’ä»¶æ‰èƒ½å®Œæˆã€‚ - [X] å¤„ç†Snail6Opsä½¿ç”¨ Docker plugin æ›´æ–°è¦æ±‚ buildx æ’ä»¶å‡çº§çš„é—®é¢˜ (2023-06-29 19:42:10) - [X] docker ERROR: BuildKit is enabled but the buildx component is missing or broken (2023-06-29 19:42:56) - [X] export DOCKER_BUILDKIT=1 (2023-06-29 19:43:20) airflow ## éœ€è¦å®‰è£…æ’ä»¶ ## ref: https://docs.docker.com/engine/install/centos/ sudo yum install -y yum-utils sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo sudo yum install docker-buildx-plugin docker-compose-plugin å¦å¤–åœ¨ docker-compose.yaml é…ç½® airflow: hostname: airflow container_name: airflow image: 192.168.1.162:5000/airflow:v1.0 ## ä¸èƒ½ç”¨ previllegedï¼ŒÂ·æ™®é€šç”¨æˆ·ä¹Ÿå¯ä»¥, ä¸ºäº† /var/run/docker.socket privileged: false tty: true volumes: - /var/run/docker.sock:/var/run/docker.sock ## docker-in-docker - /run/buildkit/buildkitd.sock:/run/buildkit/buildkitd.sock ## docker-in-docker - /run/containerd/containerd.sock:/run/containerd/containerd.sock - /usr/bin/docker:/bin/docker ## docker å¯æ‰§è¡Œï¼Œå¦‚æœæœ‰ so ä¹Ÿéœ€è¦ mount - ~:/mnt - /data:/data - /fs:/fs ## /fs in docker-in-docker - /mnt/cephfs:/root/cephfs ## å¯ä»¥åœ¨ docker-in-docker ä½¿ç”¨ cephs - ~/git/jobs/dags:/app/dags ## for dags # - ~/mysql:/var/lib/mysql ## for mysql ports: - \"18080:8080\" ## web command: - /bin/bash - -c - | /usr/sbin/init pull_policy: always restart: always docker buildx export COMPOSE_DOCKER_CLI_BUILD=1 export DOCKER_BUILDKIT=1 DOCKER_BUILDKIT=1 docker build ... ","date":"2023-06-29","objectID":"/2023-06-29-docker-buildx/:0:0","tags":["docker","buildx","airflow"],"title":"docker buildx","uri":"/2023-06-29-docker-buildx/"},{"categories":["tools"],"content":"éœ€è¦åœ¨ ~/.zshrc æ·»åŠ ä»¥ä¸‹é…ç½®ï¼Œç„¶åé‡æ–°æ‰§è¡Œ source ~/.zshrc å³å¯ setopt no_nomatch ","date":"2023-06-26","objectID":"/2023-06-26-zsh-no-match-found-for-/:0:0","tags":["Linux","zsh","source"],"title":"zsh no match found for *","uri":"/2023-06-26-zsh-no-match-found-for-/"},{"categories":["tools"],"content":"é€šè¿‡è®¾ç½® cpu çš„è¿è¡Œæ¨¡å¼ï¼Œå¯ä»¥è°ƒæ•´æœºå™¨æ€§èƒ½ã€‚ ","date":"2023-06-18","objectID":"/2023-06-18-linux-%E8%AE%BE%E7%BD%AE-cpu-%E9%AB%98%E6%80%A7%E8%83%BDperformance%E6%A8%A1%E5%BC%8F/:0:0","tags":["Linux","cpu","performance"],"title":"Linux è®¾ç½® cpu é«˜æ€§èƒ½performanceæ¨¡å¼","uri":"/2023-06-18-linux-%E8%AE%BE%E7%BD%AE-cpu-%E9%AB%98%E6%80%A7%E8%83%BDperformance%E6%A8%A1%E5%BC%8F/"},{"categories":["tools"],"content":" å¸¸ç”¨æ¨¡å¼ ondemandï¼šç³»ç»Ÿé»˜è®¤çš„è¶…é¢‘æ¨¡å¼ï¼ŒæŒ‰éœ€è°ƒèŠ‚ï¼Œå†…æ ¸æä¾›çš„åŠŸèƒ½ï¼Œä¸æ˜¯å¾ˆå¼ºå¤§ï¼Œä½†æœ‰æ•ˆå®ç°äº†åŠ¨æ€é¢‘ç‡è°ƒèŠ‚ï¼Œå¹³æ—¶ä»¥ä½é€Ÿæ–¹å¼è¿è¡Œï¼Œå½“ç³»ç»Ÿè´Ÿè½½æé«˜æ—¶å€™è‡ªåŠ¨æé«˜é¢‘ç‡ã€‚ä»¥è¿™ç§æ¨¡å¼è¿è¡Œä¸ä¼šå› ä¸ºé™é¢‘é€ æˆæ€§èƒ½é™ä½ï¼ŒåŒæ—¶ä¹Ÿèƒ½èŠ‚çº¦ç”µèƒ½å’Œé™ä½æ¸©åº¦ã€‚ä¸€èˆ¬å®˜æ–¹å†…æ ¸é»˜è®¤çš„æ–¹å¼éƒ½æ˜¯ ondemandã€‚ interactiveï¼šäº¤äº’æ¨¡å¼ï¼Œç›´æ¥ä¸Šæœ€é«˜é¢‘ç‡ï¼Œç„¶åçœ‹ CPU è´Ÿè·æ…¢æ…¢é™ä½ï¼Œæ¯”è¾ƒè€—ç”µã€‚Interactive æ˜¯ä»¥ CPU æ’ç¨‹æ•°é‡è€Œè°ƒæ•´é¢‘ç‡ï¼Œä»è€Œå®ç°çœç”µã€‚InteractiveX æ˜¯ä»¥ CPU è´Ÿè½½æ¥è°ƒæ•´ CPU é¢‘ç‡ï¼Œä¸ä¼šè¿‡åº¦æŠŠé¢‘ç‡è°ƒä½ã€‚æ‰€ä»¥æ¯” Interactive ååº”å¥½äº›ï¼Œä½†æ˜¯çœç”µçš„æ•ˆæœä¸€èˆ¬ã€‚ conservativeï¼šä¿å®ˆæ¨¡å¼ï¼Œç±»ä¼¼äº ondemandï¼Œä½†è°ƒæ•´ç›¸å¯¹è¾ƒç¼“ï¼Œæƒ³çœç”µå°±ç”¨ä»–å§ã€‚Google å®˜æ–¹å†…æ ¸ï¼Œkang å†…æ ¸é»˜è®¤æ¨¡å¼ã€‚ smartassï¼šèªæ˜æ¨¡å¼ï¼Œæ˜¯ I å’Œ C æ¨¡å¼çš„å‡çº§ï¼Œè¯¥æ¨¡å¼åœ¨æ¯” interactive æ¨¡å¼ä¸å·®çš„å“åº”çš„å‰æä¸‹ä¼šåšåˆ°äº†æ›´åŠ çœç”µã€‚ performanceï¼šæ€§èƒ½æ¨¡å¼ï¼åªæœ‰æœ€é«˜é¢‘ç‡ï¼Œä»æ¥ä¸è€ƒè™‘æ¶ˆè€—çš„ç”µé‡ï¼Œæ€§èƒ½æ²¡å¾—è¯´ï¼Œä½†æ˜¯è€—ç”µé‡ã€‚ powersave çœç”µæ¨¡å¼ï¼Œé€šå¸¸ä»¥æœ€ä½é¢‘ç‡è¿è¡Œã€‚ userspaceï¼šç”¨æˆ·è‡ªå®šä¹‰æ¨¡å¼ï¼Œç³»ç»Ÿå°†å˜é¢‘ç­–ç•¥çš„å†³ç­–æƒäº¤ç»™äº†ç”¨æˆ·æ€åº”ç”¨ç¨‹åºï¼Œå¹¶æä¾›äº†ç›¸åº”çš„æ¥å£ä¾›ç”¨æˆ·æ€åº”ç”¨ç¨‹åºè°ƒèŠ‚ CPU è¿è¡Œé¢‘ç‡ä½¿ç”¨ã€‚ä¹Ÿå°±æ˜¯é•¿æœŸä»¥æ¥éƒ½åœ¨ç”¨çš„é‚£ä¸ªæ¨¡å¼ã€‚å¯ä»¥é€šè¿‡æ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶è¿›è¡Œé…ç½® Hotplugï¼šç±»ä¼¼äº ondemand, ä½†æ˜¯ cpu ä¼šåœ¨å…³å±ä¸‹å°è¯•å…³æ‰ä¸€ä¸ª cpuï¼Œå¹¶ä¸”å¸¦æœ‰ deep sleepï¼Œæ¯”è¾ƒçœç”µã€‚ ","date":"2023-06-18","objectID":"/2023-06-18-linux-%E8%AE%BE%E7%BD%AE-cpu-%E9%AB%98%E6%80%A7%E8%83%BDperformance%E6%A8%A1%E5%BC%8F/:1:0","tags":["Linux","cpu","performance"],"title":"Linux è®¾ç½® cpu é«˜æ€§èƒ½performanceæ¨¡å¼","uri":"/2023-06-18-linux-%E8%AE%BE%E7%BD%AE-cpu-%E9%AB%98%E6%80%A7%E8%83%BDperformance%E6%A8%A1%E5%BC%8F/"},{"categories":["tools"],"content":" å®‰è£…è½¯ä»¶ sudo apt-get install cpufrequtils sudo apt-get install sysfsutils ## æŸ¥çœ‹ CPU çŠ¶æ€ cpufreq-info ## æŸ¥çœ‹é¢‘ç‡ä¿¡æ¯ cpupower frequency-info ## æŠŠ cpu è°ƒæ•´åˆ°æ€§èƒ½æ¨¡å¼ sudo cpufreq-set -g performance ## é€šè¿‡è®¾ç½®é»˜è®¤æ¨¡å¼ï¼Œé˜²æ­¢é‡å¯åæ¢å¤ sudo vim /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor ## å¡«å†™ performance ## æˆ–è€…å…¨å±€è®¾ç½® sudo vim /etc/default/cpufrequtils GOVERNOR=\"performance\" ## é‡å¯é…ç½®ç”Ÿæ•ˆ systemctl restart cpufrequtils ","date":"2023-06-18","objectID":"/2023-06-18-linux-%E8%AE%BE%E7%BD%AE-cpu-%E9%AB%98%E6%80%A7%E8%83%BDperformance%E6%A8%A1%E5%BC%8F/:2:0","tags":["Linux","cpu","performance"],"title":"Linux è®¾ç½® cpu é«˜æ€§èƒ½performanceæ¨¡å¼","uri":"/2023-06-18-linux-%E8%AE%BE%E7%BD%AE-cpu-%E9%AB%98%E6%80%A7%E8%83%BDperformance%E6%A8%A1%E5%BC%8F/"},{"categories":["tools"],"content":"æœ€è¿‘å…¬å¸ç»™åŸæ¥çš„æœåŠ¡å™¨æ·»åŠ äº†ä¸€å— 8T çš„ DellSAS ç¡¬ç›˜ï¼ŒåŸæ¥å­˜æ”¾æ•°æ®ã€‚ç”±äºLinuxé‡‡ç”¨äº†é€»è¾‘ç¡¬ç›˜LLVMçš„æ–¹å¼æ¥ç»„ç»‡å¤šå—ç¡¬ç›˜ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ä»¥ä¸‹æ­¥éª¤ï¼Œå®ç°æŠŠæ–°è´­ç¡¬ç›˜æ·»åŠ åˆ°ç³»ç»Ÿçš„é€»è¾‘ç¡¬ç›˜ï¼Œå¹¶é€šè¿‡ç£ç›˜æ‰©å®¹ï¼Œå¢åŠ ç›®å½• /data çš„å­˜å‚¨ç©ºé—´ã€‚ æ‰©å±• 8T ç¡¬ç›˜ ## æŸ¥çœ‹å½“å‰å¯ç”¨ç£ç›˜ fdisk -l ## æŸ¥çœ‹ç£ç›˜åˆ†åŒºæƒ…å†µ lsblk ## åŠ å…¥å¯¹äºæ–°ç¡¬ç›˜ /dev/sdb è¿›è¡Œæ“ä½œ sudo parted /dev/sdb ## æŸ¥çœ‹ (parted) print # rm ç”¨äºåˆ é™¤ # (parted) rm 1 (parted) mklabel gpt ## åˆ›å»ºåˆ†åŒº ## åªæœ‰ä¸€å· (parted) mkpart primary xfs 1 -1 ## ä»¥ s ä¸ºå•ä½ (parted) unit s ## æ‰©å±• 100% (parted) mkpart primary ext4 2048s 100% (parted) mkpart primary ext4 0% 100% (parted) align-check optimal 1 ## é€€å‡º quit æ¥ç€ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†åŒº ## å¼€å§‹åˆ†åŒº sudo mkfs.ext4 /dev/sdb1 pvcreate /dev/sdb1 pvdisplay æ–°ç£ç›˜æ·»åŠ åˆ°é€»è¾‘ç›˜ ä¸»è¦å‚è€ƒäº†ç½‘ç«™çš„æ•™ç¨‹ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ ç»™ CentOS 7 æ·»åŠ ç¡¬ç›˜åŠæ‰©å®¹(LVM) ","date":"2023-06-16","objectID":"/2023-06-16-linux--%E6%96%B0%E8%B4%AD%E7%A1%AC%E7%9B%98%E6%89%A9%E5%AE%B9/:0:0","tags":["Linux","fdisk","llvm","parted","ç¡¬ç›˜","ç£ç›˜","åˆ†åŒº","æ‰©å±•"],"title":"Linux: æ–°è´­ç¡¬ç›˜æ‰©å®¹","uri":"/2023-06-16-linux--%E6%96%B0%E8%B4%AD%E7%A1%AC%E7%9B%98%E6%89%A9%E5%AE%B9/"},{"categories":["tools"],"content":" æ·»åŠ ç‰©ç†åˆ†åŒº ## ä½¿ç”¨ fdisk æŸ¥çœ‹æ–°æ·»åŠ çš„ç¡¬ç›˜ä¿¡æ¯ï¼š/dev/sdc: 8T fdisk -l ## å¯¹æ–°ç›˜è¿›è¡Œåˆ†åŒºå¤„ç† fdisk /dev/sdc ## ä¸»è¦ä½¿ç”¨å‘½ä»¤ 1. n: æ·»åŠ æ–°çš„ç‰©ç†åˆ†åŒº 2. p: é€‰æ‹©ä¸»åˆ†åŒºç±»å‹(1-4, å¦‚æœå·²ç»ä½¿ç”¨äº† 1ï¼ˆå¯¹åº” /dev/sdc1ï¼‰ï¼Œå°±é€‰æ‹© 2ï¼Œä»¥æ­¤ç±»æ¨) 3. èµ·å§‹æ‰‡åŒº: é»˜è®¤ 4. Lastæ‰‡åŒº: é»˜è®¤ 5. t: ä¿®æ”¹åˆ†åŒº, é€‰æ‹© 1-4ï¼Œ å¯¹åº” /dev/sdc1-4 6. L: åˆ—å‡ºæ‰€æœ‰çš„åˆ†åŒºID, 8e ä¸º Linux LVM 7. 8e: 8. w: å°†ä¿®æ”¹å†™å…¥ç£ç›˜ ## ä½¿ç”¨ partprobe å‘½ä»¤é‡æ–°è¯»å–åˆ†åŒºè¡¨ partprobe ## æŸ¥çœ‹ä¿®æ”¹åçš„ç»“æœ fdisk -l ","date":"2023-06-16","objectID":"/2023-06-16-linux--%E6%96%B0%E8%B4%AD%E7%A1%AC%E7%9B%98%E6%89%A9%E5%AE%B9/:1:0","tags":["Linux","fdisk","llvm","parted","ç¡¬ç›˜","ç£ç›˜","åˆ†åŒº","æ‰©å±•"],"title":"Linux: æ–°è´­ç¡¬ç›˜æ‰©å®¹","uri":"/2023-06-16-linux--%E6%96%B0%E8%B4%AD%E7%A1%AC%E7%9B%98%E6%89%A9%E5%AE%B9/"},{"categories":["tools"],"content":" æ·»åŠ é€»è¾‘åˆ†åŒº # åˆ›å»ºæ–°ç‰©ç†å·å‰æŸ¥çœ‹ PV pvdisplay # åˆ›å»º PV, å¯¹åº” /dev/sdc1, /dev/sdc2,... pvcreate /dev/sdc1 # å†æ¬¡æŸ¥çœ‹ï¼Œå¯çœ‹åˆ°æ–°çš„ PV pvdisplay # æŸ¥çœ‹å·ç»„ vgdisplay --- Volume group --- VG Name VolGroup ## å¯¹åº”çš„ vg åç§° System ID Format lvm2 Metadata Areas 1 Metadata Sequence No 20 VG Access read/write VG Status resizable MAX LV 0 Cur LV 10 Open LV 9 Max PV 0 Cur PV 1 Act PV 1 VG Size 7.27 TiB PE Size 4.00 MiB Total PE 1907074 Alloc PE / Size 1906176 / 7.27 TiB Free PE / Size 898 / 3.51 GiB VG UUID WZIDPF-5X39-1qac-L9oP-jCQm-C9im-pQBfs4 # å°†æ–°çš„ PV åŠ å…¥ VolGroup ç»„å·ï¼Œä½¿ç”¨ vgdisplay è·å–å¾—åˆ°çš„ `VG Name` vgextend VolGroup /dev/sdc1 vgdisplay ## æŸ¥çœ‹å½“å‰é€»è¾‘ç£ç›˜çš„ç©ºé—´å¤§å° lvdisplay ## æŸ¥çœ‹ç³»ç»Ÿå¯ç”¨ç©ºé—´å¤§å° vgdisplay ç£ç›˜æ‰©å®¹ ## æŸ¥çœ‹æ–‡ä»¶è·¯å¾„å¯¹åº”çš„é€»è¾‘åˆ†å· df Filesystem Size Used Avail Use% Mounted on /dev/mapper/VolGroup-LogVol07 689G 149G 506G 23% / tmpfs 79G 842M 78G 2% /dev/shm /dev/sda1 477M 184M 269M 41% /boot /dev/mapper/VolGroup-LogVol08 5.1T 3.4T 1.5T 71% /data /dev/mapper/VolGroup-LogVol06 1008G 610G 347G 64% /home /dev/mapper/VolGroup-LogVol01 59G 335M 56G 1% /opt /dev/mapper/VolGroup-LogVol02 59G 52M 56G 1% /private /dev/mapper/VolGroup-LogVol03 118G 1.1G 111G 1% /tmp /dev/mapper/VolGroup-LogVol04 355G 15G 322G 5% /usr /dev/mapper/VolGroup-LogVol05 217G 87G 119G 43% /var ## æŸ¥çœ‹ç³»ç»Ÿå¯ç”¨ç©ºé—´å¤§å° vgdisplay ## å¼€å§‹è¿›è¡Œç£ç›˜æ‰©å±•ï¼Œå¢åŠ  500G åˆ° /dev/mapper/VolGroup-LogVol08ï¼ˆä¹Ÿå°±æ˜¯ /dataï¼‰ lvextend -L +500G /dev/mapper/VolGroup-LogVol08 xfs_growfs /dev/mapper/VolGroup-LogVol08 ## CentOS6 ä½¿ç”¨å‘½ä»¤ resize2fs df -h å‚è€ƒé“¾æ¥ linuxæ–°å¢å¤§äº2Tç¡¬ç›˜ï¼Œåˆ†åŒºå¹¶æŒ‚è½½ Linuxç£ç›˜æ‰©å®¹åå¤„ç†ï¼ˆpartedï¼‰ ","date":"2023-06-16","objectID":"/2023-06-16-linux--%E6%96%B0%E8%B4%AD%E7%A1%AC%E7%9B%98%E6%89%A9%E5%AE%B9/:2:0","tags":["Linux","fdisk","llvm","parted","ç¡¬ç›˜","ç£ç›˜","åˆ†åŒº","æ‰©å±•"],"title":"Linux: æ–°è´­ç¡¬ç›˜æ‰©å®¹","uri":"/2023-06-16-linux--%E6%96%B0%E8%B4%AD%E7%A1%AC%E7%9B%98%E6%89%A9%E5%AE%B9/"},{"categories":[],"content":"vim ä½¿ç”¨ä¸­æ–‡è¾“å…¥æ³•ï¼Œä¸­æ–‡è¾“å…¥æ³•ï¼Œä¸­æ–‡ç®—æ³• ","date":"2023-06-09","objectID":"/2023-06-09-vim-%E4%BD%BF%E7%94%A8%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95/:0:0","tags":[],"title":"vim ä½¿ç”¨ä¸­æ–‡è¾“å…¥æ³•","uri":"/2023-06-09-vim-%E4%BD%BF%E7%94%A8%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95/"},{"categories":["tools"],"content":"coc.vim é…ç½®ï¼Œå®ç°è‡ªåŠ¨è·³å‡ºè¡¥å…¨åŠŸèƒ½ã€‚ æ³¨é‡Šæ‰ï¼šsuggest.noselect æ³¨é‡Šæ‰ï¼šsuggest.autoTrigger // ä¸èƒ½è®¾ç½® // \"suggest.noselect\": false, // \"suggest.autoTrigger\": false, // \"suggest.triggerAfterInsertEnter\": true { // Enable preselect feature on neovim, default: `true` \"suggest.enablePreselect\": true, // Add preview option to `completeopt`, default: `false` \"suggest.enablePreview\": true, // completion automatically select the first completed // ä¸èƒ½è®¾ç½® // \"suggest.noselect\": false, // \"suggest.autoTrigger\": false, // \"suggest.triggerAfterInsertEnter\": true \"diagnostic.checkCurrentLine\": true, // min word for trigger preview \"suggest.minTriggerInputLength\": 1, // Target to show hover information, default is floating window when possible. \"coc.preferences.hoverTarget\": \"preview\", // Auto close preview window on cursor move., default: `true` \"coc.preferences.previewAutoClose\": true, // Coc.Prettier --------------------------------------------------------------- \"prettier.singleQuote\": true, \"prettier.trailingComma\": \"all\", \"prettier.bracketSpacing\": false, // Coc.Python ----------------------------------------------------------------- \"python.linting.pylintEnabled\": false, \"python.linting.enabled\": true, \"python.pythonPath\": \"/home/william/anaconda3/bin/python3\", \"pyright.inlayHints.variableTypes\": false, \"python.linting.flake8Enabled\": true, \"python.linting.flake8Args\": [ \"--max-line-length=120\", \"--ignore=E203,E221,E251,E266,E302,E305,E402,W503,F401,F403,F405\" ], // https://github.com/fannheyward/coc-pyright/blob/master/package.json \"python.analysis.diagnosticSeverityOverrides\": { \"reportWildcardImportFromLibrary\": \"none\", \"reportOptionalMemberAccess\": \"none\" } // coc.markdown \"markdownlint.config\": { \"default\": true, \"line_length\": false, \"no-inline-html\": { \"allowed_elements\": [\"pre\"] }, \"ul-indent\": { \"indent\": 4 } }, //coc.clangd \"clangd.path\": \"~/.config/coc/extensions/coc-clangd-data/install/16.0.2/clangd_16.0.2/bin/clangd\" } ","date":"2023-06-08","objectID":"/2023-06-08-coc-settings.json/:0:0","tags":["vim","coc.vim","coc","settings"],"title":"coc settings.json","uri":"/2023-06-08-coc-settings.json/"},{"categories":[],"content":" -w 1860 -h 2480 -dpi 300 -idpi -2 -m 0,0,0,0 -fc -y ","date":"2023-06-07","objectID":"/2023-06-07-kindle-scribe/:0:0","tags":[],"title":"kindle scribe","uri":"/2023-06-07-kindle-scribe/"},{"categories":["tools"],"content":"è§£é”ã€Œæ— é™é˜…è¯»ã€medium æ–°æ–¹å¼ã€‚ ","date":"2023-06-05","objectID":"/2023-06-05-medium-%E7%A5%9E%E5%99%A8/:0:0","tags":["medium","unlimited","chrome"],"title":"medium ç¥å™¨","uri":"/2023-06-05-medium-%E7%A5%9E%E5%99%A8/"},{"categories":["tools"],"content":" bypass-paywalls-chromeè¿™ä¸ªç›®å‰è¿˜èƒ½ç”¨ï¼š bypass-paywalls-chrome ","date":"2023-06-05","objectID":"/2023-06-05-medium-%E7%A5%9E%E5%99%A8/:1:0","tags":["medium","unlimited","chrome"],"title":"medium ç¥å™¨","uri":"/2023-06-05-medium-%E7%A5%9E%E5%99%A8/"},{"categories":["tools"],"content":" Medium unlimitedRef: git ç½‘é¡µ å…·ä½“æ­¥éª¤å¾ˆç®€å•ï¼š ä¸‹è½½å‹ç¼©åŒ… è§£å‹ ä» chrome æ“ä½œ Extension -\u003e Load unpacked -\u003e é€‰æ‹©æ–‡ä»¶ç›®å½• é‡æ–°æ‰“å¼€ chrome å³å¯æ— é™é˜…è¯»ã€‚ ","date":"2023-06-05","objectID":"/2023-06-05-medium-%E7%A5%9E%E5%99%A8/:2:0","tags":["medium","unlimited","chrome"],"title":"medium ç¥å™¨","uri":"/2023-06-05-medium-%E7%A5%9E%E5%99%A8/"},{"categories":["tools"],"content":" Remove Mediumè¿™æ˜¯ä¸€æ¬¾ Chrome æ’ä»¶ Remove Medium.com Overlays ","date":"2023-06-05","objectID":"/2023-06-05-medium-%E7%A5%9E%E5%99%A8/:3:0","tags":["medium","unlimited","chrome"],"title":"medium ç¥å™¨","uri":"/2023-06-05-medium-%E7%A5%9E%E5%99%A8/"},{"categories":["tools"],"content":"é€šè¿‡é…ç½® tmux ä¸ vim çš„ç»„åˆé”®ï¼Œå¯ä»¥ä½¿ç”¨ä¸€å¥—ç»Ÿä¸€çš„å¿«æ·é”®æ¥æ“ä½œäºŒè€…ã€‚ ctrl-j ctrl-k ctrl-h ctrl-l prefix: ctrl-space \u003cprefix\u003e ctrl-l ","date":"2023-05-28","objectID":"/2023-05-28-tmux-vim-%E6%90%AD%E9%85%8D%E9%A3%9F%E7%94%A8%E5%91%B3%E9%81%93%E6%9B%B4%E4%BD%B3/:0:0","tags":["tmux","vim","ctrl"],"title":"tmux vim æ­é…é£Ÿç”¨å‘³é“æ›´ä½³","uri":"/2023-05-28-tmux-vim-%E6%90%AD%E9%85%8D%E9%A3%9F%E7%94%A8%E5%91%B3%E9%81%93%E6%9B%B4%E4%BD%B3/"},{"categories":["tools"],"content":" tmux è®¾ç½® ## vim ~/.tmux.conf ## å®‰è£… vim-tmux-navigator: \u003cprefix\u003e-I set -g @plugin 'christoomey/vim-tmux-navigator' ## è®¾ç½® \u003cprefix\u003e #-- bindkeys --# # prefix key (Ctrl+Space) set -g prefix ^Space unbind ^b bind Space send-prefix ## è®¾ç½®å¿«æ·é”® ## vim-tmux ------------------------------------------------------------------ is_vim=\"ps -o state= -o comm= -t '#{pane_tty}' \\ | grep -iqE '^[^TXZ ]+ +(\\\\S+\\\\/)?g?(view|n?vim?x?)(diff)?$'\" is_fzf=\"ps -o state= -o comm= -t '#{pane_tty}' \\ | grep -iqE '^[^TXZ ]+ +(\\\\S+\\\\/)?fzf$'\" bind -n C-h run \"($is_vim \u0026\u0026 tmux send-keys C-h) || \\ tmux select-pane -L\" bind -n C-j run \"($is_vim \u0026\u0026 tmux send-keys C-j) || \\ ($is_fzf \u0026\u0026 tmux send-keys C-j) || \\ tmux select-pane -D\" bind -n C-k run \"($is_vim \u0026\u0026 tmux send-keys C-k) || \\ ($is_fzf \u0026\u0026 tmux send-keys C-k) || \\ tmux select-pane -U\" bind -n C-l run \"($is_vim \u0026\u0026 tmux send-keys C-l) || \\ tmux select-pane -R\" ## clear terminal Ctr-x bind-key -n C-x if-shell \"$is_vim\" \"send-keys C-l\" \"send-keys C-l\" ## clear terminal \u003cprefix\u003e Ctrl-l bind C-l send-keys 'C-l' bind-key -T copy-mode-vi 'C-h' select-pane -L bind-key -T copy-mode-vi 'C-j' select-pane -D bind-key -T copy-mode-vi 'C-k' select-pane -U bind-key -T copy-mode-vi 'C-l' select-pane -R bind-key -T copy-mode-vi 'C-\\' select-pane -l ","date":"2023-05-28","objectID":"/2023-05-28-tmux-vim-%E6%90%AD%E9%85%8D%E9%A3%9F%E7%94%A8%E5%91%B3%E9%81%93%E6%9B%B4%E4%BD%B3/:1:0","tags":["tmux","vim","ctrl"],"title":"tmux vim æ­é…é£Ÿç”¨å‘³é“æ›´ä½³","uri":"/2023-05-28-tmux-vim-%E6%90%AD%E9%85%8D%E9%A3%9F%E7%94%A8%E5%91%B3%E9%81%93%E6%9B%B4%E4%BD%B3/"},{"categories":["tools"],"content":" vim è®¾ç½® \" vim-tmux ------------------------------------------------------------------- Plug 'christoomey/vim-tmux-navigator' let g:tmux_navigator_no_mappings = 1 noremap \u003csilent\u003e \u003cc-h\u003e :\u003cC-U\u003eTmuxNavigateLeft\u003ccr\u003e noremap \u003csilent\u003e \u003cc-j\u003e :\u003cC-U\u003eTmuxNavigateDown\u003ccr\u003e noremap \u003csilent\u003e \u003cc-k\u003e :\u003cC-U\u003eTmuxNavigateUp\u003ccr\u003e noremap \u003csilent\u003e \u003cc-l\u003e :\u003cC-U\u003eTmuxNavigateRight\u003ccr\u003e ","date":"2023-05-28","objectID":"/2023-05-28-tmux-vim-%E6%90%AD%E9%85%8D%E9%A3%9F%E7%94%A8%E5%91%B3%E9%81%93%E6%9B%B4%E4%BD%B3/:2:0","tags":["tmux","vim","ctrl"],"title":"tmux vim æ­é…é£Ÿç”¨å‘³é“æ›´ä½³","uri":"/2023-05-28-tmux-vim-%E6%90%AD%E9%85%8D%E9%A3%9F%E7%94%A8%E5%91%B3%E9%81%93%E6%9B%B4%E4%BD%B3/"},{"categories":["tools"],"content":"vim8 ä»¥ä¸Šç‰ˆæœ¬æ”¯æŒåœ¨å½“å‰ç¼–è¾‘ç•Œé¢ç›´æ¥æ‰“å¼€ç»ˆç«¯ï¼Œä»¥æ–¹ä¾¿æ‰§è¡Œå‘½ä»¤è¡Œæ“ä½œã€‚ ","date":"2023-05-28","objectID":"/2023-05-28-vim-terminal-%E5%8A%9F%E8%83%BD/:0:0","tags":["vim","terminal"],"title":"vim terminal åŠŸèƒ½","uri":"/2023-05-28-vim-terminal-%E5%8A%9F%E8%83%BD/"},{"categories":["tools"],"content":" åœ¨ vim ä¸­æ‰“å¼€ terminal ## é»˜è®¤ä½äºä¸Šç«¯ :term :below term ## é»˜è®¤ç”±äºå·¦ç«¯ :vertical term :vertical below term ","date":"2023-05-28","objectID":"/2023-05-28-vim-terminal-%E5%8A%9F%E8%83%BD/:1:0","tags":["vim","terminal"],"title":"vim terminal åŠŸèƒ½","uri":"/2023-05-28-vim-terminal-%E5%8A%9F%E8%83%BD/"},{"categories":["tools"],"content":" æ›´å¤šè®¾ç½® tbï¼šterminal below trï¼šterminal right Ctrl-Dï¼šclose terminal \" terminal ------------------------------------------------------------------- function! PutTermPanel(buf, side, size) abort \" new term if no buffer if a:buf == 0 term else execute \"sp\" bufname(a:buf) endif \" default side if wrong argument if stridx(\"hjklHJKL\", a:side) == -1 execute \"wincmd\" \"J\" else execute \"wincmd\" a:side endif \" horizontal split resize if stridx(\"jkJK\", a:side) \u003e= 0 if ! a:size \u003e 0 resize 6 else execute \"resize\" a:size endif return endif \" vertical split resize if stridx(\"hlHL\", a:side) \u003e= 0 if ! a:size \u003e 0 vertical resize 6 else execute \"vertical resize\" a:size endif endif endfunction function! s:ToggleTerminal(side, size) abort let tpbl=[] let closed = 0 let tpbl = tabpagebuflist() \" hide visible terminals for buf in filter(range(1, bufnr('$')), 'bufexists(bufname(v:val)) \u0026\u0026 index(tpbl, v:val)\u003e=0') if getbufvar(buf, '\u0026buftype') ==? 'terminal' silent execute bufwinnr(buf) . \"hide\" let closed += 1 endif endfor if closed \u003e 0 return endif \" open first hidden terminal for buf in filter(range(1, bufnr('$')), 'bufexists(v:val) \u0026\u0026 index(tpbl, v:val)\u003c0') if getbufvar(buf, '\u0026buftype') ==? 'terminal' call PutTermPanel(buf, a:side, a:size) return endif endfor \" open new terminal call PutTermPanel(0, a:side, a:size) endfunction \" Toggle terminal - bottom nnoremap \u003csilent\u003e tb :call \u003cSID\u003eToggleTerminal('J', 10)\u003cCR\u003e \" Toggle terminal - right nnoremap \u003csilent\u003e tr :call \u003cSID\u003eToggleTerminal('L', 120)\u003cCR\u003e \" close terminal: Ctrl-D ","date":"2023-05-28","objectID":"/2023-05-28-vim-terminal-%E5%8A%9F%E8%83%BD/:2:0","tags":["vim","terminal"],"title":"vim terminal åŠŸèƒ½","uri":"/2023-05-28-vim-terminal-%E5%8A%9F%E8%83%BD/"},{"categories":["tools"],"content":"æœ€è¿‘åœ¨æ•´åˆ tmux-vim çš„å¼€å‘ç¯å¢ƒï¼Œå‡†å¤‡æŠŠä¹‹å‰çš„ prefix ä» ctrl-k æ›´æ”¹ä¸º ctrl-iï¼Œç»“æœå‘ç°æ— æ³•å®Œæˆå‘½ä»¤è¡Œçš„è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ã€‚åœ¨ç½‘ä¸ŠæŸ¥äº†ä¸€ä¸‹ï¼ŒåŸæ¥æ˜¯å› ä¸ºç³»ç»ŸæŠŠ ctrl-i ä¸ TAB é”®éƒ½å½“åšä¸€ä¸ªæ“ä½œæŒ‡ä»¤äº†ï¼Œä»è€Œå¯¼è‡´æŒ‰ä¸‹ TAB çš„æ—¶å€™ï¼Œå®é™…ä¸Šæ˜¯æ‰§è¡Œ ctrl-iï¼Œå¦‚æœå¤šæ¬¡æ•²å‡»ï¼Œåˆ™ä¼šäº§ç”Ÿä¸¤æ¡æŒ‡ä»¤ï¼šctr-i ctri-iï¼Œè¿™ä¸ªæ°å¥½äº†æ˜¾ç¤º tmux çš„ sidebar åŠŸèƒ½ï¼Œåè€Œä¸æ˜¯å®Œæˆè‡ªåŠ¨è¡¥å…¨äº†ã€‚ å…·ä½“çš„å¯ä»¥å‚è€ƒè¿™ä¸ª StackOverflow çš„å›ç­”ï¼ŒTab issues with Vim while running Tmux: I havenâ€™t really configured anything in tmux besides remapping C-b to C-i. set -g prefix C-i unbind C-b bind C-i send-prefix While Tab and the Control-i are usually distinguished in GUI environment, they generate the same character in tty-based environments like terminal emulators. That character is U+0009, which is the Tab control character. It is represented as the single byte 0x09 in ASCII, UTF-8 and many other encodings. All of the â€œC0 control codesâ€ (ASCII 0-31) have keyboard equivalents that combine the Control key with another key (mostly letters, but also some symbols). The Tab control character is generated by Control-i. You can verify that (at least) tmux considers C-i and Tab to be the same by looking at the output of tmux show-options -g | grep prefix. You will see it has set your prefix to the key named Tab, even though you specified it as C-i in your configuration. You can also notice the same canonicalization in the output of tmux list-keys | grep prefix. You may want to pick a different prefix if you do not want to type Tab twice when you want to send one to programs running inside tmux. ","date":"2023-05-28","objectID":"/2023-05-28-tmux-tab-%E4%B8%8E-ctr-i-%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%86%B2%E7%AA%81/:0:0","tags":["tmux","tab","prefix"],"title":"tmux tab ä¸ ctr i å¿«æ·é”®å†²çª","uri":"/2023-05-28-tmux-tab-%E4%B8%8E-ctr-i-%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%86%B2%E7%AA%81/"},{"categories":["tools"],"content":"ä¸ºäº†æ”¯æŒ markdown çš„ç›¸å…³åŠŸèƒ½ å¯ä»¥æŒ‰ç…§æ ‡é¢˜çº§åˆ«è¿›è¡ŒæŠ˜å  æ”¯æŒé«˜äº®ä»£ç å— æ–‡æœ¬è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ å®æ—¶é¢„è§ˆåŠŸèƒ½ ","date":"2023-05-28","objectID":"/2023-05-28-vim-markdown-%E9%85%8D%E7%BD%AE/:0:0","tags":["vim","markdown","highlight","python","R","c++","cpp"],"title":"vim markdown é…ç½®","uri":"/2023-05-28-vim-markdown-%E9%85%8D%E7%BD%AE/"},{"categories":["tools"],"content":" coc-markdownlint","date":"2023-05-28","objectID":"/2023-05-28-vim-markdown-%E9%85%8D%E7%BD%AE/:1:0","tags":["vim","markdown","highlight","python","R","c++","cpp"],"title":"vim markdown é…ç½®","uri":"/2023-05-28-vim-markdown-%E9%85%8D%E7%BD%AE/"},{"categories":["tools"],"content":" æ·»åŠ æ’ä»¶ï¼Œå®ç°è¯­æ³•è‡ªåŠ¨æ£€æŸ¥ \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \"\" Coc \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \"\" extensions let g:coc_global_extensions = ['coc-tsserver', 'coc-json', 'coc-yaml', \\ 'coc-clangd', 'coc-pyright', 'coc-jedi', \\ 'coc-html', 'coc-css', 'coc-xml', \\ 'coc-emmet', 'coc-snippets', \\ 'coc-markdownlint', 'coc-highlight'] ","date":"2023-05-28","objectID":"/2023-05-28-vim-markdown-%E9%85%8D%E7%BD%AE/:1:1","tags":["vim","markdown","highlight","python","R","c++","cpp"],"title":"vim markdown é…ç½®","uri":"/2023-05-28-vim-markdown-%E9%85%8D%E7%BD%AE/"},{"categories":["tools"],"content":" è‡ªå®šä¹‰éƒ¨åˆ†åŠŸèƒ½åœ¨ vim æ‰§è¡Œå‘½ä»¤ :CocConfig è·³å‡º coc-settings.jsonã€‚å…·ä½“çš„æ£€æŸ¥è§„åˆ™å¯ä»¥å‚è€ƒé»˜è®¤é…ç½®æ–‡ä»¶ï¼šcoc-markdownlint/schemas/markdownlint-config-schema.jsonï¼Œæ‰¾åˆ°è¿™ä¸ªè§„åˆ™ \"default\": true, \"properties\": { \"line_length\": { \"description\": \"Number of characters\", \"type\": \"integer\", \"minimum\": 1, \"default\": 80 }, å»æ‰æ®µè½é•¿åº¦çš„æ£€æŸ¥ã€‚é€šå¸¸æˆ‘ä»¬å†™ markdown ä¸å¯èƒ½æŠŠæ¯ä¸€è¡Œé™åˆ¶åœ¨ 80 ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå› æ­¤éœ€è¦å°†æ”¹æ£€æŸ¥åŠŸèƒ½å…³é—­ã€‚ // coc.markdown \"markdownlint.config\": { \"default\": true, \"line_length\": false, \"no-inline-html\": { \"allowed_elements\": [\"pre\"] }, \"ul-indent\": { \"indent\": 4 } }, ","date":"2023-05-28","objectID":"/2023-05-28-vim-markdown-%E9%85%8D%E7%BD%AE/:1:2","tags":["vim","markdown","highlight","python","R","c++","cpp"],"title":"vim markdown é…ç½®","uri":"/2023-05-28-vim-markdown-%E9%85%8D%E7%BD%AE/"},{"categories":["tools"],"content":" æ ‡é¢˜æŠ˜å æŒ‰ç…§æ ‡é¢˜ä¸åŒçš„çº§åˆ«è¿›è¡ŒæŠ˜å ï¼Œæœ‰åŠ©äºæ›´åŠ æ¸…æ™°çš„æŠŠæ¡æ–‡ç« çš„æ¡†æ¶ã€‚è¿™é‡Œæˆ‘æ¯”è¾ƒæ¨è vim-minimdï¼Œå¯ä»¥å®ç° Space: Fold or unfold the current header. n-Space: Fold all headers of level n. Tab or ]h Jump to next header. Shift-Tab Jump to previous header. å…·ä½“çš„æŒ‡ä»¤å¦‚ä¸‹ï¼š nmap :MiniMDToggleFold nmap :MiniMDNext nmap :MiniMDPrev nmap ]h :MiniMDNext nmap [h :MiniMDPrev nnoremap = :MiniMDPromote nnoremap - :MiniMDDemote nmap :MiniMDTaskToggle vmap :MiniMDTaskToggle åŒæ—¶ï¼Œä¸ºäº†å¯ä»¥åˆ©ç”¨åŸæ¥çš„ markdown è¯­æ³•è¿›è¡Œé«˜äº®ï¼Œå¯ä»¥è®¾ç½® let g:default_markdown_syntax = 1ã€‚è¿™ä¸ªéœ€è¦é…åˆæ’ä»¶ tpope/vim-markdown \" markdown -------------------------------------------------------------------- Plug 'godlygeek/tabular' \" è¿™ä¸ªæ˜¾ç¤ºæœ‰ç‚¹é—®é¢˜ \" Plug 'preservim/vim-markdown' \" ç”¨è¿™ä¸ªå¯ä»¥é«˜äº®è¯­æ³• Plug 'tpope/vim-markdown' let g:vim_markdown_folding_disabled=1 \" è¿™é‡Œé¢æœ‰éƒ¨åˆ†æ˜¯ä¸æ”¯æŒçš„ \" let g:markdown_fenced_languages = ['bash=sh', 'css', 'django', 'handlebars', \" \\ 'javascript', 'js=javascript', 'json=javascript', 'perl', 'php', \" \\ 'python', 'ruby', 'sass', 'xml', 'html', 'c++=cpp'] let g:markdown_fenced_languages = ['bash=sh', 'python', 'ruby', 'c++=cpp', \\ 'xml', 'html', 'css', 'ruby', 'r', 'vim', \\ 'javascript', 'js=javascript', 'json=javascript', 'perl', 'php'] let g:vim_markdown_math = 1 let g:vim_markdown_toc_autofit = 1 let g:markdown_syntax_conceal = 1 \" æ”¯æŒæŒ‰ç…§åŸæ¥çš„ markdown è¯­æ³•è¿›è¡Œé«˜äº® let g:default_markdown_syntax = 1 Plug 'shushcat/vim-minimd' \" Space Fold or unfold the current header. \" nSpace Fold all headers of level n. ","date":"2023-05-28","objectID":"/2023-05-28-vim-markdown-%E9%85%8D%E7%BD%AE/:2:0","tags":["vim","markdown","highlight","python","R","c++","cpp"],"title":"vim markdown é…ç½®","uri":"/2023-05-28-vim-markdown-%E9%85%8D%E7%BD%AE/"},{"categories":["tools"],"content":" è‡ªåŠ¨è¡¥å…¨é€šè¿‡è¯†åˆ« tmux é¡µé¢çš„æ–‡æœ¬ï¼Œè¿›è¡Œè‡ªåŠ¨è¡¥å…¨ã€‚ Plug 'prabirshrestha/async.vim' Plug 'prabirshrestha/asyncomplete.vim' Plug 'wellle/tmux-complete.vim' let g:tmuxcomplete#asyncomplete_source_options = { \\ 'name': 'tmuxcomplete', \\ 'whitelist': ['*'], \\ 'config': { \\ 'splitmode': 'words', \\ 'filter_prefix': 1, \\ 'show_incomplete': 1, \\ 'sort_candidates': 0, \\ 'scrollback': 0, \\ 'truncate': 0 \\ } \\ } let g:tmuxcomplete#trigger = 'omnifunc' imap \u003cc-space\u003e \u003cPlug\u003e(asyncomplete_force_refresh) inoremap \u003cexpr\u003e \u003cCR\u003e pumvisible() ? asyncomplete#close_popup() . \"\\\u003cCR\u003e\" : \"\\\u003cCR\u003e\" ","date":"2023-05-28","objectID":"/2023-05-28-vim-markdown-%E9%85%8D%E7%BD%AE/:3:0","tags":["vim","markdown","highlight","python","R","c++","cpp"],"title":"vim markdown é…ç½®","uri":"/2023-05-28-vim-markdown-%E9%85%8D%E7%BD%AE/"},{"categories":["tools"],"content":" æ›´åŠ ä¸“æ³¨çš„å†™ä½œç°åœ¨èƒ½çœŸæ­£é™ä¸‹å¿ƒæ¥ã€å®Œæ•´è€Œä¸¥ç¦çš„å†™ä½œæ—¶é—´ï¼Œå…¶å®æ˜¯éå¸¸çè´µçš„ã€‚ä¸€æ–¹é¢æ˜¯ç”±äºå¤–éƒ¨çš„å¹²æ‰°å› ç´ å¤ªå¤šï¼Œæ— æ³•ç»™ä»¥å†™ä½œè¶³å¤Ÿçš„ç©ºé—´å’Œæ—¶é—´ï¼›å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬å†…å¿ƒä¹Ÿå˜å¾—æµ®èºï¼Œéš¾ä»¥é™å¿ƒè¿›è¡Œæ·±åº¦æ€è€ƒã€‚ è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½åœ¨å·¥å…·ä¸Šï¼Œå¯¹è¿™äº›å¹²æ‰°å› ç´ è¿›è¡Œé™åˆ¶ï¼ŒæœŸå¾…èƒ½è¥é€ ä¸€ä¸ªè‰¯å¥½çš„å†™ä½œæ°›å›´ï¼ˆå¸Œæœ›å¦‚æ­¤ï¼‰ã€‚ goyo è¿™ä¸ªå°±æ˜¯ä¸ºäº†æ­¤ç›®çš„è€Œç”Ÿçš„ï¼Œå¯ä»¥è®©æˆ‘ä»¬åœ¨å†™ä½œæ—¶ï¼Œåªéœ€è¦é¢å¯¹ä¸€ä¸ªå±å¹•ï¼Œä¸ç”¨åœ¨æ„å‘¨é­ç¯å¢ƒã€‚ è¿›å…¥æ¨¡å¼ï¼š\u003cLeader\u003egy é€€å‡ºæ¨¡å¼ï¼š\u003cLeader\u003egy Plug 'junegunn/limelight.vim' Plug 'junegunn/goyo.vim' function! s:goyo_enter() if executable('tmux') \u0026\u0026 strlen($TMUX) silent !tmux set status off silent !tmux list-panes -F '\\#F' | grep -q Z || tmux resize-pane -Z endif set noshowmode set noshowcmd set scrolloff=999 Limelight \" ... endfunction function! s:goyo_leave() if executable('tmux') \u0026\u0026 strlen($TMUX) silent !tmux set status on silent !tmux list-panes -F '\\#F' | grep -q Z \u0026\u0026 tmux resize-pane -Z endif set showmode set showcmd set scrolloff=5 Limelight! \" ... endfunction \" è¿›å…¥goyoæ¨¡å¼åè‡ªåŠ¨è§¦å‘limelightï¼Œé€€å‡ºåˆ™å…³é—­ autocmd! User GoyoEnter nested call \u003cSID\u003egoyo_enter() \"è¿›å…¥goyoæ¨¡å¼åè‡ªåŠ¨è§¦å‘limelight,é€€å‡ºååˆ™å…³é—­ autocmd! User GoyoLeave nested call \u003cSID\u003egoyo_leave() \"Goyo \" Color name (:help cterm-colors) or ANSI code let g:limelight_conceal_ctermfg = 'Gray' let g:limelight_conceal_ctermfg = 240 \" Color name (:help gui-colors) or RGB color let g:limelight_conceal_guifg = 'DarkGray' let g:limelight_conceal_guifg = '#777777' \" åŒ…å«çš„å‰åæ®µçš„æ•°é‡ let g:limelight_paragraph_span = 2 \" Set it to -1 not to overrule hlsearch let g:limelight_priority = -1 \" Goyoé…ç½® let g:goyo_width = 80 let g:goyo_height = 90 let g:goyo_linenr = 0 \" limelighté”®ç›˜æ˜ å°„ nmap \u003cLeader\u003egy :Goyo\u003cCR\u003e ","date":"2023-05-28","objectID":"/2023-05-28-vim-markdown-%E9%85%8D%E7%BD%AE/:4:0","tags":["vim","markdown","highlight","python","R","c++","cpp"],"title":"vim markdown é…ç½®","uri":"/2023-05-28-vim-markdown-%E9%85%8D%E7%BD%AE/"},{"categories":["tools"],"content":" markdown-previewvim æ”¯æŒå¯¹ markdown æ–‡æ¡£æ‰§è¡Œå®æ—¶çš„æ¸²æŸ“ï¼Œå¹¶é€šè¿‡æµè§ˆå™¨æ‰“å¼€ã€‚åŒæ—¶ï¼Œåœ¨é¡µé¢æµè§ˆå™¨æ¨¡å¼ä¸­ï¼Œé¡µé¢ä¼šéšç€å½“å‰å…‰æ ‡è‡ªåŠ¨éšè¡Œç§»åŠ¨ï¼Œéå¸¸ä¾¿æ·ã€‚ å®‰è£…æ’ä»¶ Plug 'iamcco/markdown-preview.nvim' åœ¨ vim æ‰§è¡Œå‘½ä»¤ :PlugInstall :call mkdp#util#install() è®¾ç½® æ˜¾ç¤ºç½‘é¡µåœ°å€ï¼Œå¯ä»¥åœ¨ç»ˆç«¯ç›´æ¥æ‰“å¼€ï¼Œè¿™ä¸ªæœ‰åŠ©äºè¿œç¨‹æ–‡æœ¬åœ¨æœ¬åœ°æ‰“å¼€ï¼š let g:mkdp_echo_preview_url = 1 è®¾ç½®ç½‘é¡µåœ°å€ï¼Œé»˜è®¤æ˜¯æœ¬åœ°åœ°å€ï¼šlet g:mkdp_echo_preview_url = 1 è®¾ç½®è®¿é—®ç«¯å£ï¼Œé»˜è®¤æ˜¯éšæœºï¼Œæˆ‘ä»¬å¯ä»¥æŠŠç«¯å£å›ºå®šä¸‹æ¥ï¼Œæ–¹ä¾¿æ‰“å¼€é¡µé¢ï¼šlet g:mkdp_port = '1111' è®¾ç½®é¡µé¢ä¸»é¢˜é¢œè‰²ï¼Œä¸€èˆ¬æ˜¯é»‘è‰²æ¨¡å¼ï¼šlet g:mkdp_theme = 'dark' é»˜è®¤æ‰“å¼€ç½‘é¡µï¼šlet g:mkdp_browser = '/usr/bin/firefox' ä½¿ç”¨ å¼€å¯Mardowné¢„è§ˆ :MarkdownPreview å…³é—­Mardowné¢„è§ˆ :MarkdownPreviewStop \" example ------------------------- nmap \u003cLeader\u003emp \u003cPlug\u003eMarkdownPreview nmap \u003cLeader\u003ems \u003cPlug\u003eMarkdownPreviewStop nmap \u003cLeader\u003emt \u003cPlug\u003eMarkdownPreviewToggle `` \" markdown-preview Plug 'iamcco/markdown-preview.nvim', { 'do': 'cd app \u0026\u0026 yarn install' } \" set to 1, nvim will open the preview window after entering the markdown buffer \" default: 0 let g:mkdp_auto_start = 0 \" set to 1, the nvim will auto close current preview window when change \" from markdown buffer to another buffer \" default: 1 let g:mkdp_auto_close = 1 \" set to 1, the vim will refresh markdown when save the buffer or \" leave from insert mode, default 0 is auto refresh markdown as you edit or \" move the cursor \" default: 0 let g:mkdp_refresh_slow = 0 \" set to 1, the MarkdownPreview command can be use for all files, \" by default it can be use in markdown file \" default: 0 let g:mkdp_command_for_global = 0 \" set to 1, preview server available to others in your network \" by default, the server listens on localhost (127.0.0.1) \" default: 0 let g:mkdp_open_to_the_world = 1 \" use custom IP to open preview page \" useful when you work in remote vim and preview on local browser \" more detail see: https://github.com/iamcco/markdown-preview.nvim/pull/9 \" default empty let g:mkdp_open_ip = '' \" specify browser to open preview page \" for path with space \" valid: `/path/with\\ space/xxx` \" invalid: `/path/with\\\\ space/xxx` \" default: '' let g:mkdp_browser = '/usr/bin/firefox' \" set to 1, echo preview page url in command line when open preview page \" default is 0 let g:mkdp_echo_preview_url = 1 \" a custom vim function name to open preview page \" this function will receive url as param \" default is empty let g:mkdp_browserfunc = '' function OpenMarkdownPreview (url) execute \"silent ! firefox --new-window \" . a:url endfunction let g:mkdp_browserfunc = 'OpenMarkdownPreview' \" options for markdown render \" mkit: markdown-it options for render \" katex: katex options for math \" uml: markdown-it-plantuml options \" maid: mermaid options \" disable_sync_scroll: if disable sync scroll, default 0 \" sync_scroll_type: 'middle', 'top' or 'relative', default value is 'middle' \" middle: mean the cursor position alway show at the middle of the preview page \" top: mean the vim top viewport alway show at the top of the preview page \" relative: mean the cursor position alway show at the relative positon of the preview page \" hide_yaml_meta: if hide yaml metadata, default is 1 \" sequence_diagrams: js-sequence-diagrams options \" content_editable: if enable content editable for preview page, default: v:false \" disable_filename: if disable filename header for preview page, default: 0 let g:mkdp_preview_options = { \\ 'mkit': {}, \\ 'katex': {}, \\ 'uml': {}, \\ 'maid': {}, \\ 'disable_sync_scroll': 0, \\ 'sync_scroll_type': 'middle', \\ 'hide_yaml_meta': 1, \\ 'sequence_diagrams': {}, \\ 'flowchart_diagrams': {}, \\ 'content_editable': v:false, \\ 'disable_filename': 0, \\ 'toc': {} \\ } \" use a custom markdown style must be absolute path \" like '/Users/username/markdown.css' or expand('~/markdown.css') let g:mkdp_markdown_css = '' \" use a custom highlight style must absolute path \" like '/Users/username/highlight.css' or expand('~/highlight.css') let g:mkdp_highlight_css = '' \" use a custom port to start server or empty for random let g:mkdp_port = '1111' \" preview page title \" ${name} will be replace with the file name let g:mkdp_page_title = 'ã€Œ${name}ã€' \" recognized filetypes \" these filetypes will have MarkdownPr","date":"2023-05-28","objectID":"/2023-05-28-vim-markdown-%E9%85%8D%E7%BD%AE/:5:0","tags":["vim","markdown","highlight","python","R","c++","cpp"],"title":"vim markdown é…ç½®","uri":"/2023-05-28-vim-markdown-%E9%85%8D%E7%BD%AE/"},{"categories":["toolsj"],"content":"é€šè¿‡ Ctrl-f æŸ¥æ‰¾å¹¶ä»¥ vim æ‰“å¼€ç›®æ ‡æ–‡ä»¶ ## åœ¨ ~/.zshrc ## fzf : Ctr-f ------------------------------------------------- # .zshrc example function __fsel_files() { setopt localoptions pipefail no_aliases 2\u003e /dev/null eval find ./ -type f -print | fzf -m \"$@\" | while read item; do echo -n \"${(q)item} \" done local ret=$? echo return $ret } function fzf-vim { selected=$(__fsel_files) if [[ -z \"$selected\" ]]; then zle redisplay return 0 fi zle push-line # Clear buffer BUFFER=\"vim $selected\"; zle accept-line } zle -N fzf-vim bindkey \"^f\" fzf-vim ","date":"2023-05-27","objectID":"/2023-05-27-vim-fzf-%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6/:0:0","tags":["vim","fzf","zsh"],"title":"vim fzf æ‰“å¼€æ–‡ä»¶","uri":"/2023-05-27-vim-fzf-%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6/"},{"categories":["tools"],"content":"ç”±äºå…¬å¸æœ‰ä¸€å°æœºå™¨R7çš„ç³»ç»Ÿç‰ˆæœ¬è¾ƒä½ï¼Œåªæœ‰glibc-2.17ï¼Œè€Œä¸”æ— æ³•å‡çº§ï¼ˆä¸ºäº†å…¼å®¹çš„é—®é¢˜ï¼‰ã€‚ä¸ºäº†å¯ä»¥è®© coc.vim å¯ä»¥ä½¿ç”¨ clangd è¿›è¡Œä»£ç è¡¥å…¨ï¼Œéœ€è¦æ‰¾å¯¹ä¸è¿™ä¸ªç‰ˆæœ¬ glibc-2.17 ç›¸å¯¹åº”çš„ clangdã€‚ CentOS7 ä¸ Ubuntu16.04 ä½¿ç”¨è¿™ä¸ªç‰ˆæœ¬ clang++llvm-13.0.0-x86_64-linux-gnu-ubuntu-16.04 ## https://github.com/llvm/llvm-project/releases/tag/llvmorg-13.0.0 wget https://github.com/llvm/llvm-project/releases/download/llvmorg-13.0.0/clang+llvm-13.0.0-x86_64-linux-gnu-ubuntu-16.04.tar.xz ","date":"2023-05-27","objectID":"/2023-05-27-glibc-2.17-%E4%B8%8E-clangd/:0:0","tags":["glibc","clangd","clang","llvm","ubuntu-16.04"],"title":"glibc 2.17 ä¸ clangd","uri":"/2023-05-27-glibc-2.17-%E4%B8%8E-clangd/"},{"categories":["tools"],"content":"é‡åˆ°ä¸€ä¸ªå¥‡æ€ªçš„ç°è±¡ï¼Œå¯¹äº vim 9 çš„é…è‰²æ–¹æ¡ˆ color-schemeï¼Œæˆ‘åœ¨æ™®é€šçš„ç»ˆç«¯æ˜¯å¯ä»¥æ˜¾ç¤ºä¸»é¢˜é…ç½®ã€‚ä½†æ˜¯ä¸€æ—¦é€šè¿‡ tmux å¯åŠ¨ï¼Œåˆ™ä¼šå¤±æ•ˆã€‚æŸ¥æ‰¾åŸå› ï¼Œå‘ç°æ˜¯ tmux æ²¡æœ‰ä½¿ç”¨é…ç½®æ–¹æ¡ˆï¼Œå¯¼è‡´è¿™ä¸ªé—®é¢˜å‡ºç°ã€‚ ä¿®æ”¹ ~/.tmux.conf set -g default-terminal \"xterm-256color\" åŒæ—¶ï¼Œè¿˜æ˜¯æ— æ³•æ˜¾ç¤ºï¼Œè¿™éœ€è¦ä½¿ç”¨å‚æ•° tmux -2 ## æˆ–è€…å¯ä»¥å†™ä¸€ä¸ª alias alias tnew='tmux -2 -u new -s' è¿™ä¸ªå‘½ä»¤çš„ä½œç”¨åœ¨äº -2 Force tmux to assume the terminal supports 256 colours. This is equivalent to -T 256. æˆ‘å†™äº†ä¸€ä¸ªå°è„šæœ¬ rsyncx.to.colo.sh #!/bin/bash if [ $# != 1 ] then echo \"usage: rsyncx.to.colo.sh \u003ccololid\u003e\" exit 1 fi ## ----------------------- colo=$1 echo \"sending to $colo\" ## ----------------------- rsync -Parzvl ./.vim $colo:~/ rsync -Parzvl ./vim9 $colo:~/ ## tmux ä¼šå¼•å‘ vim color scheme é”™è¯¯ ## https://stackoverflow.com/questions/10158508/lose-vim-colorscheme-in-tmux-mode ssh $colo \"egrep '.*default-terminal.*xterm-256color.*' ~/.tmux.conf || echo -e 'set -g default-terminal \\\"xterm-256color\\\"' \u003e\u003e ~/.tmux.conf\" ","date":"2023-05-27","objectID":"/2023-05-27-tmux-%E5%AF%BC%E8%87%B4-vim-color-scheme-%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E7%9A%84%E9%97%AE%E9%A2%98/:0:0","tags":["tmux","vim","color","terminal"],"title":"tmux å¯¼è‡´ vim color scheme æ— æ³•æ˜¾ç¤ºçš„é—®é¢˜","uri":"/2023-05-27-tmux-%E5%AF%BC%E8%87%B4-vim-color-scheme-%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E7%9A%84%E9%97%AE%E9%A2%98/"},{"categories":["tools"],"content":"åœ¨é…ç½® vim9 çš„æ—¶å€™ï¼Œå‘ç°æ— æ³•åŒæ­¥å¸¦æœ‰ https çš„é¡¹ç›®ï¼Œè¿™æ—¶å€™éœ€è¦é…ç½® git config --global http.sslverify false ","date":"2023-05-27","objectID":"/2023-05-27-git-%E6%97%A0%E6%B3%95%E8%BF%9E%E6%8E%A5-https-%E7%9A%84%E8%A7%A3%E5%86%B3/:0:0","tags":["git","https"],"title":"git æ— æ³•è¿æ¥ https çš„è§£å†³","uri":"/2023-05-27-git-%E6%97%A0%E6%B3%95%E8%BF%9E%E6%8E%A5-https-%E7%9A%84%E8%A7%A3%E5%86%B3/"},{"categories":["tools"],"content":"å®‰è£… vim9ï¼Œå¹¶ä½¿ç”¨ coc.vim å®ç°ä»£ç è¡¥å…¨ã€‚æˆ‘æŠŠå¸¸ç”¨çš„ä¸€äº›æ’ä»¶ä¹Ÿæ”¾åœ¨è¿™é‡Œï¼Œæ–¹ä¾¿å¤§å®¶å‚è€ƒã€‚ ","date":"2023-05-26","objectID":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/:0:0","tags":["vim","vim9","coc.vim","gcc","python","IDE"],"title":"vim9 å®‰è£…ä¸é…ç½®coc.vim","uri":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/"},{"categories":["tools"],"content":" å®‰è£…æ³¨æ„äº‹é¡¹å®‰è£… vim9 é‡åˆ°äº†ä¸€äº›å‘ï¼Œè¿™é‡Œå…ˆè¯´ä¸€ä¸‹ï¼š ä¸ä¸€å®šéœ€è¦æœ€æ–°ç‰ˆæœ¬çš„ python3ã€‚æˆ‘åŸæ¥ä¸ºäº†å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ python3.11ï¼Œè€Œå»å‡çº§ glibc-2.28 ä»¥ä¸Šç‰ˆæœ¬ã€‚ä½†æ˜¯å‘¢ï¼Œå…¶å®è¿™ä¸ªç³»ç»Ÿ(Centos7.6)å†…æ ¸åªæ”¯æŒåˆ° glibc-2.18ï¼Œå‡çº§åˆ°è¿™ä¸ªç‰ˆæœ¬ä»¥ä¸Šçš„è¯ï¼Œä¼šå¯¼è‡´å…¶ä»–çš„å¯æ‰§è¡Œç¨‹åºå‡ºç°é—®é¢˜ï¼Œæ¯”å¦‚ ls: relocation error: /home/ops/vim9/local/lib/libc.so.6: symbol __tunable_get_val, version glibc_private not defined in file ld-linux-x86-64.so.2 with link time reference è¿™æ˜¯å› ä¸ºç³»ç»Ÿä¸ glibc æœ‰éå¸¸ä¸¥æ ¼çš„ç‰ˆæœ¬å…³ç³»ï¼Œåœ¨ä¸åŒçš„ glibc ç‰ˆæœ¬ç¼–è¯‘å‡ºæ¥çš„å¯æ‰§è¡Œï¼Œå¾€å¾€å†…å­˜ç©ºé—´æ˜¯ä¸ä¸€æ ·çš„ã€‚ä¸¥é‡çš„æ—¶å€™ï¼Œç”šè‡³ä¼šå¼•èµ· segment fault çš„é”™è¯¯ã€‚è¿™ç¯‡ Stack OverFlow çš„é—®ç­”çœŸæ˜¯è§£é‡Šäº†è¿™ä¸ªé—®é¢˜ï¼Œå¹¶ä¸”æåŠ›ä¸æ¨èéšæ„å‡çº§ glibcï¼Œå°¤å…¶æ˜¯ç³»ç»Ÿå±‚é¢çš„ç¯å¢ƒè·¯å¾„ï¼šsafely upgrade glibc on CentOS 7 ä¸Šé¢è¯´é“ä¸éœ€è¦æœ€æ–°ç‰ˆæœ¬çš„ python3ï¼Œé‚£ç›®å‰æˆ‘å°è¯•è¿‡å¯ç”¨çš„ç‰ˆæœ¬ï¼Œå¯ä»¥æ˜¯ python3.9.0 å¦å¤–ï¼Œåœ¨ç¼–è¯‘ python çš„æ—¶å€™ï¼Œä¸€å®šè¦åŠ ä¸Šå‘½ä»¤ export LDFLAGS=-rdynamic åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿä¸è¦æ›´æ–°å¤ªé«˜ç‰ˆæœ¬çš„ nodejsï¼Œè¿™ä¸ªåŒæ ·è¦æ±‚æˆ‘ä»¬å‡çº§ glibcï¼Œç›®å‰å¯ä»¥çš„ç‰ˆæœ¬æ˜¯ node-v16.20.0 ","date":"2023-05-26","objectID":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/:1:0","tags":["vim","vim9","coc.vim","gcc","python","IDE"],"title":"vim9 å®‰è£…ä¸é…ç½®coc.vim","uri":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/"},{"categories":["tools"],"content":" å®‰è£…è¿‡ç¨‹ä¸‹é¢å¼€å§‹ä»‹ç»å®‰è£… vim9 çš„å®Œæ•´è¿‡ç¨‹ï¼Œæˆ‘é»˜è®¤æŠŠ vim å®‰è£…åˆ° home ä¸‹é¢çš„ vim9 æ–‡ä»¶å¤¹ã€‚ä½¿ç”¨çš„æ—¶å€™ï¼Œé€šè¿‡æŒ‡å®šå¯æ‰§è¡Œçš„è·¯å¾„ã€‚ export VIM9_PATH=$HOME/vim9 mkdir -p ${VIM9_PATH}/local/{bin,lib} mkdir -p $HOME/tmp ","date":"2023-05-26","objectID":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/:2:0","tags":["vim","vim9","coc.vim","gcc","python","IDE"],"title":"vim9 å®‰è£…ä¸é…ç½®coc.vim","uri":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/"},{"categories":["tools"],"content":" å®‰è£… opensslè¿™ä¸ªä¸»è¦æ˜¯ä¸ºäº†ç»™ python ä½¿ç”¨ cd $HOME/tmp \u0026\u0026 wget --no-check-certificate https://www.openssl.org/source/openssl-3.0.7.tar.gz \u0026\u0026 \\ tar -xvf openssl-3.0.7.tar.gz \u0026\u0026 \\ cd openssl-3.0.7 \u0026\u0026 \\ ./config --prefix=${VIM9_PATH}/local/openssl --openssldir=${VIM9_PATH}/local/openssl no-shared zlib-dynamic \u0026\u0026 \\ make -j \u0026\u0026 make install \\ rm -rf $HOME/tmp/openssl* ","date":"2023-05-26","objectID":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/:2:1","tags":["vim","vim9","coc.vim","gcc","python","IDE"],"title":"vim9 å®‰è£…ä¸é…ç½®coc.vim","uri":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/"},{"categories":["tools"],"content":" å®‰è£… python3.9 export PYTHON_VERSION=3.9.0 cd $HOME/tmp \u0026\u0026 \\ wget --no-check-certificate https://registry.npmmirror.com/-/binary/python/${PYTHON_VERSION}/Python-${PYTHON_VERSION}.tar.xz \u0026\u0026 \\ tar -xvf Python-${PYTHON_VERSION}.tar.xz \u0026\u0026 \\ cd Python-${PYTHON_VERSION} \u0026\u0026 \\ export LDFLAGS=-rdynamic \u0026\u0026 \\ CFLAGS=\"-I${VIM9_PATH}/local/openssl/include\" LDFLAGS=\"-L${VIM9_PATH}/local/openssl/lib64\" \\ ./configure \\ --enable-shared \\ --enable-optimizations \\ --enable-loadable-sqlite-extensions \\ --prefix=${VIM9_PATH}/local \\ --with-openssl=${VIM9_PATH}/local/openssl \u0026\u0026 \\ make -j \u0026\u0026 make install ","date":"2023-05-26","objectID":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/:2:2","tags":["vim","vim9","coc.vim","gcc","python","IDE"],"title":"vim9 å®‰è£…ä¸é…ç½®coc.vim","uri":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/"},{"categories":["tools"],"content":" å®‰è£… lua cd $HOME/tmp \u0026\u0026 wget --no-check-certificate http://www.lua.org/ftp/lua-5.4.4.tar.gz \u0026\u0026 \\ tar -xvf lua-5.4.4.tar.gz \u0026\u0026 \\ cd lua-5.4.4 \u0026\u0026 \\ sed -i 's|^INSTALL_TOP=.*|INSTALL_TOP= ${VIM9_PATH}/local|g' Makefile \u0026\u0026 \\ make -j \u0026\u0026 make install ","date":"2023-05-26","objectID":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/:2:3","tags":["vim","vim9","coc.vim","gcc","python","IDE"],"title":"vim9 å®‰è£…ä¸é…ç½®coc.vim","uri":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/"},{"categories":["tools"],"content":" å®‰è£… perlè¿™ä¸ªæˆ‘æš‚æ—¶ä¸éœ€è¦ï¼Œå°±æ²¡å®‰è£…äº† wget http://www.cpan.org/src/5.0/perl-5.14.2.tar.gz \u0026\u0026 \\ tar -xzf perl-5.14.2.tar.gz \u0026\u0026 \\ cd perl-5.14.2 # -d: default # -e: escapte question ./Configure â€“des -Dprefix=/home/william/vim9/local make #make test make install ## å¦‚æœ vim éœ€è¦ perl æ”¯æŒ ## åˆ™æ·»åŠ è¿™ä¸ªé€‰é¡¹ --enable-perlinterp=$HOME/vim9/local/bin/perl ","date":"2023-05-26","objectID":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/:2:4","tags":["vim","vim9","coc.vim","gcc","python","IDE"],"title":"vim9 å®‰è£…ä¸é…ç½®coc.vim","uri":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/"},{"categories":["tools"],"content":" å®‰è£… vim cd /tmp \u0026\u0026 \\ git clone https://github.com/vim/vim.git \u0026\u0026 \\ cd vim \u0026\u0026 \\ git pull origin master \u0026\u0026 \\ make clean distclean export VIM9_PATH=$HOME/vim9 export LD_LIBRARY_PATH=${VIM9_PATH}/local/lib:$LD_LIBRARY_PATH export PATH=$HOME/vim9/local/bin:${VIM9_PATH}/local/bin:${VIM9_PATH}/local/node-v16.20.0-linux-x64/bin:$PATH ./configure --prefix=$HOME/vim9/local \\ --with-features=huge \\ --enable-multibyte \\ --enable-python3interp=yes \\ --with-python3-command=$HOME/vim9/local/bin/python3 \\ --with-python3-config-dir=$($HOME/vim9/local/bin/python3-config --configdir) \\ --enable-luainterp=yes \\ --with-lua-prefix=$HOME/vim9/local \\ --enable-cscope \\ --enable-largefile \\ --disable-netbeans \\ --with-compiledby=\"william\" \\ --enable-fail-if-missing ## --enable-perlinterp=/home/ops/vim9/local/bin/perl make -j \u0026\u0026 make install ","date":"2023-05-26","objectID":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/:2:5","tags":["vim","vim9","coc.vim","gcc","python","IDE"],"title":"vim9 å®‰è£…ä¸é…ç½®coc.vim","uri":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/"},{"categories":["tools"],"content":" å®‰è£… nodejsç”±äº coc.vim éœ€è¦ nodejs æ”¯æŒ cd $HOME/vim9/local ## ç›´æ¥ä¸‹è½½äºŒè¿›åˆ¶ï¼Œå¯ä»¥çœæ‰å®‰è£…æ­¥éª¤ï¼ˆè¿˜æŒºè´¹æ—¶é—´çš„ï¼‰ cd /tmp wget https://nodejs.org/dist/latest-v16.x/node-v16.20.0-linux-x64.tar.gz tar -xvf node-v16.20.0-linux-x64.tar.gz cp -r node-v16.20.0-linux-x64 $HOME/vim9/local export VIM9_PATH=$HOME/vim9 export LD_LIBRARY_PATH=${VIM9_PATH}/local/lib:$LD_LIBRARY_PATH export PATH=$HOME/vim9/local/bin:${VIM9_PATH}/local/bin:${VIM9_PATH}/local/node-v16.20.0-linux-x64/bin:$PATH ## å®‰è£… yarn npm install -g yarn ## å¦‚æœ coc.vim æ˜¯ç¦»çº¿å®‰è£…ï¼Œåˆ™å¯ä»¥æ‰§è¡Œ ## ~/.vim/plugged/coc.nvim/æ˜¯æˆ‘çš„coc.nvimæ’ä»¶çš„å®‰è£…ç›®å½• cd ~/.vim/plugged/coc.nvim/ yarn install yarn build ","date":"2023-05-26","objectID":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/:2:6","tags":["vim","vim9","coc.vim","gcc","python","IDE"],"title":"vim9 å®‰è£…ä¸é…ç½®coc.vim","uri":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/"},{"categories":["tools"],"content":" é…ç½® vim","date":"2023-05-26","objectID":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/:3:0","tags":["vim","vim9","coc.vim","gcc","python","IDE"],"title":"vim9 å®‰è£…ä¸é…ç½®coc.vim","uri":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/"},{"categories":["tools"],"content":" alias #alias vim='LD_LIBRARY_PATH=$HOME/vim9/local/lib:$LD_LIBRARY_PATH PATH=$HOME/vim9/local/bin:$HOME/vim9/local/node-v16.20.0-linux-x64/bin:$PATH vim -u $HOME/.vimrc.coc' #alias vim='LD_LIBRARY_PATH=$HOME/vim9/local/lib:$LD_LIBRARY_PATH PATH=$HOME/vim9/local/bin:$HOME/vim9/local/node-v16.20.0-linux-x64/bin:$PATH $HOME/vim9/local/bin/vim -u $HOME/vim9/.vimrc' alias vim='LD_LIBRARY_PATH=$HOME/vim9/local/lib:$LD_LIBRARY_PATH PATH=$HOME/vim9/local/bin:$HOME/vim9/local/node-v16.20.0-linux-x64/bin:$PATH $HOME/vim9/local/bin/vim -u $HOME/vim9/.vimrc' æ³¨æ„ï¼Œå¯¹äºæ–°å®‰è£…çš„ vimï¼Œéœ€è¦é€€å‡ºå½“å‰ ssh è¿æ¥åï¼Œé‡æ–°ç™»å½•æ‰å¯ä»¥ç”Ÿæ•ˆã€‚ ","date":"2023-05-26","objectID":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/:3:1","tags":["vim","vim9","coc.vim","gcc","python","IDE"],"title":"vim9 å®‰è£…ä¸é…ç½®coc.vim","uri":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/"},{"categories":["tools"],"content":" è§£å†³ tmux é…è‰²æ— æ•ˆç”Ÿæ•ˆçš„å†²çª ## tmux ä¼šå¼•å‘ vim color scheme é”™è¯¯ ## https://stackoverflow.com/questions/10158508/lose-vim-colorscheme-in-tmux-mode egrep '.*default-terminal.*xterm-256color.*' ~/.tmux.conf || echo -e 'set -g default-terminal \\\"xterm-256color\\\"' \u003e\u003e ~/.tmux.conf åŒæ—¶ï¼Œè¿˜æ˜¯æ— æ³•æ˜¾ç¤ºï¼Œè¿™éœ€è¦ä½¿ç”¨å‚æ•° tmux -2 ## æˆ–è€…å¯ä»¥å†™ä¸€ä¸ª alias alias tnew='tmux -2 -u new -s' ","date":"2023-05-26","objectID":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/:3:2","tags":["vim","vim9","coc.vim","gcc","python","IDE"],"title":"vim9 å®‰è£…ä¸é…ç½®coc.vim","uri":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/"},{"categories":["tools"],"content":" å®‰è£… vim.plugin curl -fLo ~/.vim/autoload/plug.vim --create-dirs \\ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim ","date":"2023-05-26","objectID":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/:3:3","tags":["vim","vim9","coc.vim","gcc","python","IDE"],"title":"vim9 å®‰è£…ä¸é…ç½®coc.vim","uri":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/"},{"categories":["tools"],"content":" coc.vim coc.vim åªæ˜¯æä¾›ä¸€ä¸ªè°ƒç”¨æ¥å£ï¼Œæ‰€æœ‰çš„ä»£ç è¡¥å…¨ä¸æ£€æŸ¥åŠŸèƒ½éƒ½æ˜¯ç”± lsp æä¾›ã€‚è€Œä¸ºäº†èƒ½å¤Ÿå¤„ç† cpp æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¸€å®šè¦ç¡®ä¿åœ¨ coc-settings.json é‡Œé¢é…ç½®çš„ clangd èƒ½å¤Ÿæ­£ç¡®è¿è¡Œï¼Œå¦åˆ™è¿è¡Œå‘½ä»¤ : CocCommand clangd.install ä¼šæŠ¥é”™ï¼šcoc client failed to connected ## åŠ¡å¿…ç¡®ä¿ clangd çš„æœåŠ¡ç«¯æ˜¯å¯ä»¥æ­£å¸¸å¯åŠ¨çš„ ## å¦‚æœæœ‰æŠ¥é”™ï¼Œéœ€è¦æ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬çš„ clangd äºŒè¿›åˆ¶ ## ç„¶ååœ¨ `coc-settings.json` è¿›è¡Œè®¾ç½® pwd /home/william/.config/coc/extensions/coc-clangd-data/install/16.0.2/clangd_16.0.2/bin ./clangd clangd is a language server that provides IDE-like features to editors. It should be used via an editor plugin rather than invoked directly. For more information, see: https://clangd.llvm.org/ https://microsoft.github.io/language-server-protocol/ clangd accepts flags on the commandline, and in the CLANGD_FLAGS environment variable. I[17:56:41.885] clangd version 16.0.2 (https://github.com/llvm/llvm-project 18ddebe1a1a9bde349441631365f0472e9693520) I[17:56:41.885] Features: linux+grpc I[17:56:41.885] PID: 17226 I[17:56:41.885] Working directory: /home/william/.config/coc/extensions/coc-clangd-data/install/16.0.2/clangd_16.0.2/bin I[17:56:41.885] argv[0]: ./clangd I[17:56:41.885] Starting LSP over stdin/stdout å¦‚æœæŠ¥é”™æ²¡æœ‰æ‰¾åˆ° clangd ï¼Œåˆ™éœ€è¦æˆ‘ä»¬è‡ªå·±å®‰è£…ã€‚è¿™ä¸ªå‘½ä»¤éœ€è¦æ‰“å¼€ä¸€ä¸ªtest.cppæ–‡ä»¶å†æ‰§è¡Œ: CocCommand clangd.install å…·ä½“çš„é…ç½®å¯ä»¥é€šè¿‡å¸®åŠ©å‘½ä»¤ :h g:coc_data_home æ¥è·å–ï¼Œæ¯”å¦‚åœ¨ .vimrc è®¾ç½® å­˜æ”¾ coc é…ç½®è·¯å¾„coc-settings.jsonï¼šlet g:coc_config_home=~/.vim å­˜æ”¾ coc æ’ä»¶è·¯å¾„coc-clangç­‰ï¼šlet g:coc_data_home=~/.config/coc g:coc_config_home *g:coc_config_home* Configure the directory which will be used to look for user's `coc-settings.json`, default: Windows: `~/AppData/Local/nvim` Other: `~/.config/nvim` g:coc_data_home *g:coc_data_home* Configure the directory which will be used to for data files(extensions, MRU and so on), default: Windows: `~/AppData/Local/coc` Other: `~/.config/coc` æ‰“å¼€å‘½ä»¤ :CocConfig è¿›è¡Œé…ç½® { // Enable preselect feature on neovim, default: `true` \"suggest.enablePreselect\": true, // Add preview option to `completeopt`, default: `false` \"suggest.enablePreview\": true, // completion automatically select the first completed \"suggest.noselect\": false, // \"suggest.triggerAfterInsertEnter\": true \"diagnostic.checkCurrentLine\": true, // min word for trigger preview \"suggest.minTriggerInputLength\": 1, // Target to show hover information, default is floating window when possible. \"coc.preferences.hoverTarget\": \"preview\", // Auto close preview window on cursor move., default: `true` \"coc.preferences.previewAutoClose\": true, // Coc.Prettier --------------------------------------------------------------- \"prettier.singleQuote\": true, \"prettier.trailingComma\": \"all\", \"prettier.bracketSpacing\": false, // Coc.Python ----------------------------------------------------------------- \"python.linting.pylintEnabled\": false, \"python.linting.flake8Enabled\": true, \"python.linting.enabled\": true, \"python.pythonPath\": \"/home/william/anaconda3/bin/python3\", \"pyright.inlayHints.variableTypes\": false, \"clangd.path\": \"~/.config/coc/extensions/coc-clangd-data/install/16.0.2/clangd_16.0.2/bin/clangd\" } ","date":"2023-05-26","objectID":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/:3:4","tags":["vim","vim9","coc.vim","gcc","python","IDE"],"title":"vim9 å®‰è£…ä¸é…ç½®coc.vim","uri":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/"},{"categories":["tools"],"content":" zsh-vim-fzf æœç´¢å¹¶æ‰“å¼€ç›®æ ‡æ–‡ä»¶åœ¨ zsh ä½¿ç”¨ fzf æœç´¢ç›®æ ‡æ–‡ä»¶ï¼Œå¹¶è°ƒç”¨ vim æ‰“å¼€ã€‚æˆ‘è®¾ç½®çš„å¿«æ·é”®ä¸º Ctrl-f ## vim ~/.zshrc ## fzf : Ctr-f ------------------------------------------------- # .zshrc example function __fsel_files() { setopt localoptions pipefail no_aliases 2\u003e /dev/null eval find ./ -type f -print | fzf --reverse -m \"$@\" | while read item; do echo -n \"${(q)item} \" done local ret=$? echo return $ret } function fzf-vim { selected=$(__fsel_files) if [[ -z \"$selected\" ]]; then zle redisplay return 0 fi zle push-line # Clear buffer BUFFER=\"vim $selected\"; zle accept-line } zle -N fzf-vim bindkey \"^f\" fzf-vim ","date":"2023-05-26","objectID":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/:3:5","tags":["vim","vim9","coc.vim","gcc","python","IDE"],"title":"vim9 å®‰è£…ä¸é…ç½®coc.vim","uri":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/"},{"categories":["tools"],"content":" .vimrc set nocompatible \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" noremap \u003cF2\u003e :Autoformat\u003cCR\u003e nnoremap \u003csilent\u003e\u003cF3\u003e :call \u003cSID\u003eToggleColorColumn()\u003ccr\u003e \" Show Column nmap \u003cF4\u003e :ALEDetail\u003cCR\u003e \" ALE detail info nmap \u003csilent\u003e\u003cF5\u003e :NERDTreeToggle\u003cCR\u003e \" Nerd nmap \u003csilent\u003e\u003cF8\u003e :TagbarToggle\u003cCR\u003e \" Tagbar nnoremap \u003csilent\u003e\u003cF9\u003e :call asyncrun#quickfix_toggle(5)\u003ccr\u003e\" Show build window \" nnoremap \u003csilent\u003e\u003cF10\u003e :AsyncRun -cwd=\u003croot\u003e cd `pwd`/build \u0026\u0026 bash ../kickstart.sh \u003ccr\u003e nnoremap \u003csilent\u003e\u003cF10\u003e :AsyncRun -cwd=\u003croot\u003e cd `pwd`/build \u0026\u0026 bash ../kickstart.sh \u0026\u0026 make install \u003ccr\u003e map \u003cF12\u003e :%s/\\t/ /g\u003cCR\u003e \" imap tt \u003cEsc\u003e \" ff to exit insert mode \" å®šä¹‰å¿«æ·é”®çš„å‰ç¼€ï¼Œå³\u003cLeader\u003e let mapleader=\";\" let maplocalleader=\";\" \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \"\" Plug \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" call plug#begin() \" Code completion ------------------------------------------------------------- Plug 'neoclide/coc.nvim', {'branch': 'release'} \" Color Theme ----------------------------------------------------------------- Plug 'sainnhe/everforest' Plug 'frazrepo/vim-rainbow' Plug 'mechatroner/rainbow_csv' let g:disable_rainbow_hover = 1 let g:rainbow_comment_prefix = '#' \" Status Bar ------------------------------------------------------------------ Plug 'vim-airline/vim-airline' Plug 'vim-airline/vim-airline-themes' \"\" Adding extras. \"\" Uncomment the following line If you have installed the powerline fonts. \"\" It is good for airline layer. let g:airline_powerline_fonts = 1 let g:airline_theme='everforest' \" AIRLINE SETTINGS let g:airline#extensions#tabline#show_close_button = 0 \"\" AIRLINE SETTINGS let g:airline#extensions#tabline#show_close_button = 0 \" let g:airline#extensions#tabline#buffer_nr_show = 1 \" ä¸è¦æ˜¾ç¤º index let g:airline#extensions#tabline#buffer_idx_mode = 1 nmap \u003cleader\u003e1 \u003cPlug\u003eAirlineSelectTab1 nmap \u003cleader\u003e2 \u003cPlug\u003eAirlineSelectTab2 nmap \u003cleader\u003e3 \u003cPlug\u003eAirlineSelectTab3 nmap \u003cleader\u003e4 \u003cPlug\u003eAirlineSelectTab4 nmap \u003cleader\u003e5 \u003cPlug\u003eAirlineSelectTab5 nmap \u003cleader\u003e6 \u003cPlug\u003eAirlineSelectTab6 nmap \u003cleader\u003e7 \u003cPlug\u003eAirlineSelectTab7 nmap \u003cleader\u003e8 \u003cPlug\u003eAirlineSelectTab8 nmap \u003cleader\u003e9 \u003cPlug\u003eAirlineSelectTab9 \" let g:airline_skip_empty_sections = 1 let g:airline_skip_empty_sections = 1 let g:airline#extensions#tabline#fnamemod = ':t' \"\"let g:airline#extensions#syntastic#enabled = 0 let g:airline_detect_iminsert=1 let g:airline#extensions#tmuxline#enabled = 0 let g:airline#extensions#tabline#enabled = 1 let g:airline#extensions#tabline#show_tabs = 1 let g:airline#extensions#tabline#show_buffers = 1 let g:airline#extensions#tabline#show_tab_nr = 0 let g:airline#extensions#tabline#tab_nr_type = 1 \" tab number let g:airline#extensions#tabline#show_splits = 0 let g:airline#extensions#wordcount#enabled = 0 \"let g:airline_theme='base16' \" let g:airline_powerline_fonts = 1 let g:airline#extensions#tagbar#enabled = 1 \" END AIRLINE SETTINGS let g:airline#extensions#tabline#show_tabs = 0 \" Nerd Tree-------------------------------------------------------------------- Plug 'scrooloose/nerdtree' Plug 'preservim/nerdcommenter' \" nerdtree ä»å½“å‰æ–‡ä»¶ç›®å½•æ‰“å¼€ autocmd BufEnter * lcd %:p:h \"å¦‚æœæƒ³æ‰“å¼€vimæ—¶è‡ªåŠ¨æ‰“å¼€NERDTreeï¼Œå¯ä»¥å¦‚ä¸‹è®¾å®š \" autocmd vimenter * NERDTree \" æ˜¾ç¤ºè¡Œå· let NERDTreeShowLineNumbers=1 let NERDTreeAutoCenter=1 \" æ˜¯å¦æ˜¾ç¤ºéšè—æ–‡ä»¶ \" åœ¨ç»ˆç«¯å¯åŠ¨vimæ—¶ï¼Œå…±äº«NERDTree let g:nerdtree_tabs_open_on_console_startup=1 \" å¿½ç•¥ä»¥ä¸‹æ–‡ä»¶çš„æ˜¾ç¤º let NERDTreeIgnore=['\\.pyc','\\~$','\\.swp'] \" æ˜¾ç¤ºä¹¦ç­¾åˆ—è¡¨ let NERDTreeShowBookmarks=1 \"NERDTreeé…ç½® let NERDChristmasTree=1 \"æ˜¾ç¤ºå¢å¼º let NERDTreeAutoCenter=1 \"è‡ªåŠ¨è°ƒæ•´ç„¦ç‚¹ let NERDTreeShowFiles=1 \"æ˜¾ç¤ºæ–‡ä»¶ let NERDTreeShowLineNumbers=1 \"æ˜¾ç¤ºè¡Œå· let NERDTreeHightCursorline=1 \"é«˜äº®å½“å‰æ–‡ä»¶ let NERDTreeShowHidden=1 \"æ˜¾ç¤ºéšè—æ–‡ä»¶ let NERDTreeMinimalUI=0 \"ä¸æ˜¾ç¤º'Bookmarks' label 'Press ? for help' let NERDTreeWinSize=30 \"çª—å£å®½åº¦ \" let NERDTreeQuitOnOpen = 1 let NERDTreeMinimalUI = 1 let NERDTreeDirArrows = 1 set autochdir let N","date":"2023-05-26","objectID":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/:4:0","tags":["vim","vim9","coc.vim","gcc","python","IDE"],"title":"vim9 å®‰è£…ä¸é…ç½®coc.vim","uri":"/2023-05-26-vim9-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEcoc.vim/"},{"categories":["tools"],"content":"ç§»åŠ¨ tmux-window ## ä½¿ç”¨ Shift-\u003e æˆ–è€… Shift\u003c- ç§»åŠ¨ ## tmux2 bind-key -n S-Left swap-window -t -1 bind-key -n S-Right swap-window -t +1 ## tmux3 bind-key -n S-Left swap-window -t -1\\; select-window -t -1 bind-key -n S-Right swap-window -t +1\\; select-window -t +1 ","date":"2023-05-24","objectID":"/2023-05-24-tmux-%E7%A7%BB%E5%8A%A8-window/:0:0","tags":["terminal","tmux","window","panel"],"title":"tmux ç§»åŠ¨ window","uri":"/2023-05-24-tmux-%E7%A7%BB%E5%8A%A8-window/"},{"categories":["tools"],"content":"æ³¨å†Œå›è°ƒå‡½æ•°ï¼Œä¸€æ—¦ DAG è§¦å‘ç›¸å…³æ¡ä»¶ï¼Œä¼šæ‰§è¡Œè¯¥å›è°ƒå‡½æ•° ","date":"2023-05-20","objectID":"/2023-05-20-airflow-on_failure_callback%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0/:0:0","tags":["ariflow","dag","callback","failure"],"title":"airflow on_failure_callbackå›è°ƒå‡½æ•°","uri":"/2023-05-20-airflow-on_failure_callback%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0/"},{"categories":["tools"],"content":" æ”¯æŒ DAG ä¸ Operatorå¯ä»¥åœ¨ DAG æˆ–è€… å•ç‹¬ä¸€ä¸ª Operator(Task) é‡Œé¢å®šä¹‰å›è°ƒï¼Œå…¥å‚ä½¿ç”¨ä¸º on_failure_callback=[callback_func_1, callback_func_2] ","date":"2023-05-20","objectID":"/2023-05-20-airflow-on_failure_callback%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0/:1:0","tags":["ariflow","dag","callback","failure"],"title":"airflow on_failure_callbackå›è°ƒå‡½æ•°","uri":"/2023-05-20-airflow-on_failure_callback%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0/"},{"categories":["tools"],"content":" Callback TypesThere are five types of task events that can trigger a callback: Name Description on_success_callback Invoked when the task succeeds on_failure_callback Invoked when the task fails sla_miss_callback Invoked when a task misses its defined SLA on_retry_callback Invoked when the task is up for retry on_execute_callback Invoked right before the task begins executing. åŒæ—¶ï¼Œåœ¨ airflow2.6.0 ä»¥ä¸Šç‰ˆæœ¬ï¼Œè¿˜å¯ä»¥æ”¯æŒå¤šä¸ªå›è°ƒå‡½æ•°ï¼Œå°†å…¶æ”¾å…¥ä¸€ä¸ª list å³å¯ As of Airflow 2.6.0, callbacks now supports a list of callback functions, allowing users to specify multiple functions to be executed in the desired event. Simply pass a list of callback functions to the callback args when defining your DAG/task callbacks: e.g on_failure_callback=[callback_func_1, callback_func_2] from docker.types import Mount from airflow import DAG from airflow.utils.dates import days_ago from airflow.decorators import task from airflow.operators.bash import BashOperator from airflow.operators.python import PythonOperator from airflow.providers.docker.operators.docker import DockerOperator from wepy.utils.init import * import pendulum local_tz = pendulum.timezone(\"Asia/Shanghai\") DEFAULT_ARGS = { 'owner' : 'william', 'email' : 'xxx@xxx.com', 'email_on_failure' : False, 'email_on_retry' : False, 'depends_on_past' : False, 'retries' : 3, 'retry_delay' : timedelta(minutes=1) } def dag_failure_alert(context): msg = f\"\"\"DAG has failed, --------------------- {context} --------------------- {context.get('dag')=} {context.get('dag_run')=} --------------------- {context.get('task')=} {context.get('task_instance')=} \"\"\" log.err(msg) wx_test.send(msg, 'error') def task_failure_alert(context): msg = f\"\"\"Task has failed, task_instance_key_str: {context['task_instance_key_str']} \"\"\" log.err(msg) wx_test.send(msg, 'error') def checking(): if not cal.is_today_trading(): raise Exception(\"Not TradingDay.\") with DAG( dag_id = \"hello\", default_args = DEFAULT_ARGS, schedule = \"*/1 * * *\", start_date = datetime(2023, 1, 1, tzinfo=local_tz), catchup = False, dagrun_timeout = timedelta(seconds=60*3), tags = ['hello'], on_failure_callback = [dag_failure_alert], ) as dag: checking = PythonOperator( task_id = 'checking', python_callable = checking, dag = dag, on_failure_callback = [task_failure_alert], ) checking ","date":"2023-05-20","objectID":"/2023-05-20-airflow-on_failure_callback%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0/:2:0","tags":["ariflow","dag","callback","failure"],"title":"airflow on_failure_callbackå›è°ƒå‡½æ•°","uri":"/2023-05-20-airflow-on_failure_callback%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0/"},{"categories":["tools"],"content":" æ­£ç¡®åšæ³•","date":"2023-05-19","objectID":"/2023-05-19-git-bare-%E9%A1%B9%E7%9B%AE/:0:0","tags":["git","bare","ssh"],"title":"git bare é¡¹ç›®","uri":"/2023-05-19-git-bare-%E9%A1%B9%E7%9B%AE/"},{"categories":["tools"],"content":" colo cd ~ mkdir tbt2snap.recover cd tbt2snap.recover git init --bare ./tbt2snap.recover.git ## bare ä»“åº“ä¸ä¿å­˜å…·ä½“å†…å®¹ï¼Œéœ€è¦æˆ‘ä»¬é€šè¿‡è®¾ç½® post-receive æ¥åŒæ­¥è¿œç¨‹ä»“åº“å†…å®¹ ## é€šè¿‡è¿™ä¸ªæ§åˆ¶ä» master pull åˆ°å“ªä¸ªç›®å½• ./tbt2snap.recover.git cd hooks touch post-receive chmod +x post-receive vim post-receive #/bin/bash GIT_WORK_TREE=/home/ops/tbt2snap.recover git checkout -f master tree -L 2 . â”œâ”€â”€ clear.sh â”œâ”€â”€ README.md â”œâ”€â”€ release.sh â”œâ”€â”€ tbt2snap.recover.git â”‚Â â”œâ”€â”€ branches â”‚Â â”œâ”€â”€ config â”‚Â â”œâ”€â”€ description â”‚Â â”œâ”€â”€ HEAD â”‚Â â”œâ”€â”€ hooks â”‚Â â”œâ”€â”€ index â”‚Â â”œâ”€â”€ info â”‚Â â”œâ”€â”€ logs â”‚Â â”œâ”€â”€ objects â”‚Â â””â”€â”€ refs â””â”€â”€ template â”œâ”€â”€ colo.conf â”œâ”€â”€ hub.conf â”œâ”€â”€ hub.csv â”œâ”€â”€ run.hub.sh â”œâ”€â”€ run.t2s2.sh â”œâ”€â”€ run.term.sh â”œâ”€â”€ t2s2.conf â””â”€â”€ terms.csv 8 directories, 15 files ","date":"2023-05-19","objectID":"/2023-05-19-git-bare-%E9%A1%B9%E7%9B%AE/:1:0","tags":["git","bare","ssh"],"title":"git bare é¡¹ç›®","uri":"/2023-05-19-git-bare-%E9%A1%B9%E7%9B%AE/"},{"categories":["tools"],"content":" local ## git ä½œä¸ºä¸‹ä¸€å±‚ä»“åº“ï¼Œé€šè¿‡ post-receive æ§åˆ¶åŒæ­¥å†…å®¹ git remote add colo116 ssh://ops@192.168.1.177:61116/home/ops/tbt2snap.recover/tbt2snap.recover.git git push colo116 ","date":"2023-05-19","objectID":"/2023-05-19-git-bare-%E9%A1%B9%E7%9B%AE/:2:0","tags":["git","bare","ssh"],"title":"git bare é¡¹ç›®","uri":"/2023-05-19-git-bare-%E9%A1%B9%E7%9B%AE/"},{"categories":["tools"],"content":" remote mkdir tools.git cd tools.git ls -alh git init --bare cd hooks touch post-receive chmod +x post-receive vim post-receive #/bin/bash GIT_WORK_TREE=./ git checkout -f master #while read oldrev newrev ref #do # branch=Â´echo $ref | cut -d/ -f3Â´ # GIT_WORK_TREE=../ git checkout -f $branch #done ","date":"2023-05-19","objectID":"/2023-05-19-git-bare-%E9%A1%B9%E7%9B%AE/:3:0","tags":["git","bare","ssh"],"title":"git bare é¡¹ç›®","uri":"/2023-05-19-git-bare-%E9%A1%B9%E7%9B%AE/"},{"categories":["tools"],"content":" local git clone git@192.168.1.171:lfang/tools.git cd tools vim readme.md git add readme.md git commit -m 'add readme' git remote add colo110 ssh://192.168.1.177:61110/home/ops/tmp/tools.git git push ssh://ops@192.168.1.177:61110/home/ops/tmp/tools.git ","date":"2023-05-19","objectID":"/2023-05-19-git-bare-%E9%A1%B9%E7%9B%AE/:4:0","tags":["git","bare","ssh"],"title":"git bare é¡¹ç›®","uri":"/2023-05-19-git-bare-%E9%A1%B9%E7%9B%AE/"},{"categories":["tools"],"content":" remoteè¿™æ ·ï¼Œæˆ‘ä»¬åœ¨ remote æœºå™¨å³å¯çœ‹åˆ°å˜åŠ¨ git log commit 7bf73f38fad70da7116842ee73dc4f02cc44c932 Author: â€œwilliamlfangâ€ \u003câ€œwilliam.lian.fang@gmail.comâ€\u003e Date: Fri May 19 15:25:34 2023 +0800 add readme ","date":"2023-05-19","objectID":"/2023-05-19-git-bare-%E9%A1%B9%E7%9B%AE/:5:0","tags":["git","bare","ssh"],"title":"git bare é¡¹ç›®","uri":"/2023-05-19-git-bare-%E9%A1%B9%E7%9B%AE/"},{"categories":["tools"],"content":"ä¿®æ”¹ airflow é»˜è®¤çš„æ—¶åŒº ","date":"2023-05-19","objectID":"/2023-05-19-airflow-cronjob-timezone-%E8%AE%BE%E7%BD%AE/:0:0","tags":["airflow","cronjob","timezone","schedule","æ—¶åŒº","shanghai"],"title":"airflow cronjob timezone è®¾ç½®","uri":"/2023-05-19-airflow-cronjob-timezone-%E8%AE%BE%E7%BD%AE/"},{"categories":["tools"],"content":" ä¿®æ”¹ airflow.cfg é…ç½® sed -i \"s|^default_timezone = .*|default_timezone = Asia/Shanghai|g\" airflow.cfg sed -i \"s|^default_ui_timezone = .*|default_ui_timezone = Asia/Shanghai|g\" airflow.cfg ","date":"2023-05-19","objectID":"/2023-05-19-airflow-cronjob-timezone-%E8%AE%BE%E7%BD%AE/:1:0","tags":["airflow","cronjob","timezone","schedule","æ—¶åŒº","shanghai"],"title":"airflow cronjob timezone è®¾ç½®","uri":"/2023-05-19-airflow-cronjob-timezone-%E8%AE%BE%E7%BD%AE/"},{"categories":["tools"],"content":" åœ¨ DAG è®¾å®šæ—¶åŒº from docker.types import Mount from airflow import DAG from airflow.utils.dates import days_ago from airflow.decorators import task from airflow.operators.bash import BashOperator from airflow.operators.python import PythonOperator from airflow.providers.docker.operators.docker import DockerOperator from wepy.utils.init import * import pendulum local_tz = pendulum.timezone(\"Asia/Shanghai\") ## è®¾ç½®æ—¶åŒº DEFAULT_ARGS = { 'owner' : 'william', 'email' : 'lfang@wuyacapital.com', 'email_on_failure' : False, 'email_on_retry' : False, 'retries' : 3, 'retry_delay' : timedelta(minutes=1) } with DAG( dag_id = \"pretrading.all.csv\", default_args = DEFAULT_ARGS, schedule = \"35 08,20 * * 1-5\", start_date = datetime(2023, 1, 1, tzinfo=local_tz), ## æŒ‡å®šæ—¶åŒº catchup = False, dagrun_timeout = timedelta(seconds=60*3), tags = ['pretrading', 'all.csv'], ) as dag: ","date":"2023-05-19","objectID":"/2023-05-19-airflow-cronjob-timezone-%E8%AE%BE%E7%BD%AE/:2:0","tags":["airflow","cronjob","timezone","schedule","æ—¶åŒº","shanghai"],"title":"airflow cronjob timezone è®¾ç½®","uri":"/2023-05-19-airflow-cronjob-timezone-%E8%AE%BE%E7%BD%AE/"},{"categories":["tools"],"content":"airflow å…è®¸ä¸ºä¸€ä¸ªç›¸åŒçš„ DAG é…ç½®å¤šä¸ª schedule from airflow.datasets import Dataset with DAG( dag_id = \"pretrading.all.csv\", default_args = DEFAULT_ARGS, # schedule = \"35 08 * * 1-5\", schedule = [Dataset(\"*/5 * * * 1-5\"), Dataset(\"9 18 * * 1-5\")], start_date = datetime(2023, 1, 1), catchup = False, dagrun_timeout = timedelta(seconds=60*3), tags = ['pretrading', 'all.csv'], ) as dag: ","date":"2023-05-18","objectID":"/2023-05-18-airflow-dag-%E9%85%8D%E7%BD%AE%E5%A4%9A%E4%B8%AAschedule/:0:0","tags":["airflow","schedule","Dataset","å¤šä¸ª"],"title":"airflow DAG é…ç½®å¤šä¸ªschedule","uri":"/2023-05-18-airflow-dag-%E9%85%8D%E7%BD%AE%E5%A4%9A%E4%B8%AAschedule/"},{"categories":["tools"],"content":" airflow-in-docker åƒä¸‡ä¸èƒ½ç”¨ previlleged ï¼Œè¿™ä¸ªä¼šå¯¼è‡´æ— æ³• mount /var/run/docker.socket ## root æ‰§è¡Œ ## ä¸èƒ½ç”¨ previllegedï¼ŒÂ·æ™®é€šç”¨æˆ·ä¹Ÿå¯ä»¥ docker run -dit \\ -v /var/run/docker.sock:/var/run/docker.sock \\ -v /usr/bin/docker:/bin/docker \\ --name=airflow \\ --pull=always \\ -p 18080:8080 \\ 10.32.111.107:5000/airflow:v1.0 å¦‚æœæ˜¯ dockerfile ï¼ˆæœ¬è´¨ä¸Šæ˜¯æ™®é€šç”¨æˆ·ï¼Œæ‰€ä»¥ä¸ç”¨ rootï¼‰ä¸ç”¨å®Œ previlleged version: \"3\" services: airflow: container_name: airflow image: 10.32.111.107:5000/airflow:v1.0 ## ä¸èƒ½ç”¨ previllegedï¼ŒÂ·æ™®é€šç”¨æˆ·ä¹Ÿå¯ä»¥, ä¸ºäº† /var/run/docker.socket privileged: false tty: true volumes: - ~:/mnt - /var/run/docker.sock:/var/run/docker.sock ## docker-in-docker - /usr/bin/docker:/bin/docker ## docker å¯æ‰§è¡Œï¼Œå¦‚æœæœ‰ so ä¹Ÿéœ€è¦ mount - /mnt/cephfs:/root/cephfs ## å¯ä»¥åœ¨ docker-in-docker ä½¿ç”¨ cephs - ~/git/jobs/dags:/app/dags ## for dags # - ~/mysql:/var/lib/mysql ## for mysql ports: - \"18080:8080\" ## web command: - /bin/bash - -c - | /usr/sbin/init pull_policy: always restart: always ","date":"2023-05-17","objectID":"/2023-05-17-docker-in-docker/:1:0","tags":["docker"],"title":"docker in docker","uri":"/2023-05-17-docker-in-docker/"},{"categories":["tools"],"content":" DAG ä½¿ç”¨ DockerOperatoræ³¨æ„ï¼Œåœ¨ airflow å¤„äº docker-in-docker çš„æƒ…å†µä¸‹ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦ç‰¹æ®Šå¤„ç† DockerOperator docker_url: \"unix://var/run/docker.sock\" network_mode: hostï¼Œåº”è¯¥ä¸º outside çš„ host ç½‘ç»œ mounts: è¿™ä¸ªæœ€é‡è¦ï¼Œå†³å®šäº† docker-in-docker èƒ½å¤Ÿæœ‰è¯»å–ç›¸å…³è·¯å¾„çš„æƒé™ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦æŠŠ dockeroperator ç†è§£æˆåœ¨ host æœºå™¨è¿è¡Œï¼Œæ‰€ä»¥çš„è·¯å¾„å¯¹åº”çš„æ˜¯ host çš„è·¯å¾„ from docker.types import Mount qry_ctp = DockerOperator( task_id = 'docker_qry_ctp', docker_url = \"unix://var/run/docker.sock\", image = '10.32.111.107:5000/tradingops/myctp.sx1:stable', container_name = 'task___qry_ctp', api_version = 'auto', auto_remove = 'success', ## 'success', 'force', 'never' network_mode = \"host\", command = \"\", mounts = [ Mount( source='/mnt/cephfs', ## è¿™ä¸ªæ˜¯ host çš„è·¯å¾„ target='/root/cephfs', ## è¿™ä¸ªæ˜¯ Docker-in-Docker çš„è·¯å¾„ type='bind' ), ], mount_tmp_dir = False, ) å½“ç„¶ï¼Œå¦‚æœæœ‰ commnadï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ å•ä¸ªå‘½ä»¤ï¼Œç›´æ¥ comnand å¤šä¸ªå‘½ä»¤ï¼Œä½¿ç”¨ /bin/bash -c '\u003ccommand1\u003e \u003ccommand2\u003e' rsync_tora = \"\"\" rsync --progress -avPzr --exclude='*'.log \\ Colo114:/home/ops/tora.qry/log'*' \\ /root/cephfs/ops/data/PublicInfo/Daily/PreTrading/InfoFromTORA \"\"\" rysnc_xele_sh = \"\"\" rsync --progress -avPzr --exclude='*'.log \\ Colo109:/home/ops/xeleq.qry/log'*' \\ /root/cephfs/ops/data/PublicInfo/Daily/PreTrading/InfoFromXELEQ/SH \"\"\" rysnc_xele_sz = \"\"\" rsync --progress -avPzr --exclude='*'.log \\ Colo110:/home/ops/xeleq.qry/log'*' \\ /root/cephfs/ops/data/PublicInfo/Daily/PreTrading/InfoFromXELEQ/SZ \"\"\" rsync_info = DockerOperator( task_id = 'docker_rsync_info', docker_url = \"unix://var/run/docker.sock\", image = '10.32.111.107:5000/r7:v1.0', container_name = 'task_rsync_info', api_version = 'auto', auto_remove = 'success', ## 'success', 'force', 'never' network_mode = \"host\", mount_tmp_dir = False, mounts = [ Mount( source='/mnt/cephfs', ## è¿™ä¸ªæ˜¯ host çš„è·¯å¾„ target='/root/cephfs', ## è¿™ä¸ªæ˜¯ Docker-in-Docker çš„è·¯å¾„ type='bind' ), ], command = f\"\"\" /bin/bash -c ' {rsync_tora} {rysnc_xele_sh} {rysnc_xele_sz} ' \"\"\" ) ","date":"2023-05-17","objectID":"/2023-05-17-docker-in-docker/:2:0","tags":["docker"],"title":"docker in docker","uri":"/2023-05-17-docker-in-docker/"},{"categories":["tools"],"content":" DAG ä½¿ç”¨ BashOperatorå¦‚æœä½¿ç”¨ BashOperatorï¼Œè¿™ç›¸å¯¹ç®€å•ï¼Œç›´æ¥è°ƒç”¨ docker run å³å¯ qry_ctp = BashOperator( task_id = 'docker_qry_ctp', bash_command = \"\"\" docker run --pull=always --privileged=true \\ --name=myctp.sx1 --rm=true \\ 10.32.111.107:5000/tradingops/myctp.sx1:stable \"\"\" ) ","date":"2023-05-17","objectID":"/2023-05-17-docker-in-docker/:3:0","tags":["docker"],"title":"docker in docker","uri":"/2023-05-17-docker-in-docker/"},{"categories":["tools"],"content":"å¤„ç† matplotlib ä¸­æ–‡å­—ä½“æ— æ³•æ˜¾ç¤ºçš„é—®é¢˜ ","date":"2023-05-17","objectID":"/2023-05-17-python-matplotlib-%E5%A4%84%E7%90%86%E4%B8%AD%E6%96%87%E5%AD%97%E4%BD%93/:0:0","tags":["linux","python","matplot","font","font","å­—ä½“"],"title":"python matplotlib å¤„ç†ä¸­æ–‡å­—ä½“","uri":"/2023-05-17-python-matplotlib-%E5%A4%84%E7%90%86%E4%B8%AD%E6%96%87%E5%AD%97%E4%BD%93/"},{"categories":["tools"],"content":" ä¸‹è½½éœ€è¦çš„å­—ä½“ ## å…ˆä¸‹è½½å­—ä½“ git clone https://github.com/dolbydu/font.git ## æ”¯æŒä¸­æ–‡å­—ä½“çš„åœ¨ unicode cd unicode tree -L 1 . â”œâ”€â”€ Adobe Fangsong Std.otf â”œâ”€â”€ Adobe Heiti Std.otf â”œâ”€â”€ Adobe Kaiti Std.otf â”œâ”€â”€ Adobe Song Std.otf â”œâ”€â”€ FangSong.ttf â”œâ”€â”€ FZYingBiXingShu-S16S.ttf â”œâ”€â”€ FZYingBiXingShu-S16T.ttf â”œâ”€â”€ Kaiti.ttf â”œâ”€â”€ Lisu.TTF â”œâ”€â”€ Microsoft Yahei Bold.ttf â”œâ”€â”€ Microsoft Yahei.ttf â”œâ”€â”€ SimHei.ttf â”œâ”€â”€ SimSun.ttc â”œâ”€â”€ STCaiyun.TTF â”œâ”€â”€ STFangsong.TTF â”œâ”€â”€ STHupo.TTF â”œâ”€â”€ STKaiti.TTF â”œâ”€â”€ STLiti.TTF â”œâ”€â”€ STSong.TTF â”œâ”€â”€ STXihei.TTF â”œâ”€â”€ STXingkai.TTF â”œâ”€â”€ STXinwei.TTF â”œâ”€â”€ STZhongsong.TTF â””â”€â”€ YouYuan.TTF ","date":"2023-05-17","objectID":"/2023-05-17-python-matplotlib-%E5%A4%84%E7%90%86%E4%B8%AD%E6%96%87%E5%AD%97%E4%BD%93/:1:0","tags":["linux","python","matplot","font","font","å­—ä½“"],"title":"python matplotlib å¤„ç†ä¸­æ–‡å­—ä½“","uri":"/2023-05-17-python-matplotlib-%E5%A4%84%E7%90%86%E4%B8%AD%E6%96%87%E5%AD%97%E4%BD%93/"},{"categories":["tools"],"content":" æ‹·è´åˆ° matplotlib æ–‡ä»¶å¤¹ ## æŸ¥çœ‹ matplotlib è·¯å¾„ import matplotlib matplotlib.matplotlib_fname() '/usr/local/python3/lib/python3.11/site-packages/matplotlib/mpl-data/matplotlibrc' ## å­—ä½“æ–‡ä»¶ä½äºä¸Šä¸€å±‚ cd /usr/local/python3/lib/python3.11/site-packages/matplotlib/mpl-data/fonts/ttf ç°åœ¨ï¼Œæˆ‘ä»¬æŠŠåˆšæ‰ä¸‹è½½å¾—åˆ°çš„å­—ä½“æ‹·è´åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ cp ~/git/font/unicode/* /usr/local/python3/lib/python3.11/site-packages/matplotlib/mpl-data/fonts/ttf ç„¶åï¼Œè¿˜éœ€è¦æ›´æ–° matplotlib çš„å­—ä½“ç¼“å­˜æ–‡ä»¶å¤¹ï¼Œå¦åˆ™è¿˜æ˜¯æ— æ³•æ›´æ–°å­—ä½“ import matplotlib print(matplotlib.get_cachedir()) '/root/.cache/matplotlib' ## åˆ é™¤å­—ä½“ç¼“å­˜ rm -rf /root/.cache/matplotlib è¿™æ—¶å€™ï¼Œé‡æ–°å¯åŠ¨ python å³å¯ matplotlib.matplotlib_fname() from matplotlib import font_manager font_set = {f.name for f in font_manager.fontManager.ttflist} for f in font_set: print(f) ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šå­—ä½“äº† plt.rcParams[\"font.sans-serif\"]=[\"Microsoft YaHei\"] #è®¾ç½®å­—ä½“ plt.rcParams[\"axes.unicode_minus\"]=False #è¯¥è¯­å¥è§£å†³å›¾åƒä¸­çš„â€œ-â€è´Ÿå·çš„ä¹±ç é—®é¢˜ ","date":"2023-05-17","objectID":"/2023-05-17-python-matplotlib-%E5%A4%84%E7%90%86%E4%B8%AD%E6%96%87%E5%AD%97%E4%BD%93/:2:0","tags":["linux","python","matplot","font","font","å­—ä½“"],"title":"python matplotlib å¤„ç†ä¸­æ–‡å­—ä½“","uri":"/2023-05-17-python-matplotlib-%E5%A4%84%E7%90%86%E4%B8%AD%E6%96%87%E5%AD%97%E4%BD%93/"},{"categories":["tools"],"content":" rpm -U http://opensource.wandisco.com/centos/7/git/x86_64/wandisco-git-release-7-2.noarch.rpm yum install -y git ","date":"2023-05-08","objectID":"/2023-05-08-centos-update-git-2.20/:0:0","tags":["centos","git"],"title":"centos update git 2.20","uri":"/2023-05-08-centos-update-git-2.20/"},{"categories":["tools"],"content":" terminate called after throwing an instance of 'std::runtime_error' what(): locale::facet::_S_create_c_locale name not valid éœ€è¦å®‰è£…ä¸­æ–‡åŒ…æ”¯æŒï¼Œå› ä¸º CTP é‡‡ç”¨äº†ä¸­æ–‡æ¥å£ # Set the locale RUN apt-get clean \u0026\u0026 \\ apt-get update \u0026\u0026 \\ apt-get install -y locales locales-all \u0026\u0026 \\ locale-gen zh_CN.GB18030 ","date":"2023-05-06","objectID":"/2023-05-06-ubuntu-ctp-%E4%B8%AD%E6%96%87%E9%97%AE%E9%A2%98/:0:0","tags":["ctp","ubuntu","locale"],"title":"ubuntu ctp ä¸­æ–‡é—®é¢˜","uri":"/2023-05-06-ubuntu-ctp-%E4%B8%AD%E6%96%87%E9%97%AE%E9%A2%98/"},{"categories":["tools"],"content":" # ç‰ˆæœ¬åˆ—è¡¨ï¼šhttps://www.sqlite.org/chronology.html # ä¸‹è½½æºç  wget --no-check-certificate https://www.sqlite.org/src/tarball/sqlite-3.39.3.tar.gz # ç¼–è¯‘ tar zxvf sqlite-3.39.3.tar.gz cd sqlite-3.39.3 export CFLAGS=\"-DSQLITE_ENABLE_FTS3 \\ -DSQLITE_ENABLE_FTS3_PARENTHESIS \\ -DSQLITE_ENABLE_FTS4 \\ -DSQLITE_ENABLE_FTS5 \\ -DSQLITE_ENABLE_JSON1 \\ -DSQLITE_ENABLE_LOAD_EXTENSION \\ -DSQLITE_ENABLE_RTREE \\ -DSQLITE_ENABLE_STAT4 \\ -DSQLITE_ENABLE_UPDATE_DELETE_LIMIT \\ -DSQLITE_SOUNDEX \\ -DSQLITE_TEMP_STORE=3 \\ -DSQLITE_USE_URI \\ -O2 \\ -fPIC\" export PREFIX=\"/usr/local\" #LIBS=\"-lm\" ./configure --disable-tcl --enable-shared --enable-tempstore=always --prefix=\"$PREFIX\" LIBS=\"-lm\" ./configure --enable-shared --enable-tempstore=always --prefix=\"$PREFIX\" make \u0026\u0026 make install # æ›¿æ¢ç³»ç»Ÿä½ç‰ˆæœ¬ sqlite3 mv /usr/bin/sqlite3 /usr/bin/sqlite3_old ln -s /usr/local/bin/sqlite3 /usr/bin/sqlite3 echo \"/usr/local/lib\" \u003e /etc/ld.so.conf.d/sqlite3.conf ldconfig sqlite3 -version ","date":"2023-04-25","objectID":"/2023-04-25-sqlite-%E6%BA%90%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91/:0:0","tags":["airflow","sqlite","centos"],"title":"sqlite æºä»£ç ç¼–è¯‘","uri":"/2023-04-25-sqlite-%E6%BA%90%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91/"},{"categories":["tools"],"content":"ä½¿ç”¨ airflow ç®¡ç†å·¥ä½œæµã€‚ Install ## è®¾ç½® DAG ç›®å½• export AIRFLOW_HOME=/root/app ## ä¸æ˜¾ç¤º example æ¡ˆä¾‹ export AIRFLOW__CORE__LOAD_EXAMPLES=False airflow db init ","date":"2023-04-25","objectID":"/2023-04-25-airflow-%E8%BF%90%E7%BB%B4/:0:0","tags":["linux","airflow","workflow","ops","devops"],"title":"airflow è¿ç»´","uri":"/2023-04-25-airflow-%E8%BF%90%E7%BB%B4/"},{"categories":["tools"],"content":" æ·»åŠ ç”¨æˆ· ## éœ€è¦ç¡®ä¿ $AIRFLOW_HOME æ˜¯å­˜åœ¨çš„ï¼Œå¦åˆ™è§¦å‘ä¸åŒçš„ dbï¼Œä¼šå¯¼è‡´æ•°æ®åº“åŒ¹é…ä¸å¯¹ï¼Œè¿›è€Œå¼•å‘è´¦æˆ·-å¯†ç é”™è¯¯ airflow users create \\ --username admin \\ --firstname admin \\ --lastname admin \\ --role Admin \\ --email admin@example.org ","date":"2023-04-25","objectID":"/2023-04-25-airflow-%E8%BF%90%E7%BB%B4/:1:0","tags":["linux","airflow","workflow","ops","devops"],"title":"airflow è¿ç»´","uri":"/2023-04-25-airflow-%E8%BF%90%E7%BB%B4/"},{"categories":["tools"],"content":" å¯åŠ¨ ## å¯åŠ¨ webserver airflow webserver -p 8080 -D ## å¯åŠ¨ scheduler airflow scheduler -D ## 1. vim ariflow.cfg default_timezone = utc ä¿®æ”¹ä¸º default_timezone = Asia/Shanghai default_ui_timezone = UTC ä¿®æ”¹ä¸º default_ui_timezone = Asia/Shanghai ","date":"2023-04-25","objectID":"/2023-04-25-airflow-%E8%BF%90%E7%BB%B4/:2:0","tags":["linux","airflow","workflow","ops","devops"],"title":"airflow è¿ç»´","uri":"/2023-04-25-airflow-%E8%BF%90%E7%BB%B4/"},{"categories":["tools"],"content":" æµ‹è¯• ## å…ˆç”¨ Python æµ‹è¯•ä»£ç  python hello.py airflow tasks list hello airflow tasks test hello print_date airflow tasks test hello py_say_hello 20230514 ## å¯åŠ¨ä¸€ä¸ª dag airflow dags list airflow dags trigger pretrading.all.csv ","date":"2023-04-25","objectID":"/2023-04-25-airflow-%E8%BF%90%E7%BB%B4/:3:0","tags":["linux","airflow","workflow","ops","devops"],"title":"airflow è¿ç»´","uri":"/2023-04-25-airflow-%E8%BF%90%E7%BB%B4/"},{"categories":["tools"],"content":" åˆ‡æ¢ db æ•°æ®åº“airflow å†…ç½®çš„é»˜è®¤æ•°æ®åº“æ˜¯ sqliteï¼Œè¿™ä¸ªä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿æµ‹è¯•ï¼Œä¸éœ€è¦é¢å¤–çš„é…ç½®å³å¯å¯åŠ¨ airflowã€‚ä½†æ˜¯è¿™ç§æƒ…å†µä¸‹ï¼Œåªèƒ½ä½¿ç”¨ SequencialOperatorï¼Œæ— æ³•å®ç°å¹¶è¡ŒåŒ–ï¼Œå› æ­¤å®˜æ–¹ä¸æ¨èã€‚ æˆ‘ä»¬å¯ä»¥ä¿®æ”¹æ•°æ®åº“ä¸º Postgre æˆ–è€… MySQlï¼Œè¿›è¡Œå®ç°å¹¶è¡ŒåŒ–ã€‚ ","date":"2023-04-25","objectID":"/2023-04-25-airflow-%E8%BF%90%E7%BB%B4/:4:0","tags":["linux","airflow","workflow","ops","devops"],"title":"airflow è¿ç»´","uri":"/2023-04-25-airflow-%E8%BF%90%E7%BB%B4/"},{"categories":["tools"],"content":" MySQL","date":"2023-04-25","objectID":"/2023-04-25-airflow-%E8%BF%90%E7%BB%B4/:4:1","tags":["linux","airflow","workflow","ops","devops"],"title":"airflow è¿ç»´","uri":"/2023-04-25-airflow-%E8%BF%90%E7%BB%B4/"},{"categories":["tools"],"content":" MariaDB ## éœ€è¦è¿™ä¸ª so æ”¾åœ¨ /app libmysqlclient.so.18 setenforce 0 getenforce vim /etc/selinux/config SELINUX=disabled # This file controls the state of SELinux on the system. # SELINUX= can take one of these three values: # enforcing - SELinux security policy is enforced. # permissive - SELinux prints warnings instead of enforcing. # disabled - No SELinux policy is loaded. SELINUX=disabled # SELINUXTYPE= can take one of three two values: # targeted - Targeted processes are protected, # minimum - Modification of targeted policy. Only selected processes are protected. # mls - Multi Level Security protection. SELINUXTYPE=targeted sudo rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022 sudo yum localinstall -y https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm sudo yum install -y mysql-community-server sudo systemctl start mysqld ## é¦–æ¬¡å®‰è£…çš„å¯†ç  grep \"temporary password\" /var/log/mysqld.log ## å¦‚æœåŠæ³•ç™»å½• ## åˆ™ä½¿ç”¨ä¸€ä¸‹æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥ mysql -u root -p ä¸ç”¨è¾“ç§˜å¯† Open and edit /etc/my.cnf or /etc/mysql/my.cnf, depending on your distribution. Add skip-grant-tables under [mysqld] Restart MySQL You should be able to log in to MySQL now using the below command mysql -u root -p Run mysql\u003e flush privileges; Set new password by ALTER USER 'root'@'localhost' IDENTIFIED BY 'NewPassword'; Go back to /etc/my.cnf and remove/comment skip-grant-tables Restart MySQL Now you will be able to login with the new password mysql -u root -p ## æŠ¥é”™ï¼šYour password does not satisfy the current policy requirements mysql\u003e SHOW VARIABLES LIKE 'validate_password%'; +--------------------------------------+--------+ | Variable_name | Value | +--------------------------------------+--------+ | validate_password_check_user_name | OFF | | validate_password_dictionary_file | | | validate_password_length | 8 | | validate_password_mixed_case_count | 1 | | validate_password_number_count | 1 | | validate_password_policy | MEDIUM | | validate_password_special_char_count | 1 | +--------------------------------------+--------+ 7 rows in set (0.00 sec) mysql\u003e SET GLOBAL validate_password_length = 6; mysql\u003e SET GLOBAL validate_password_policy = LOW; mysql -uroot -p CREATE DATABASE IF NOT EXISTS airflow DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci; create user 'airflow'@'%' identified by 'xxxxxxxx'; grant all privileges on airflow.* to airflow@localhost identified by 'xxxxxxxx'; grant all privileges on airflow.* to 'airflow'@'%' identified by 'xxxxxxxx'; flush privileges; select user,authentication_string,host from mysql.user; +---------------+-------------------------------------------+-----------+ | user | authentication_string | host | +---------------+-------------------------------------------+-----------+ | root | *51F9815BB277B91759503A29D46EC9364D361F1C | localhost | | mysql.session | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | localhost | | mysql.sys | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | localhost | | airflow | *51F9815BB277B91759503A29D46EC9364D361F1C | % | +---------------+-------------------------------------------+-----------+ 4 rows in set (0.00 sec) executor = LocalExecutor sql_alchemy_conn = mysql://airflow:xxxxxxxx@localhost:3306/airflow?charset=utf8 #åˆå§‹åŒ–æ•°æ®åº“ #å¦‚æœå‰é¢çš„ä¸¤ä¸ªutf8æ²¡å†™å¥½ï¼Œå¯èƒ½ä¼šå‡ºç°/airflow/lib/python3.7/encodings/cp1252.pyé”™è¯¯ # è‹¥ä¹‹å‰ä½¿ç”¨sqlliteåˆå§‹åŒ–è¿‡,éœ€è¦ # é‡ç½®æ•°æ®åº“ airflow db reset # åˆå§‹åŒ–æ•°æ®åº“ airflow db init ## 1067 - Invalid default value for â€˜update_atâ€˜ ## MySQLdb.OperationalError: (1067, \"Invalid default value for 'updated_at'\") set GLOBAL sql_mode ='STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' Ref","date":"2023-04-25","objectID":"/2023-04-25-airflow-%E8%BF%90%E7%BB%B4/:5:0","tags":["linux","airflow","workflow","ops","devops"],"title":"airflow è¿ç»´","uri":"/2023-04-25-airflow-%E8%BF%90%E7%BB%B4/"},{"categories":[],"content":" yum remove nginx-mod* yum install nginx-mod* yum install nginx systemctl enable nginx systemctl start nginx ","date":"2023-04-25","objectID":"/2023-04-25-nginx-%E9%83%A8%E7%BD%B2%E5%B0%8F%E8%AE%B0/:0:0","tags":[],"title":"nginx éƒ¨ç½²å°è®°","uri":"/2023-04-25-nginx-%E9%83%A8%E7%BD%B2%E5%B0%8F%E8%AE%B0/"},{"categories":["tools"],"content":"æ€»ç»“ä¸€ä¸‹ tmux çš„ä½¿ç”¨æŠ€å·§ä¸ç›¸å…³é…ç½®ã€‚ ","date":"2023-04-17","objectID":"/2023-04-17-tmux-%E5%B0%8F%E6%8A%80%E5%B7%A7/:0:0","tags":["tmux"],"title":"tmux å°æŠ€å·§","uri":"/2023-04-17-tmux-%E5%B0%8F%E6%8A%80%E5%B7%A7/"},{"categories":["tools"],"content":" é…ç½®","date":"2023-04-17","objectID":"/2023-04-17-tmux-%E5%B0%8F%E6%8A%80%E5%B7%A7/:1:0","tags":["tmux"],"title":"tmux å°æŠ€å·§","uri":"/2023-04-17-tmux-%E5%B0%8F%E6%8A%80%E5%B7%A7/"},{"categories":["tools"],"content":" tmux3 ç‰¹åˆ«æ³¨æ„æ³¨æ„ï¼Œåƒä¸‡ä¸€å®šè¦æŠŠ set -g @split-statusbar-mode 'off' set -g @plugin 'charlietag/tmux-split-statusbar' run-shell /home/william/.tmux/plugins/tmux-split-statusbar/tmux-split-statusbar.tmux set -g @plugin 'charlietag/tmux-split-statusbar' set -g @split-statusbar-mode 'off' # [ on | off] set -g @split-statusbar-bindkey '-n F11' # [ M-s | -n F11 | ... ] # bindkey for toggle statusbar-mode # define yourself just like bind-key, default: M-s set -g @split-status-hide-bindkey '-n F12' # [ M-d | -n F12 | ... ] # bindkey for status-left / status-right hiding # define yourself just like bind-key, default: M-d ## ============================================================================= set -g pane-border-status bottom ## åªæ˜¾ç¤ºç®€å•çš„æ­£åœ¨è¿è¡Œå‘½ä»¤ # set -g pane-border-format \"#P #T #{pane_current_command} \" ## æ˜¾ç¤ºæ­£åœ¨è¿è¡Œçš„å‘½ä»¤æ‰€æœ‰å‚æ•° # set -g pane-border-format '#(ps --no-headers -t #{pane_tty} -o args -O-c)' set -g pane-border-format '#P #T #(ps --no-headers -t #{pane_tty} -o args -O-c) \u003e' ","date":"2023-04-17","objectID":"/2023-04-17-tmux-%E5%B0%8F%E6%8A%80%E5%B7%A7/:1:1","tags":["tmux"],"title":"tmux å°æŠ€å·§","uri":"/2023-04-17-tmux-%E5%B0%8F%E6%8A%80%E5%B7%A7/"},{"categories":["tools"],"content":" å¿«æ·é”®è®¾ç½® prefix-s: å¿«é€Ÿåˆ‡æ¢ sessions ## switch between sessoin bind-key s choose-session prefix-o: å¿«é€Ÿé‡å‘½å panel ## rename-window bind-key o command-prompt -I \"#W\" \"rename-window '%%'\" prefix-f: è°ƒç”¨ fzf å¿«é€ŸæŸ¥æ‰¾ panel, éœ€è¦å…³é—­åŸæ¥çš„ tmux-fzf, å‚è€ƒï¼štmux and fzf: fuzzy tmux session/window/pane switcher å»ºç«‹ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ #!/bin/bash # customizable LIST_DATA=\"#{window_name} #{pane_title} #{pane_current_path} #{pane_current_command}\" FZF_COMMAND=\"fzf-tmux -p --delimiter=: --with-nth 4 --color=hl:2\" # do not change TARGET_SPEC=\"#{session_name}:#{window_id}:#{pane_id}:\" # select pane LINE=$(tmux list-panes -a -F \"$TARGET_SPEC $LIST_DATA\" | $FZF_COMMAND) || exit 0 # split the result args=(${LINE//:/ }) # activate session/window/pane tmux select-pane -t ${args[2]} \u0026\u0026 tmux select-window -t ${args[1]} \u0026\u0026 tmux switch-client -t ${args[0]} åœ¨ .tmux.conf é…ç½® ## fzf # set -g @plugin 'sainnhe/tmux-fzf' ## prefix-f # TMUX_FZF_LAUNCH_KEY=\"f\" # TMUX_FZF_ORDER=\"session|window|pane|command|keybinding|clipboard|process\" ## menu # TMUX_FZF_MENU=\\ # \"foo\\necho 'Hello!'\\n\"\\ # \"bar\\nls ~\\n\"\\ # \"sh\\nsh ~/test.sh\\n\" bind-key f run-shell -b /home/william/.tmux/tmux-switch-pane.sh ","date":"2023-04-17","objectID":"/2023-04-17-tmux-%E5%B0%8F%E6%8A%80%E5%B7%A7/:2:0","tags":["tmux"],"title":"tmux å°æŠ€å·§","uri":"/2023-04-17-tmux-%E5%B0%8F%E6%8A%80%E5%B7%A7/"},{"categories":["tools"],"content":" é…ç½®","date":"2023-04-16","objectID":"/2023-04-16-fzf-%E9%85%8D%E7%BD%AE%E6%8C%87%E5%8D%97/:1:0","tags":["fzf","zsh","tmux","vim"],"title":"fzf é…ç½®æŒ‡å—","uri":"/2023-04-16-fzf-%E9%85%8D%E7%BD%AE%E6%8C%87%E5%8D%97/"},{"categories":["tools"],"content":" å¿«æ·é”® ctr-n å‘ä¸‹ç§»åŠ¨ ctr-p å‘ä¸Šç§»åŠ¨ tmux zsh ctr-t ctr-r alt-c vim vim ** \u003ctab\u003e: è¿›å…¥æ¨¡ç³ŠåŒ¹é… ;ff \"fzf \" This is the default option: \" - Preview window on the right with 50% width \" - CTRL-/ will toggle preview window. \" - Note that this array is passed as arguments to fzf#vim#with_preview function. \" - To learn more about preview window options, see `--preview-window` section of `man fzf`. let g:fzf_preview_window = ['right:50%', 'ctrl-/'] \" Preview window on the upper side of the window with 40% height, \" hidden by default, ctrl-/ to toggle let g:fzf_preview_window = ['up:40%:hidden', 'ctrl-/'] \" Empty value to disable preview window altogether let g:fzf_preview_window = [] \" [Buffers] Jump to the existing window if possible let g:fzf_buffers_jump = 1 \" [[B]Commits] Customize the options used by 'git log': let g:fzf_commits_log_options = '--graph --color=always --format=\"%C(auto)%h%d %s %C(black)%C(bold)%cr\"' \" [Tags] Command to generate tags file let g:fzf_tags_command = 'ctags -R' \" [Commands] --expect expression for directly executing the command let g:fzf_commands_expect = 'alt-enter,ctrl-x' \" Mapping selecting mappings nmap \u003cleader\u003e\u003ctab\u003e \u003cplug\u003e(fzf-maps-n) xmap \u003cleader\u003e\u003ctab\u003e \u003cplug\u003e(fzf-maps-x) omap \u003cleader\u003e\u003ctab\u003e \u003cplug\u003e(fzf-maps-o) nmap \u003cC-p\u003e :Files\u003cCR\u003e nmap \u003cC-e\u003e :Buffers\u003cCR\u003e nmap \u003cleader\u003eff :Files\u003cCR\u003e let g:fzf_action = { 'ctrl-e': 'edit' } \" Insert mode completion imap \u003cc-x\u003e\u003cc-k\u003e \u003cplug\u003e(fzf-complete-word) imap \u003cc-x\u003e\u003cc-f\u003e \u003cplug\u003e(fzf-complete-path) imap \u003cc-x\u003e\u003cc-l\u003e \u003cplug\u003e(fzf-complete-line) \" call fzf ","date":"2023-04-16","objectID":"/2023-04-16-fzf-%E9%85%8D%E7%BD%AE%E6%8C%87%E5%8D%97/:1:1","tags":["fzf","zsh","tmux","vim"],"title":"fzf é…ç½®æŒ‡å—","uri":"/2023-04-16-fzf-%E9%85%8D%E7%BD%AE%E6%8C%87%E5%8D%97/"},{"categories":["tools"],"content":" é¢„è§ˆçª—å£ ## install highlight sudo apt-get install highlight antigen bundle unixorn/fzf-zsh-plugin@main export FZF_DEFAULT_COMMAND=\"--exclude={.git,.idea,.vscode,.sass-cache,node_modules,build}\" export FZF_DEFAULT_OPTS=\"--height 40% --layout=reverse --preview '(highlight -O ansi {} || cat {}) 2\u003e /dev/null | head -500'\" ","date":"2023-04-16","objectID":"/2023-04-16-fzf-%E9%85%8D%E7%BD%AE%E6%8C%87%E5%8D%97/:1:2","tags":["fzf","zsh","tmux","vim"],"title":"fzf é…ç½®æŒ‡å—","uri":"/2023-04-16-fzf-%E9%85%8D%E7%BD%AE%E6%8C%87%E5%8D%97/"},{"categories":["tools"],"content":"C++ Core Guidelines git é¡¹ç›®ç¼–è¯‘æˆ pdf æ–‡ä»¶ã€‚ git clone https://github.com/isocpp/CppCoreGuidelines.git cd CppCoreGuidelines pandoc CppCoreGuidelines.md -f markdown -t epub3 -s -o CppCoreGuidelines.epub pandoc CppCoreGuidelines.md -f markdown -t latex -s -o CppCoreGuidelines.pdf ","date":"2023-04-16","objectID":"/2023-04-16-c-core-guidelines/:0:0","tags":["c++","core","guide"],"title":"c++ core guidelines","uri":"/2023-04-16-c-core-guidelines/"},{"categories":["tools"],"content":"å®ç°åœ¨ tmux å¯¹çª—å£çš„é‡å‘½å ä½¿ç”¨å¿«æ·é”®prefix + :(shift+,), è¾“å…¥rename-window \u003cnew-name\u003e ç»‘å®šä¸€ä¸ªæ–°çš„å¿«æ·é”®æ¥æ“ä½œï¼šprefix+o bind-key o command-prompt -I \"#W\" \"rename-window '%%'\" ","date":"2023-04-15","objectID":"/2023-04-15-tmux-%E7%AA%97%E5%8F%A3%E9%87%8D%E5%91%BD%E5%90%8D-rename-window/:0:0","tags":["tmux","rename","window"],"title":"tmux çª—å£é‡å‘½å:rename window","uri":"/2023-04-15-tmux-%E7%AA%97%E5%8F%A3%E9%87%8D%E5%91%BD%E5%90%8D-rename-window/"},{"categories":["tools"],"content":"ç”³ä¸‡è¡Œä¸šåˆ†ç±»ä½œä¸ºå›½å†…æ¯”è¾ƒæƒå¨çš„Aè‚¡åˆ†ç±»æ ‡å‡†ï¼Œå¯¹äºç ”ç©¶è‚¡ç¥¨å…·æœ‰é‡è¦çš„å‚è€ƒä»·å€¼ã€‚æˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼Œç›®å‰å¸‚é¢ä¸Šï¼ˆè‡³å°‘å…è´¹å±‚é¢ï¼‰æ²¡æœ‰ä¸€ä¸ªç›¸å¯¹å®Œå–„ã€å®Œæ•´çš„å†å²æ•°æ®ä¸æ¯æ—¥æ›´æ–°æ•°æ®ã€‚ å·ç§°å›½å†…æ•°æ®ä¹‹ç‹çš„ä¸‡å¾—ï¼Œä¸€æ–¹é¢å¯¹äºç”¨æˆ·æå–çš„æ•°æ®é‡æœ‰ä¸¥æ ¼çš„é™åˆ¶ï¼Œè¿™å¯¼è‡´æˆ‘ä»¬åœ¨å¤åŸå†å²æ•°æ®çš„è¿‡ç¨‹ç»å¸¸ä¼šè§¦å‘é˜ˆå€¼ï¼›å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬å‘ç°ä¸‡å¾—ä¼šç¡®å®éƒ¨åˆ†æ•°æ®ï¼Œä»¥åŠå­˜åœ¨è‡­åæ˜­è‘—çš„è„æ•°æ®é—®é¢˜ã€‚æ¯”å¦‚ï¼Œä¸‡å¾—ç”±äºæˆæƒåŸå› ï¼Œæ— æ³•æä¾›ä¸Šäº¤æ‰€ç§‘åˆ›æ¿è‚¡ç¥¨çš„ç”³ä¸‡è¡Œä¸šåˆ†ç±»æ•°æ®ï¼›å†æ¯”å¦‚ï¼Œè¿™ä¸ªç¥¨ 000008.SZï¼Œæˆ‘ä»¬é€šè¿‡ç”³ä¸‡ç½‘ç«™æŸ¥è¯¢è¯¥ç¥¨çš„å†å²å˜æ›´æƒ…å†µï¼š å¯ä»¥æŸ¥è¯¢åˆ°è¯¥ç¥¨å…¶å®åº”è¯¥æ•°æ®æœºæ¢°è®¾å¤‡ï¼Œç›¸åº”çš„ç”³ä¸‡è¡Œä¸šä»£ç ä¸º 801890.SIï¼Œä½†æ˜¯ä¸‡å¾—ç«Ÿç„¶æ ‡æ³¨ä¸º 801050.SIã€‚ è€Œæ ¹æ®ã€Šç”³ä¸‡è¡Œä¸šåˆ†ç±»2014æ ‡å‡†ã€‹è¿™ä¸ªä»£ç å¯¹åº”çš„è¡Œä¸šæ˜¯ æœ‰è‰²é‡‘å±ï¼Œç®€å•æŸ¥è¯¢è¿™ä¸ªè‚¡ç¥¨å³å¯ä»¥è¿™ä¸ªå®Œå…¨æ²¡æœ‰æ¶‰åŠé‡‘å±ä¸šåŠ¡ï¼Œæ˜æ˜¾å­˜åœ¨æ•°æ®é”™è¯¯ã€‚ æˆ‘ä»¬ä¹‹å‰ä¾èµ–ä¸€ä¸ª HF çš„ stock.industry æ•°æ®åº“ï¼Œåé¢å‘ç°è¿™ä¸ªä¹Ÿæ˜¯å®Œå…¨çæ‰¯ï¼Œä»–ä»¬ç›´æ¥åˆ©ç”¨ç°åœ¨çš„è¡Œä¸šä»£ç å»æ›´æ–°å†å²çš„æ•°æ®ï¼Œæ²¡æœ‰è€ƒè™‘è¿™ä¸ªç¥¨åœ¨å†å²å¯èƒ½å­˜åœ¨çš„ä¸»è¥ä¸šåŠ¡å‘ç”Ÿå˜åŒ–ã€æˆ–è€…äº§ç”Ÿäº†é‡ç»„ï¼Œç”³ä¸‡ä¼šç›¸åº”çš„è°ƒæ•´è¡Œä¸šåˆ†ç±»ã€‚ å¦‚ä½•æ‰¾æ€è·¯æœ€ç®€å•çš„æ€è·¯æ˜¯ï¼šå»ç”³ä¸‡å®˜ç½‘æŸ¥çœ‹æ˜¯å¦æä¾›å†å²æ•°æ®ã€‚ä¸è¿‡å¾ˆé—æ†¾ï¼Œè¿™ä¸ªæ•°æ®å…¶å®ç®—æ”¶è´¹é¡¹ç›®ï¼Œå¯¹æ–¹å¹¶ä¸æä¾›å†å²çš„è¡Œä¸šåˆ†ç±»æ•°æ®ã€‚ ","date":"2023-04-15","objectID":"/2023-04-15-%E5%A6%82%E4%BD%95%E5%BE%92%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AA%E7%94%B3%E4%B8%87%E8%A1%8C%E4%B8%9A%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE/:0:0","tags":["ç”³ä¸‡","è¡Œä¸š","åˆ†ç±»","ä¸€çº§","æŒ‡æ•°","ä¸‡å¾—","sw","industry"],"title":"å¦‚ä½•å¾’æ‰‹å†™ä¸€ä¸ªç”³ä¸‡è¡Œä¸šåˆ†ç±»æ•°æ®","uri":"/2023-04-15-%E5%A6%82%E4%BD%95%E5%BE%92%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AA%E7%94%B3%E4%B8%87%E8%A1%8C%E4%B8%9A%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE/"},{"categories":["tools"],"content":" æŠ€å¤šä¸å‹èº«å‡¡äº‹éš¾ä¸å€’ä¸€ä¸ªä¼šçˆ¬è™«çš„å¼€å‘ï¼Œæˆ‘æŸ¥çœ‹å‘ç°ç”³ä¸‡ç½‘ç«™æä¾›äº†è‚¡ç¥¨å†å²çš„åˆ†ç±»è®°å½•ï¼Œå¯ä»¥é€šè¿‡è¯¥è®°å½•æ¡æ¬¾ï¼Œé€ä¸€åœ°æŠŠå†å²çš„åˆ†ç±»æ•°æ®è¿˜åŸã€‚ ä¸‹è½½å¾—åˆ°çš„æ•°æ®æ˜¯è¿™æ ·çš„ï¼š ","date":"2023-04-15","objectID":"/2023-04-15-%E5%A6%82%E4%BD%95%E5%BE%92%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AA%E7%94%B3%E4%B8%87%E8%A1%8C%E4%B8%9A%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE/:1:0","tags":["ç”³ä¸‡","è¡Œä¸š","åˆ†ç±»","ä¸€çº§","æŒ‡æ•°","ä¸‡å¾—","sw","industry"],"title":"å¦‚ä½•å¾’æ‰‹å†™ä¸€ä¸ªç”³ä¸‡è¡Œä¸šåˆ†ç±»æ•°æ®","uri":"/2023-04-15-%E5%A6%82%E4%BD%95%E5%BE%92%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AA%E7%94%B3%E4%B8%87%E8%A1%8C%E4%B8%9A%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE/"},{"categories":["tools"],"content":" çŠ¹æŠ±çµç¶åŠé®é¢æŸ¥çœ‹ä¸Šé¢çš„æ•°æ®ï¼Œæˆ‘ä»¬å‘ç°ç”³ä¸‡åªæä¾›äº†å†…éƒ¨çš„è¡Œä¸šä»£ç ï¼ˆå¦‚ 000001.SZ æœ€è¿‘çš„è¡Œä¸šä»£ç æ˜¯ 480301ï¼Œè¿™ä¸ªè¡¨ç¤ºï¼š ä¸€çº§è¡Œä¸šåˆ†ç±»æ˜¯é“¶è¡Œ äºŒçº§è¡Œä¸šåˆ†ç±»æ˜¯è‚¡ä»½åˆ¶é“¶è¡ŒII ä¸‰çº§è¡Œä¸šåˆ†ç±»æ˜¯è‚¡ä»½åˆ¶é“¶è¡ŒIII ç°åœ¨æœ‰ç‚¹éº»çƒ¦çš„æ˜¯ï¼Œç ”ç©¶å‘˜å¸Œæœ›æˆ‘ä»¬æä¾›å¯¹åº”çš„ç”³ä¸‡æŒ‡æ•°ä»£ç ï¼Œå³æˆ‘ä»¬ç»å¸¸çœ‹åˆ°çš„ 801780.SI(ä¸€çº§è¡Œä¸šä»£ç )ã€‚ ç›®å‰çš„æƒ…å†µæ˜¯ï¼Œæˆ‘ä»¬å·²ç»å¾—åˆ°ç”³ä¸‡å†…éƒ¨çš„ä¸€ä¸ªè¡Œä¸šä»£ç ï¼Œéœ€è¦å°†å…¶æ˜ å°„åˆ°å¤–éƒ¨å¸¸ç”¨çš„ç”³ä¸‡æŒ‡æ•°ä»£ç ã€‚è¿™ä¸ªè‚¯å®šéœ€è¦ä»å…¶ä»–åœ°æ–¹è·å–ç›¸å…³çš„ä¿¡æ¯ã€‚ ","date":"2023-04-15","objectID":"/2023-04-15-%E5%A6%82%E4%BD%95%E5%BE%92%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AA%E7%94%B3%E4%B8%87%E8%A1%8C%E4%B8%9A%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE/:2:0","tags":["ç”³ä¸‡","è¡Œä¸š","åˆ†ç±»","ä¸€çº§","æŒ‡æ•°","ä¸‡å¾—","sw","industry"],"title":"å¦‚ä½•å¾’æ‰‹å†™ä¸€ä¸ªç”³ä¸‡è¡Œä¸šåˆ†ç±»æ•°æ®","uri":"/2023-04-15-%E5%A6%82%E4%BD%95%E5%BE%92%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AA%E7%94%B3%E4%B8%87%E8%A1%8C%E4%B8%9A%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE/"},{"categories":["tools"],"content":" æŸ³æš—èŠ±æ˜åˆä¸€æ‘è¿™æ—¶å€™éœ€è¦ç”¨æ¢¯å­æŸ¥æ‰¾ä¿¡æ¯äº†ã€‚ç»è¿‡ä¸€ç•ªæ‘¸é±¼åï¼Œå‘ç°å‡ ä¸ªå®è´ç©æ„ï¼š ç”³ä¸‡åˆ†åˆ«åœ¨ 2011ã€2014ã€2021 å‘ç°äº†ä¸‰ä»½ç ”ç©¶æŠ¥å‘Šï¼Œä»‹ç»äº†ç”³ä¸‡è¡Œä¸šæŒ‡æ•°çš„ç¼–åˆ¶è§„åˆ™ä¸è°ƒæ•´è¯´æ˜ å…¶ä¸­ 2011ã€2014 çš„ä¸¤ä»½æŠ¥å‘Šä¸­ï¼Œæœ‰æ˜ç¡®è¯´æ˜å†…éƒ¨è¡Œä¸šä»£ç ä¸å¯¹åº”çš„æŒ‡æ•°ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªä¿¡æ¯åšä¸€ä¸ªæ˜ å°„ è€Œåœ¨ 2021 çš„è¿™ä»½æ•°æ®ï¼Œåˆ™æ²¡æœ‰å¯¹ç…§è¡¨ï¼Œæˆ‘å‘ç°èšå®½æä¾›äº†ä¸€ä»½è¡Œä¸šåç§°ä¸æŒ‡æ•°ä»£ç çš„å¯¹ç…§è¡¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é€šè¿‡åç§°æ‰¾åˆ°å¯¹åº”çš„æŒ‡æ•°ä»£ç  ç›®å‰çœ‹ï¼Œé£Ÿæéƒ½å·²å°±ç»ªã€‚ å¦‚ä½•æ¸…æ´—æ•°æ®","date":"2023-04-15","objectID":"/2023-04-15-%E5%A6%82%E4%BD%95%E5%BE%92%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AA%E7%94%B3%E4%B8%87%E8%A1%8C%E4%B8%9A%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE/:3:0","tags":["ç”³ä¸‡","è¡Œä¸š","åˆ†ç±»","ä¸€çº§","æŒ‡æ•°","ä¸‡å¾—","sw","industry"],"title":"å¦‚ä½•å¾’æ‰‹å†™ä¸€ä¸ªç”³ä¸‡è¡Œä¸šåˆ†ç±»æ•°æ®","uri":"/2023-04-15-%E5%A6%82%E4%BD%95%E5%BE%92%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AA%E7%94%B3%E4%B8%87%E8%A1%8C%E4%B8%9A%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE/"},{"categories":["tools"],"content":" å»è¯» pdf æ•°æ®","date":"2023-04-15","objectID":"/2023-04-15-%E5%A6%82%E4%BD%95%E5%BE%92%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AA%E7%94%B3%E4%B8%87%E8%A1%8C%E4%B8%9A%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE/:4:0","tags":["ç”³ä¸‡","è¡Œä¸š","åˆ†ç±»","ä¸€çº§","æŒ‡æ•°","ä¸‡å¾—","sw","industry"],"title":"å¦‚ä½•å¾’æ‰‹å†™ä¸€ä¸ªç”³ä¸‡è¡Œä¸šåˆ†ç±»æ•°æ®","uri":"/2023-04-15-%E5%A6%82%E4%BD%95%E5%BE%92%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AA%E7%94%B3%E4%B8%87%E8%A1%8C%E4%B8%9A%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE/"},{"categories":["tools"],"content":" æ¸…æ´—æ•°æ®","date":"2023-04-15","objectID":"/2023-04-15-%E5%A6%82%E4%BD%95%E5%BE%92%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AA%E7%94%B3%E4%B8%87%E8%A1%8C%E4%B8%9A%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE/:5:0","tags":["ç”³ä¸‡","è¡Œä¸š","åˆ†ç±»","ä¸€çº§","æŒ‡æ•°","ä¸‡å¾—","sw","industry"],"title":"å¦‚ä½•å¾’æ‰‹å†™ä¸€ä¸ªç”³ä¸‡è¡Œä¸šåˆ†ç±»æ•°æ®","uri":"/2023-04-15-%E5%A6%82%E4%BD%95%E5%BE%92%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AA%E7%94%B3%E4%B8%87%E8%A1%8C%E4%B8%9A%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE/"},{"categories":["tools"],"content":" ç”Ÿæˆç›®æ ‡æ•°æ® æ•°æ®å…¥åº“","date":"2023-04-15","objectID":"/2023-04-15-%E5%A6%82%E4%BD%95%E5%BE%92%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AA%E7%94%B3%E4%B8%87%E8%A1%8C%E4%B8%9A%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE/:6:0","tags":["ç”³ä¸‡","è¡Œä¸š","åˆ†ç±»","ä¸€çº§","æŒ‡æ•°","ä¸‡å¾—","sw","industry"],"title":"å¦‚ä½•å¾’æ‰‹å†™ä¸€ä¸ªç”³ä¸‡è¡Œä¸šåˆ†ç±»æ•°æ®","uri":"/2023-04-15-%E5%A6%82%E4%BD%95%E5%BE%92%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AA%E7%94%B3%E4%B8%87%E8%A1%8C%E4%B8%9A%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE/"},{"categories":["tools"],"content":" å¼€é€šä¼ä¸šå¾®ä¿¡åº”ç”¨ ç™»å½•ä¼ä¸šå¾®ä¿¡ç½‘ç«™:https://work.weixin.qq.com/ â€˜åº”ç”¨ç®¡ç† -\u003e (è‡ªå»º)åˆ›å»ºåº”ç”¨â€™, é…ç½®ç›¸å…³çš„åº”ç”¨åç§° æŸ¥çœ‹åº”ç”¨çš„ AgentID, Secret è®¾ç½®\"ä¼ä¸šå¯ä¿¡IP\" â€œæ¥æ”¶æ¶ˆæ¯â€(ä¸»è¦ç”¨äºæ¥æ”¶æ¥è‡ªä¼ä¸šå¾®ä¿¡çš„ä¿¡æ¯,ç„¶åè½¬å‘åˆ°æˆ‘ä»¬è‡ªå·±çš„æœåŠ¡å™¨) è®°ä½ä¸Šé¢çš„ Token, EncodingAESKey, URL æš‚æ—¶å…ˆä¸ç”¨å¡«(å…ˆæµ‹è¯•,åé¢å†è¡¥å……) ","date":"2023-04-04","objectID":"/2023-04-04-%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%9C%BA%E5%99%A8%E4%BA%BA/:0:0","tags":["ä¼ä¸šå¾®ä¿¡","chat-gpt","python","ngix"],"title":"ä¼ä¸šå¾®ä¿¡æœºå™¨äºº","uri":"/2023-04-04-%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%9C%BA%E5%99%A8%E4%BA%BA/"},{"categories":["tools"],"content":" å¯åŠ¨æœåŠ¡ ~/anaconda3/bin/python web.py -p=5000 -t=\"\u003cåº”ç”¨ä¸Šé¢çš„Token\u003e\" -a=\"\u003cåº”ç”¨ä¸Šé¢çš„EncodingAESKey\u003e\" -c=\"\u003cä¼ä¸šCorpID\u003e\" å¯ä»¥æµ‹è¯•ä¸€ä¸‹ curl http://127.0.0.1:5000 {\"detail\":[{\"loc\":[\"query\",\"msg_signature\"],\"msg\":\"field required\",\"type\":\"value_error.missing\"},{\"loc\":[\"query\",\"timestamp\"],\"msg\":\"field required\",\"type\":\"value_error.missing\"},{\"loc\":[\"query\",\"nonce\"],\"msg\":\"field required\",\"type\":\"value_error.missing\"},{\"loc\":[\"query\",\"echostr\"],\"msg\":\"field required\",\"type\":\"value_error.missing\"}]} ","date":"2023-04-04","objectID":"/2023-04-04-%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%9C%BA%E5%99%A8%E4%BA%BA/:1:0","tags":["ä¼ä¸šå¾®ä¿¡","chat-gpt","python","ngix"],"title":"ä¼ä¸šå¾®ä¿¡æœºå™¨äºº","uri":"/2023-04-04-%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%9C%BA%E5%99%A8%E4%BA%BA/"},{"categories":["tools"],"content":" å¼€é€š nginx å¤–éƒ¨è®¿é—® åœ¨é˜¿é‡Œäº‘å¼€é€šç›¸å…³çš„ç«¯å£ 5000 é˜²ç«å¢™æ‰“å¼€ systemctl restart firewalld.service firewall-cmd --zone=public --add-port=5000/tcp --permanent systemctl stop firewalld.service ä¿®æ”¹ nginx.conf æœ‰å¯èƒ½æ˜¯ sudo vim /etc/nginx/nginx.conf server { listen 80; location /wechat { proxy_set_header X-Real-IP $remote_addr; proxy_set_header Host $http_host; proxy_pass http://127.0.0.1:5000; } } server { listen 80; server_name robot.wuyacapital.com; location / { proxy_set_header X-Real-IP $remote_addr; proxy_set_header Host $http_host; proxy_pass http://127.0.0.1:4000; } } ","date":"2023-04-04","objectID":"/2023-04-04-%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%9C%BA%E5%99%A8%E4%BA%BA/:2:0","tags":["ä¼ä¸šå¾®ä¿¡","chat-gpt","python","ngix"],"title":"ä¼ä¸šå¾®ä¿¡æœºå™¨äºº","uri":"/2023-04-04-%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%9C%BA%E5%99%A8%E4%BA%BA/"},{"categories":["tools"],"content":" ä¼ä¸šå¾®ä¿¡å›è°ƒæµ‹è¯•æ‰“å¼€ç½‘é¡µ:https://open.work.weixin.qq.com/wwopen/devtool/interface/combine, â€œå»ºç«‹è¿æ¥ -\u003e æµ‹è¯•å›è°ƒæ¨¡å¼â€ URL: http://47.98.117.71:5000 URL: http://robot.wuyacapital.com \u003cè¿™ä¸ªæ²¡æœ‰å›æ–‡ä¹Ÿæ²¡é—®é¢˜\u003e Token: \u003cToken\u003e EncodingAESKey: \u003cEncodingAESKey\u003e EchoStr: 123456 ToUserName: \u003ccorpid\u003e ","date":"2023-04-04","objectID":"/2023-04-04-%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%9C%BA%E5%99%A8%E4%BA%BA/:3:0","tags":["ä¼ä¸šå¾®ä¿¡","chat-gpt","python","ngix"],"title":"ä¼ä¸šå¾®ä¿¡æœºå™¨äºº","uri":"/2023-04-04-%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%9C%BA%E5%99%A8%E4%BA%BA/"},{"categories":["tools"],"content":" è¡¥å……åº”ç”¨ URLå³æŠŠä¸Šé¢æµ‹è¯•é€šè¿‡çš„ URL å¡«å…¥å³å¯ ","date":"2023-04-04","objectID":"/2023-04-04-%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%9C%BA%E5%99%A8%E4%BA%BA/:4:0","tags":["ä¼ä¸šå¾®ä¿¡","chat-gpt","python","ngix"],"title":"ä¼ä¸šå¾®ä¿¡æœºå™¨äºº","uri":"/2023-04-04-%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%9C%BA%E5%99%A8%E4%BA%BA/"},{"categories":["tools"],"content":"ä½¿ç”¨ python æ¥å£è°ƒç”¨ openapi chatgptã€‚ æ³¨å†Œ OpenAI è´¦æˆ·","date":"2023-04-02","objectID":"/2023-04-02-python-openapi-chatgpt/:0:0","tags":["python","openapi","chatgpt"],"title":"Python openapi+ChatGPT","uri":"/2023-04-02-python-openapi-chatgpt/"},{"categories":["tools"],"content":" ä½¿ç”¨ LA VPNï¼ˆä¸èƒ½ç”¨é¦™æ¸¯VPNï¼‰","date":"2023-04-02","objectID":"/2023-04-02-python-openapi-chatgpt/:1:0","tags":["python","openapi","chatgpt"],"title":"Python openapi+ChatGPT","uri":"/2023-04-02-python-openapi-chatgpt/"},{"categories":["tools"],"content":" ä½¿ç”¨ Google è´¦æˆ·","date":"2023-04-02","objectID":"/2023-04-02-python-openapi-chatgpt/:2:0","tags":["python","openapi","chatgpt"],"title":"Python openapi+ChatGPT","uri":"/2023-04-02-python-openapi-chatgpt/"},{"categories":["tools"],"content":" è·å– SMS ï¼ˆIndonesiaï¼‰Ref: https://sms-activate.org/getNumberã€‚æœ€ä½å……å€¼2åˆ€(å¯ä»¥ä½¿ç”¨æ”¯ä»˜å®)ã€‚ å·¦ä¾§é€‰æ‹© OpenAI -\u003e Indonesia -\u003e ç­‰å¾…çŸ­ä¿¡æ¶ˆæ¯ï¼Œ å¦‚æœä¸æˆåŠŸï¼Œå¯ä»¥ç‚¹å‡»å³ä¾§å…³é—­ï¼Œé‡æ–°æ›´æ–°æ‰‹æœºå·ï¼ˆä¸æ”¶é’±ï¼‰ã€‚ ","date":"2023-04-02","objectID":"/2023-04-02-python-openapi-chatgpt/:3:0","tags":["python","openapi","chatgpt"],"title":"Python openapi+ChatGPT","uri":"/2023-04-02-python-openapi-chatgpt/"},{"categories":["tools"],"content":" è·å– API-keyRef: https://platform.openai.com/account/api-keys ","date":"2023-04-02","objectID":"/2023-04-02-python-openapi-chatgpt/:4:0","tags":["python","openapi","chatgpt"],"title":"Python openapi+ChatGPT","uri":"/2023-04-02-python-openapi-chatgpt/"},{"categories":["tools"],"content":" Chrome å®‰è£…æ’ä»¶Ref: chrome-extension://jgjaeacdkonaoafenlfkkkmbaopkbilf/options.html python demoç›®å‰ç‰ˆæœ¬è¿˜åªèƒ½ä½¿ç”¨ model=\"gpt-3.5-turbo\", æ–°ç‰ˆæœ¬ gpt-4.0 éœ€è¦ç”³è¯· waiting-listã€‚ å¦å¤–ï¼Œè°ƒç”¨æ¥å£éœ€è¦æ¢¯å­ã€‚ ## ä»¥ä¸‹å‡éœ€è¦ä½¿ç”¨æ¢¯å­ p4 ~/anaconda3/bin/python3 -m pip install openai p4 ipython import os import openai openai.api_key = OPEN_API_KEY completion = openai.ChatCompletion.create( model=\"gpt-3.5-turbo\", messages=[ {\"role\": \"user\", \"content\": \"show me the futures of programming.\"} ] ) print(completion.choices[0].message.content) ","date":"2023-04-02","objectID":"/2023-04-02-python-openapi-chatgpt/:5:0","tags":["python","openapi","chatgpt"],"title":"Python openapi+ChatGPT","uri":"/2023-04-02-python-openapi-chatgpt/"},{"categories":["tools"],"content":"åœ¨ C++ ä¸­ï¼Œç”±äºå­˜åœ¨å¤šé‡ç»§æ‰¿çš„ç»“æ„ï¼Œå¾€å¾€ä¼šå¯¼è‡´ç¬¬ä¸‰å±‚ç»§æ‰¿ç±»ä¼šæ‹·è´é¡¶çº§çˆ¶ç±»çš„å¤šä¸ªæˆå‘˜å˜é‡ï¼Œè¿™å°†å¯¼è‡´è°ƒç”¨æˆå‘˜å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨ä¸çŸ¥é“éœ€è¦è°ƒç”¨å“ªä¸ªæˆå‘˜ï¼Œè¿›è€Œå¼•å‘ç¼–è¯‘é”™è¯¯ã€‚ å¤šé‡ç»§æ‰¿ ","date":"2023-04-01","objectID":"/2023-04-01-c-virtual-base-class/:0:0","tags":["C++","virtual","class"],"title":"C++ virtual base class","uri":"/2023-04-01-c-virtual-base-class/"},{"categories":["tools"],"content":" å­˜åœ¨å¤šä¸ªæˆå‘˜å˜é‡ #include \u003ccmath\u003e #include \u003ciostream\u003e class A { public: A() {} void echo() { std::cout \u003c\u003c \"a:\" \u003c\u003c a \u003c\u003c std::endl; } protected: int a {10}; }; class B: public A {}; class C: public A {}; class D: public B, public C {}; int main() { D d; d.echo(); return 0; } ","date":"2023-04-01","objectID":"/2023-04-01-c-virtual-base-class/:1:0","tags":["C++","virtual","class"],"title":"C++ virtual base class","uri":"/2023-04-01-c-virtual-base-class/"},{"categories":["tools"],"content":" virtual base classæˆ‘ä»¬éœ€è¦æŠŠ class B å’Œ class C å¯¹äº class A çš„ç»§æ‰¿ç”³æ˜ä¸º virtual base classï¼Œä½¿ç”¨å¯¹äºåŸºç±» class A çš„æˆå‘˜æ‹·è´åªæœ‰ä¸€ä»½ class A { public: A() {} void echo() { std::cout \u003c\u003c \"a:\" \u003c\u003c a \u003c\u003c std::endl; } protected: int a {10}; }; class B: public virtual A {}; class C: public virtual A {}; class D: public B, public C {}; Ref https://www.simplilearn.com/tutorials/cpp-tutorial/virtual-base-class-in-cpp ","date":"2023-04-01","objectID":"/2023-04-01-c-virtual-base-class/:2:0","tags":["C++","virtual","class"],"title":"C++ virtual base class","uri":"/2023-04-01-c-virtual-base-class/"},{"categories":["tools"],"content":"è§‚å¯Ÿåˆ° ssh ä¼šåœ¨ä¸€å®šæ—¶é—´çš„è¶…æ—¶åï¼Œè‡ªåŠ¨é€€å‡ºã€‚ timed out waiting for input: auto-logout æˆ‘å·²ç»æŠŠç›¸å…³çš„ ssh è®¾ç½®å¯¹æ ¸å¯¹è¿‡ï¼Œæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ å‚è€ƒè¿™ä¸ªåšå®¢ï¼šç»ˆç«¯ timed out waiting for input: auto-logout è§£å†³ åŸæ¥æ˜¯æœ‰ä¸€ä¸ª TIMEOUT çš„å‚æ•° echo $TIMEOUT 120 æ€ªä¸å¾—ä¼šè‡ªåŠ¨é€€å‡ºã€‚æ—¢ç„¶å¦‚æ­¤ï¼Œåˆ™æ”¹ä¹‹ã€‚ vim ~/.bashrc vim /etc/profile ## è®¾ç½®æˆ 0 å°±æ˜¯ä¸è¦è¶…æ—¶é€€å‡º export TIMEOUT=0 ","date":"2023-02-27","objectID":"/2023-02-27-ssh-auto-logout-%E8%87%AA%E5%8A%A8%E8%B6%85%E6%97%B6%E9%80%80%E5%87%BA/:0:0","tags":["ssh","auto","logout","timeout"],"title":"ssh auto logout è‡ªåŠ¨è¶…æ—¶é€€å‡º","uri":"/2023-02-27-ssh-auto-logout-%E8%87%AA%E5%8A%A8%E8%B6%85%E6%97%B6%E9%80%80%E5%87%BA/"},{"categories":["tools"],"content":"è¡Œæƒ…è°ƒä¼˜ å‚çœ‹é“¾æ¥ï¼šè¯åˆ¸è¡Œæƒ…æ¥æ”¶æ•ˆç‡è°ƒä¼˜å…¨æ”»ç•¥æ¥äº† éšç€æé€Ÿè¡Œæƒ…æ™®åŠï¼Œå®¢æˆ·æ¥æ”¶è¯åˆ¸è¡Œæƒ…æ—¶çš„ä¸€äº›é—®é¢˜ä¹Ÿå¼€å§‹æ˜¾ç°ã€‚æ¯”å¦‚ï¼Œå®¢æˆ·ä¸»æœºCPUé¢‘ç‡ä¸å¤Ÿï¼Œæ²¡æœ‰é‡‡ç”¨é«˜æ€§èƒ½çš„ç½‘å¡ï¼Œæ²¡æœ‰é…ç½®CPUç»‘æ ¸ï¼Œæ²¡æœ‰åšCPUçš„éš”ç¦»ç­‰ç­‰çš„é—®é¢˜éƒ½ä¼šå¼•èµ·å®¢æˆ·åœ¨æ¥æ”¶æé€Ÿè¡Œæƒ…æ—¶æ²¡æœ‰å¤„äºä¸€ç§è‰¯å¥½çš„çŠ¶æ€ï¼Œè€Œä¸è‰¯å¥½çš„æ¥æ”¶çŠ¶æ€ç›´æ¥å°±ä¼šå¼•èµ·å®¢æˆ·ç«¯æ¥æ”¶çš„ä¸¢åŒ…ã€‚ç››ç«‹ç§‘æŠ€é›†åˆè¿™äº›å¹´åœ¨æœåŠ¡å®¢æˆ·è¿‡ç¨‹ä¸­é‡åˆ°çš„ç›¸å…³é—®é¢˜ï¼Œå°†å…«å¹´è°ƒè¯•å¿ƒå¾—åšä¸€æ±‡æ€»ï¼Œå¹²è´§æ»¡æ»¡ï¼Œåœ¨æ­¤åˆ†äº«ç»™å¤§å®¶ä»¥ä¾¿å®¢æˆ·åç»­åœ¨é‡åˆ°ç±»ä¼¼çš„æƒ…å†µå¯ä»¥åšä¸€äº›å‚è€ƒã€‚ åœ¨å®¢æˆ·ç«¯æ¥æ”¶æé€Ÿè¡Œæƒ…æ—¶ä¸€èˆ¬å¯¹äºæ¥æ”¶çš„å®¢æˆ·ç«¯éƒ½æœ‰ä¸€äº›åŸºæœ¬çš„è¦æ±‚ï¼Œå…¸å‹çš„é…ç½®è¦æ±‚æ˜¯CPU 3.6GåŠä»¥ä¸Šï¼Œé«˜æ€§èƒ½ç½‘å¡Solarflare 2522 Plus ã€‚åœ¨è¿™æ ·é…ç½®æ¥è¿‘çš„æƒ…å†µä¸‹æ‰æ˜¯ä¸€ä¸ªæ¥æ”¶å®¢æˆ·ç«¯çš„åŸºæœ¬èµ·ç‚¹ï¼Œå½“ç„¶å¦‚æœå®¢æˆ·é‡‡ç”¨è¶…é¢‘æœºé‚£ä¹ˆå°±æ˜¯ä¸€ç§æ›´å¥½çš„é€‰æ‹©ï¼Œè¿™æ ·å®¢æˆ·å¯ä»¥è·å¾—æ›´é«˜çš„é€Ÿåº¦ã€‚ é’ˆå¯¹å®¢æˆ·ç«¯æ¥æ”¶æœåŠ¡å™¨åœ¨è¾¾åˆ°å…¸å‹é…ç½®çš„æƒ…å†µä¸‹ï¼Œç››ç«‹è¯åˆ¸è¡Œæƒ…ç³»ç»Ÿçš„ä¼˜åŒ–ä¸»è¦å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ–¹å‘ï¼š æœºå™¨å¹³å°æ–¹é¢çš„è°ƒä¼˜ã€‚ é«˜æ€§èƒ½ç½‘å¡åŠ é€Ÿæ–¹é¢çš„è°ƒä¼˜ã€‚ æ¥æ”¶ç¨‹åºæ–¹é¢çš„è°ƒä¼˜ã€‚ ","date":"2023-02-24","objectID":"/2023-02-24-%E8%AF%81%E5%88%B8%E8%A1%8C%E6%83%85%E8%B0%83%E4%BC%98%E6%94%BB%E7%95%A5/:0:0","tags":["linux","md","performance","æ€§èƒ½","è°ƒä¼˜"],"title":"è¯åˆ¸è¡Œæƒ…è°ƒä¼˜æ”»ç•¥","uri":"/2023-02-24-%E8%AF%81%E5%88%B8%E8%A1%8C%E6%83%85%E8%B0%83%E4%BC%98%E6%94%BB%E7%95%A5/"},{"categories":["tools"],"content":" æœºå™¨å¹³å°çš„è°ƒä¼˜ä¸€èˆ¬æœåŠ¡å™¨çš„CPUéƒ½æ”¯æŒè‡ªåŠ¨ç¿é¢‘ï¼Œè€ŒæœåŠ¡å™¨çš„CPUä¸€èˆ¬é»˜è®¤è¿è¡Œäºondemandæ¨¡å¼ï¼Œä¼šæœ‰ä¸­æ–­å¼€é”€ï¼Œç¿é¢‘çš„æ—¶å€™æå‡ä¸‹é™ä¹Ÿæ˜¯æœ‰é¢å¤–çš„å¼€é”€ï¼Œç‰¹åˆ«æ˜¯å¯¹äºä¸€äº›ä½ç«¯cpuæ¯”å¦‚C2350,C2338,N2800è¿™äº›ä½ä»·ç‹¬æœçš„CPUï¼Œå½±å“æ›´å¤§ã€‚å¯ä»¥é€šè¿‡å…·ä½“çš„å‘½ä»¤æŸ¥çœ‹å½“å‰æœºå™¨çš„cpuäº”ç§å·¥ä½œæ¨¡å¼ä»¥åŠé¢‘ç‡ã€‚ é™¤äº†cpuçš„å·¥ä½œæ¨¡å¼çš„è°ƒä¼˜å¤–ï¼Œ æˆ‘ä»¬è¿˜åº”è¯¥æ³¨æ„ç³»ç»Ÿçš„è°ƒä¼˜ï¼Œé€šè¿‡tuned-adm listå‘½ä»¤æ¥æŸ¥çœ‹ç›®å‰tunedæ”¯æŒçš„å·¥ä½œæ¨¡å¼ã€‚ ","date":"2023-02-24","objectID":"/2023-02-24-%E8%AF%81%E5%88%B8%E8%A1%8C%E6%83%85%E8%B0%83%E4%BC%98%E6%94%BB%E7%95%A5/:1:0","tags":["linux","md","performance","æ€§èƒ½","è°ƒä¼˜"],"title":"è¯åˆ¸è¡Œæƒ…è°ƒä¼˜æ”»ç•¥","uri":"/2023-02-24-%E8%AF%81%E5%88%B8%E8%A1%8C%E6%83%85%E8%B0%83%E4%BC%98%E6%94%BB%E7%95%A5/"},{"categories":["tools"],"content":" é«˜æ€§èƒ½ç½‘å¡åŠ é€Ÿæ–¹é¢çš„è°ƒä¼˜ç›®å‰å¸‚é¢ä¸Šå…¸å‹çš„é«˜æ€§èƒ½ç½‘å¡çš„ä¾›åº”å•†æœ‰Solarflare/Mellanox/Exablazeç­‰ã€‚ä½†ä»ç¨³å®šæ€§ä¸æ€§èƒ½ä»¥åŠæ˜“ç”¨æ€§å¤šä¸ªæ–¹é¢æ¥è€ƒè™‘çš„è¯è¿˜æ˜¯Solarflare X2522æ˜¯æ¯”è¾ƒåˆé€‚çš„é€‰æ‹©ã€‚æˆ‘ä»¬åšè¿‡ä¸€äº›ç®€å•çš„æµ‹è¯•ï¼Œ ä»¥intelæ™®é€š10Gç½‘å¡ä¸solarflar 2522 plus åœ¨ 3.5Gä¸»é¢‘ä¸‹ï¼Œ å¤§çº¦ç›¸å·®ä¸€ä¸ªæ•°é‡çº§(20-50us å¯¹ 2-5us)çš„æ ·å­ã€‚ åœ¨ä½¿ç”¨Solarflareç½‘å¡æ—¶å¦‚æœéœ€è¦è·å¾—æ›´ä¼˜çš„æ€§èƒ½ï¼ˆåœ¨æ­£ç¡®å®‰è£…å¥½ç›¸åº”çš„é«˜æ€§èƒ½é©±åŠ¨çš„å‰æä¸‹ï¼‰è¿˜éœ€è¦æ³¨æ„ä»¥ä¸‹ä¸€äº›äº‹é¡¹ï¼š å¼€å¯å¤§é¡µæœºåˆ¶ é‡‡ç”¨CPUæ ¸çš„ç»‘å®šæ–¹æ¡ˆ é‡‡ç”¨ç»‘æ ¸æ–¹æ¡ˆæ—¶ï¼Œå¯ä»¥æŠŠè¦ç»‘çš„æ ¸å…ˆè¿›è¡Œéš”ç¦»ï¼›éœ€è¦å…ˆæµ‹å®šå½“å‰ç½‘å¡ä¸CPUæ ¸å¿ƒçš„äº²ç¼˜æ€§ï¼Œéœ€ç»‘åœ¨è·Ÿç½‘å¡äº²ç¼˜æ€§å¥½çš„cpuæ ¸å¿ƒä¸Š ","date":"2023-02-24","objectID":"/2023-02-24-%E8%AF%81%E5%88%B8%E8%A1%8C%E6%83%85%E8%B0%83%E4%BC%98%E6%94%BB%E7%95%A5/:2:0","tags":["linux","md","performance","æ€§èƒ½","è°ƒä¼˜"],"title":"è¯åˆ¸è¡Œæƒ…è°ƒä¼˜æ”»ç•¥","uri":"/2023-02-24-%E8%AF%81%E5%88%B8%E8%A1%8C%E6%83%85%E8%B0%83%E4%BC%98%E6%94%BB%E7%95%A5/"},{"categories":["tools"],"content":" æ¥å—ç¨‹åºæ–¹é¢çš„è°ƒä¼˜1ã€å¯ä»¥è€ƒè™‘å¯¹å¯æ‰§è¡Œæ–‡ä»¶åœ¨ç¼–è¯‘ç”Ÿæˆæ—¶æ·»åŠ ä¼˜åŒ–é€‰é¡¹ï¼Œ æ¯”å¦‚ - 1)gccä¼˜åŒ–å‚æ•°ä¼˜åŒ–çº§åˆ«ã€‚ - 2)ä½¿ç”¨gcc -Q â€“help=optimizerså‘½ä»¤æŸ¥çœ‹å¼€å¯çš„ä¼˜åŒ–é¡¹ç›®ã€‚ 2ã€é‡‡ç”¨å†…è”å‡½æ•°ï¼šåœ¨å†…è”å‡½æ•°è¢«è°ƒç”¨å‰ï¼Œä½¿ç”¨inlineå…³é”®å­—ä¿®é¥°å†…è”å‡½æ•°å®šä¹‰ï¼ŒåŒæ—¶åœ¨ç¼–è¯‘æ—¶æ‰“å¼€å¯¹å†…è”å‡½æ•°çš„ä¼˜åŒ–ã€‚ 3ã€æ¶ˆé™¤å¾ªç¯çš„ä½æ•ˆç‡ã€‚ä¾‹å¦‚éœ€è¦æ‰§è¡Œå¤šæ¬¡ï¼ˆåœ¨å¾ªç¯é‡Œï¼‰ä½†æ˜¯ç»“æœä¸ä¼šæ”¹å˜çš„è®¡ç®—ï¼Œå¯ä»¥å°†è¿™ç±»è®¡ç®—ç§»åŠ¨åˆ°ä»£ç å‰é¢ä¸ä¼šè¢«å¤šæ¬¡æ±‚å€¼çš„éƒ¨åˆ†ã€‚ 4ã€ç³»ç»Ÿè°ƒç”¨ä¼šå¯¼è‡´è¿›ç¨‹ä»ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…æ ¸æ€ï¼Œå¼€é”€é€šå¸¸è¾ƒå¤§ã€‚éƒ¨åˆ†ç³»ç»Ÿè°ƒç”¨å¯èƒ½åœ¨å¾®ç§’çº§åˆ«æˆ–ä»¥ä¸Šï¼Œå°½é‡é¿å…ç³»ç»Ÿè°ƒç”¨å¯ä»¥å¤§å¹…æé«˜æˆ‘ä»¬çš„ç¨‹åºæ€§èƒ½ã€‚ 5ã€å†…å­˜åˆå§‹åŒ–ç¨‹åºåœ¨ä½¿ç”¨newæˆ–è€…mallocç­‰åˆ†é…å†…å­˜åï¼Œè¿™äº›å†…å­˜å¯èƒ½å¹¶æœªåœ¨ç‰©ç†å†…å­˜ä¸­åˆ†é…ã€‚æˆ‘ä»¬å¯é‡‡ç”¨åˆå§‹åŒ–çš„æ–¹å¼å°†è¿™äº›å†…å­˜åˆ†é…åˆ°ç‰©ç†å†…å­˜ä¸­ï¼Œé¿å…è¿è¡Œè¿‡ç¨‹ä¸­ä½¿ç”¨è¿™äº›å†…å­˜æ—¶å¼•èµ·ç¼ºé¡µä¸­æ–­ã€‚ 6ã€ç®—æœ¯è¿ç®—å’Œæµ®ç‚¹æ•°ä¹˜é™¤æ³•æˆ–æµ®ç‚¹è¿ç®—ç›¸å¯¹äºæ•´å‹çš„åŠ å‡è¿ç®—ï¼Œæ€§èƒ½å¼€é”€è¾ƒé«˜ã€‚æˆ‘ä»¬å¯ç•™æ„æ˜¯å¦èƒ½å°†è¿™äº›è€—æ—¶çš„è¿ç®—è½¬æ¢ä¸ºæ•´å‹åŠ å‡æˆ–è€…ä½è¿ç®—æ¥æå‡æ€§èƒ½ï¼Œæˆ–è€…é¿å…ä¹˜é™¤æ³•å’Œæµ®ç‚¹è¿ç®—ã€‚ 7ã€åœ¨é€»è¾‘è¿ç®—ç¬¦â€˜||â€™å’Œâ€˜\u0026\u0026â€™ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸çŸ­è·¯å’Œæˆ–æ–­è·¯ç‰¹æ€§ï¼Œå¯¹æ¡ä»¶è¿›è¡Œæ’åºã€‚ä¾‹å¦‚â€˜||â€™ä¸­æ›´å®¹æ˜“ä¸ºçœŸçš„æ¡ä»¶æ”¾åœ¨å‰é¢ï¼Œâ€˜\u0026\u0026â€™ä¸­æ›´å®¹æ˜“ä¸ºå‡çš„æ¡ä»¶æ”¾åœ¨å‰é¢ã€‚ ","date":"2023-02-24","objectID":"/2023-02-24-%E8%AF%81%E5%88%B8%E8%A1%8C%E6%83%85%E8%B0%83%E4%BC%98%E6%94%BB%E7%95%A5/:3:0","tags":["linux","md","performance","æ€§èƒ½","è°ƒä¼˜"],"title":"è¯åˆ¸è¡Œæƒ…è°ƒä¼˜æ”»ç•¥","uri":"/2023-02-24-%E8%AF%81%E5%88%B8%E8%A1%8C%E6%83%85%E8%B0%83%E4%BC%98%E6%94%BB%E7%95%A5/"},{"categories":["tools"],"content":"è‡ªåŠ¨æ¸…ç†è¶…è¿‡ä¸€å®šæ—¶é—´çš„æ–‡ä»¶ #!/usr/bin/env bash mkdir -p $HOME/log LOG_FILE=$HOME/log/$(date +\"%Y%m%d.MyLog.log\") exec \u0026\u003e \u003e(tee -a \"$LOG_FILE\") is_init=false msg () { echo -e \"------------------------------------------------------------------\" if [ !is_init ]; then is_init=true echo -e \"\u003e\u003e $(date +'%Y-%m-%d %H:%M:%S') \u003c\u003c '$0'\" fi echo -e \"\u003e\u003e $(date +'%Y-%m-%d %H:%M:%S') \u003c\u003c '$1'\" echo -e \"-----------------------------------------------------------------\" } msg \"Run autoclear.sh\" #datadir=$HOME/data datadir=/data xday=$(date -d \"-30 days\" +\"%Y%m%d\") for f in `ls $datadir`; do tmpdate=`date -r $datadir/$f \"+%Y%m%d\"` if [[ $tmpdate \u003c $xday ]]; then echo \"##==\u003e now rm $f ==\u003e [[ $tmpdate \u003c $xday ]]\" if [[ $f == *\"tar.bz2\"* ]]; then rsync -avPzr $datadir/$f ops:/data/Xtp/FromZZ.SZ fi rm -rf $datadir/$f fi done msg \"Done!\" ","date":"2023-02-21","objectID":"/2023-02-21-autoclear-%E8%87%AA%E5%8A%A8%E6%B8%85%E7%90%86%E8%BF%87%E6%9C%9F%E6%96%87%E4%BB%B6/:0:0","tags":["autoclear","è¿‡æœŸ","æ¸…ç†"],"title":"autoclear è‡ªåŠ¨æ¸…ç†è¿‡æœŸæ–‡ä»¶","uri":"/2023-02-21-autoclear-%E8%87%AA%E5%8A%A8%E6%B8%85%E7%90%86%E8%BF%87%E6%9C%9F%E6%96%87%E4%BB%B6/"},{"categories":[],"content":" å°å®å½±é™¢å°å®å½±é™¢æä¾›åœ¨çº¿è§†é¢‘è§‚çœ‹ï¼Œæœ‰ä¸å°‘ç¾å‰§ã€ç”µå½±èµ„æºã€‚ ","date":"2023-02-18","objectID":"/2023-02-18-%E5%B8%B8%E7%94%A8%E9%9F%B3%E9%A2%91%E8%A7%86%E9%A2%91%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/:1:0","tags":["éŸ³ä¹","ç”µå½±"],"title":"å¸¸ç”¨éŸ³é¢‘ã€è§†é¢‘ç½‘ç«™æ¨è","uri":"/2023-02-18-%E5%B8%B8%E7%94%A8%E9%9F%B3%E9%A2%91%E8%A7%86%E9%A2%91%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/"},{"categories":["tool"],"content":"è®¾ç½® prompt çš„é¢œè‰² export PS1=\"[\\[\\e[00;32m\\]\\u@Colo114@\\[\\e[00;31m\\]cma\\[\\e[00m\\]:\\[\\e[00;32m\\]\\w\\[\\e[00m\\]\\[\\e[00m\\]]\\$ \" ","date":"2023-02-15","objectID":"/2023-02-15-bashrc-prompt-%E9%A2%9C%E8%89%B2%E8%AE%BE%E7%BD%AE/:0:0","tags":["Linux","bash","bashrc","prompt"],"title":"bashrc prompt é¢œè‰²è®¾ç½®","uri":"/2023-02-15-bashrc-prompt-%E9%A2%9C%E8%89%B2%E8%AE%BE%E7%BD%AE/"},{"categories":[],"content":"clickhouse æ£€æŸ¥æŸå¼ è¡¨çš„æ•°æ®æœ€åä¿®æ”¹æ—¶é—´ï¼Œé€šè¿‡åˆ¤æ–­ä»¥å†³å®šæ˜¯å¦åŒæ­¥æ•°æ®ã€‚ select max(modification_time) from system.parts where table='sse_cv_snaps' and database='raven'; ","date":"2023-02-14","objectID":"/2023-02-14-clickhouse-%E6%A3%80%E6%9F%A5%E8%A1%A8%E6%9C%80%E8%BF%91%E4%BF%AE%E6%94%B9%E6%97%B6%E9%97%B4/:0:0","tags":[],"title":"clickhouse æ£€æŸ¥è¡¨æœ€è¿‘ä¿®æ”¹æ—¶é—´","uri":"/2023-02-14-clickhouse-%E6%A3%80%E6%9F%A5%E8%A1%A8%E6%9C%80%E8%BF%91%E4%BF%AE%E6%94%B9%E6%97%B6%E9%97%B4/"},{"categories":["tools"],"content":"é€šè¿‡è·å–è¿›ç¨‹ PID æ¥æ€æ­»è¿›ç¨‹ã€‚ killx () { list=$(ps aux | grep -i $1| grep -v grep |grep -v color) if [ -n \"$list\" ]; then dead=$(ps aux | grep -i $1| grep -v grep| grep -v color | awk '{print $2}') echo \"Killing... $1\" echo $dead |xargs kill -9 else echo \"Not running $1\" fi } ","date":"2023-02-09","objectID":"/2023-02-09-killx/:0:0","tags":["kill","killx"],"title":"killx","uri":"/2023-02-09-killx/"},{"categories":["tools"],"content":"VSPID:1483936 https://kiwivm.64clouds.com/1483936/main-exec.php?mode=blacklistcheck ","date":"2023-02-01","objectID":"/2023-02-01-bwg-%E6%A3%80%E6%9F%A5-ip-%E6%98%AF%E5%90%A6%E8%A2%AB%E5%A2%99/:0:0","tags":["bwg","vps"],"title":"bwg æ£€æŸ¥ IP æ˜¯å¦è¢«å¢™","uri":"/2023-02-01-bwg-%E6%A3%80%E6%9F%A5-ip-%E6%98%AF%E5%90%A6%E8%A2%AB%E5%A2%99/"},{"categories":["tools"],"content":"systemd å¯ä»¥åˆ¶ä½œç«¯å£è½¬å‘ï¼ˆsecure-tunnelï¼Œä¹Ÿç§°ä½œ port-forwardingï¼‰ï¼Œå¦‚systemd å®ç°ç«¯å£è½¬å‘ã€‚ä½†æ˜¯è¿™ä¸ªåªèƒ½æ”¯æŒå•ä¸ªä»»åŠ¡ï¼›å½“ç„¶ï¼Œå¦‚æœæ˜¯å¤šä¸ªä»»åŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥å¤šå†™å‡ ä¸ª service æ–‡ä»¶å³å¯ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªä¸æ˜¯æœ€ä¼˜é€‰æ‹©ï¼Œå› ä¸ºå­˜åœ¨å¤§é‡çš„é‡å¤é…ç½®ã€‚é‚£ä¹ˆè‡ªç„¶è€Œç„¶åœ°ï¼Œæˆ‘ä»¬æƒ³åˆ°ä½¿ç”¨æ¨¡æ¿æ¥è¿›è¡Œé…ç½®ï¼Œè¿™æ ·å¯ä»¥æŠŠå…±åŒçš„éƒ¨åˆ†æŠ½è±¡å‡ºæ¥ï¼Œå®ç°æ¨¡æ¿åŒ–æ“ä½œã€‚ ","date":"2023-01-18","objectID":"/2023-01-18-systemd-%E5%A4%9A%E4%B8%AA%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E4%B9%8B%E6%A8%A1%E6%9D%BF/:0:0","tags":["Linux","systemd","multiple","port-forwarding","ç«¯å£è½¬å‘"],"title":"systemd å¤šä¸ªç«¯å£è½¬å‘ä¹‹æ¨¡æ¿","uri":"/2023-01-18-systemd-%E5%A4%9A%E4%B8%AA%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E4%B9%8B%E6%A8%A1%E6%9D%BF/"},{"categories":["tools"],"content":" å»ºç«‹æœåŠ¡æ¨¡æ¿åˆ°ç›®å½•ä¸‹é¢è¿›è¡Œæ“ä½œ -rw-r--r--. 1 root root 416 Jan 19 15:04 port-forwarding@.service -rw-r--r--. 1 root root 85 Jan 19 14:49 port-forwarding@ops.r7 -rw-r--r--. 1 root root 86 Jan 19 15:01 port-forwarding@ops.r13 cd /usr/lib/systemd/system é¦–å…ˆå»ºç«‹ä¸€ä¸ª service æ–‡ä»¶ï¼Œé‡Œé¢é€šè¿‡é…ç½®æ¨¡æ¿ï¼Œè¿è¡Œå¤šå¼€æœåŠ¡ vim port-forwarding@.service è¿™ä¸ªæœåŠ¡æ¨¡æ¿çš„å†…å®¹å¦‚ä¸‹ï¼š [Unit] Description=Setup Port-Forwarding to %I After=network.target [Service] ## ä½¿ç”¨ç”¨æˆ·æ‰§è¡Œå‘½ä»¤ User=william Environment=\"LOCAL_ADDR=localhost\" EnvironmentFile=/usr/lib/systemd/system/port-forwarding@%i ExecStart=/usr/bin/ssh -NT -o ServerAliveInterval=60 -o ExitOnForwardFailure=yes ${TARGET} ${CMD1} ${CMD2} ${CMD3} ${CMD4} ${CMD5} # Restart every \u003e5 seconds to avoid StartLimitInterval failure Restart=always # Restart=on-failure RestartSec=5s [Install] WantedBy=multi-user.target è¿™é‡Œï¼Œæˆ‘ä»¬æŒ‡å®šäº† EnvironmentFile=/usr/lib/systemd/system/port-forwarding@%iï¼Œè¿™æ˜¯ä¸€ä¸ªæ¨¡æ¿åŒ–çš„å‚æ•° ","date":"2023-01-18","objectID":"/2023-01-18-systemd-%E5%A4%9A%E4%B8%AA%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E4%B9%8B%E6%A8%A1%E6%9D%BF/:1:0","tags":["Linux","systemd","multiple","port-forwarding","ç«¯å£è½¬å‘"],"title":"systemd å¤šä¸ªç«¯å£è½¬å‘ä¹‹æ¨¡æ¿","uri":"/2023-01-18-systemd-%E5%A4%9A%E4%B8%AA%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E4%B9%8B%E6%A8%A1%E6%9D%BF/"},{"categories":["tools"],"content":" æœåŠ¡é…ç½®æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åªéœ€è¦ç¼–å†™æœåŠ¡é…ç½®å³å¯ ## cat port-forwarding@ops.r7 TARGET=R7 CMD1='-R *:62114:127.0.0.1:22' CMD2='-R *:63115:127.0.0.1:22' CMD3= CMD4= CMD5= ## æ³¨æ„ï¼Œè¿™ç§æ¨¡æ¿åªèƒ½é…ç½®ä¸€ä¸ªç«¯å£è½¬å‘ï¼Œå¯ä»¥ç†è§£æˆåªç›‘æ§ä¸€ä¸ªç«¯å£çš„æ´»è·ƒçŠ¶æ€ ","date":"2023-01-18","objectID":"/2023-01-18-systemd-%E5%A4%9A%E4%B8%AA%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E4%B9%8B%E6%A8%A1%E6%9D%BF/:2:0","tags":["Linux","systemd","multiple","port-forwarding","ç«¯å£è½¬å‘"],"title":"systemd å¤šä¸ªç«¯å£è½¬å‘ä¹‹æ¨¡æ¿","uri":"/2023-01-18-systemd-%E5%A4%9A%E4%B8%AA%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E4%B9%8B%E6%A8%A1%E6%9D%BF/"},{"categories":["tools"],"content":" å¯åŠ¨æœåŠ¡ systemctl daemon-reload ## å¯åŠ¨æŸä¸ªæœåŠ¡ systemctl enable port-forwarding@ops.r7.service systemctl enable port-forwarding@ops.r13.service systemctl list-units |grep port systemctl start port-forwarding@ops.r7.service systemctl start port-forwarding@ops.r13.service systemctl status port-forwarding@ops.r7.service â— port-forwarding@ops.r7.service - Setup Port-Forwarding to ops.r7 Loaded: loaded (/usr/lib/systemd/system/port-forwarding@.service; disabled; vendor preset: disabled) Active: active (running) since Thu 2023-01-19 15:05:03 CST; 16min ago Main PID: 16980 (ssh) CGroup: /docker/72915ff761ba3a0adee44ce36ae26f124f87a73aad3456a2bb515c0ca54e7a4f/system.slice/system-port\\x2dforwarding.slice/port-forwarding@ops.r7.service â””â”€16980 /usr/bin/ssh -NT -o ServerAliveInterval=60 -o ExitOnForwardFailure=yes -L 127.0.0.1:60178:192.168.1.177:22 R7 â€£ 16980 /usr/bin/ssh -NT -o ServerAliveInterval=60 -o ExitOnForwardFailure=yes -L 127.0.0.1:60178:192.168.1.177:22 R7 Jan 19 15:05:03 mon.machine systemd[1]: Started Setup Port-Forwarding to ops.r7. systemctl status port-forwarding@ops.r13.service â— port-forwarding@ops.r13.service - Setup Port-Forwarding to ops.r13 Loaded: loaded (/usr/lib/systemd/system/port-forwarding@.service; disabled; vendor preset: disabled) Active: active (running) since Thu 2023-01-19 15:05:00 CST; 16min ago Main PID: 16894 (ssh) CGroup: /docker/72915ff761ba3a0adee44ce36ae26f124f87a73aad3456a2bb515c0ca54e7a4f/system.slice/system-port\\x2dforwarding.slice/port-forwarding@ops.r13.service â””â”€16894 /usr/bin/ssh -NT -o ServerAliveInterval=60 -o ExitOnForwardFailure=yes -L 127.0.0.1:60183:192.168.1.183:22 R13 â€£ 16894 /usr/bin/ssh -NT -o ServerAliveInterval=60 -o ExitOnForwardFailure=yes -L 127.0.0.1:60183:192.168.1.183:22 R13 Jan 19 15:05:00 mon.machine systemd[1]: Started Setup Port-Forwarding to ops.r13. ","date":"2023-01-18","objectID":"/2023-01-18-systemd-%E5%A4%9A%E4%B8%AA%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E4%B9%8B%E6%A8%A1%E6%9D%BF/:3:0","tags":["Linux","systemd","multiple","port-forwarding","ç«¯å£è½¬å‘"],"title":"systemd å¤šä¸ªç«¯å£è½¬å‘ä¹‹æ¨¡æ¿","uri":"/2023-01-18-systemd-%E5%A4%9A%E4%B8%AA%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E4%B9%8B%E6%A8%A1%E6%9D%BF/"},{"categories":["tools"],"content":"vim9 é…ç½® YCM è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ã€‚ cd ~/.vim/plugged git clone https://github.com/ycm-core/YouCompleteMe.git git submodule update --init --recursive ## æ·»åŠ  ssl vim ~/.vim/plugged/YouCompleteMe/third_party/ycmd/build.py import ssl ssl._create_default_https_context = ssl._create_unverified_context python3 ./install.py --clang-completer --force-sudo --verbose ## vim .vimrc \" ycm æŒ‡å®š ycm_extra_conf.py let g:ycm_global_ycm_extra_conf = â€˜xxxxxx/.ycm_extra_conf.pyâ€™ åé¢çš„è·¯å¾„æ˜¯ YCM æ’ä»¶ç›®å½•é‡Œçš„ .ycm_extra_conf.py æ–‡ä»¶çš„ä½ç½® æ¯”å¦‚ '~/.vim/plugged/YouCompleteMe/third_party/ycmd/.ycm_extra_conf.py' ","date":"2023-01-13","objectID":"/2023-01-13-vim9-%E5%AE%89%E8%A3%85-ycm/:0:0","tags":["Linux","vim","ycm","python3","clang"],"title":"vim9 å®‰è£… YCM","uri":"/2023-01-13-vim9-%E5%AE%89%E8%A3%85-ycm/"},{"categories":["tools"],"content":"å‘½ä»¤è¡Œå®‰è£… R stringi è½¯ä»¶åŒ… RUN cd /tmp \u0026\u0026 \\ wget --no-check-certificate https://github.com/gagolews/stringi/archive/master.zip -O stringi.zip \u0026\u0026 \\ unzip stringi.zip \u0026\u0026 \\ sed -i '/\\/icu..\\/data/d' stringi-master/.Rbuildignore \u0026\u0026 \\ R CMD build stringi-master \u0026\u0026 \\ R CMD INSTALL `ls -alh |grep tar |cut -d' ' -f11` ","date":"2023-01-10","objectID":"/2023-01-10-r-%E5%AE%89%E8%A3%85-stringi-%E5%8C%85/:0:0","tags":["Docker","R","devtools","stringi","stringr"],"title":"R å®‰è£… stringi åŒ…","uri":"/2023-01-10-r-%E5%AE%89%E8%A3%85-stringi-%E5%8C%85/"},{"categories":["tools"],"content":"åœ¨ç™»å½• ssh çš„æ—¶å€™ï¼Œç»å¸¸ä¼šé‡åˆ° timed out waiting for input: auto-logoutï¼Œç”šè‡³éƒ½æ²¡æœ‰è¿™ä¸ªæé†’ï¼Œå°±ç›´æ¥æ–­çº¿çš„æƒ…å†µã€‚æˆ‘ä»¬éœ€è¦ä¿®æ”¹é»˜è®¤è¶…æ—¶å‚æ•°ã€‚ ","date":"2022-12-16","objectID":"/2022-12-16-%E8%A7%A3%E5%86%B3ssh%E7%BB%8F%E5%B8%B8%E6%96%AD%E7%BA%BF%E5%87%BA%E7%8E%B0timeout%E7%9A%84%E9%97%AE%E9%A2%98/:0:0","tags":["Linux","ssh","timeout"],"title":"è§£å†³sshç»å¸¸æ–­çº¿ï¼Œå‡ºç°timeoutçš„é—®é¢˜","uri":"/2022-12-16-%E8%A7%A3%E5%86%B3ssh%E7%BB%8F%E5%B8%B8%E6%96%AD%E7%BA%BF%E5%87%BA%E7%8E%B0timeout%E7%9A%84%E9%97%AE%E9%A2%98/"},{"categories":["tools"],"content":" serverç«¯ # è®¾ç½®æœåŠ¡å™¨å‘ SSH å®¢æˆ·ç«¯è¿æ¥ä¼šè¯å‘é€é¢‘ç‡å’Œæ—¶é—´. vi /etc/ssh/sshd_configï¼Œæ·»åŠ å¦‚ä¸‹ä¸¤è¡Œ # å¯ç”¨å®¢æˆ·ç«¯æ´»åŠ¨æ£€æŸ¥ï¼Œæ¯ 60 ç§’æ£€æŸ¥ä¸€æ¬¡ï¼Œ3 æ¬¡ä¸æ´»åŠ¨æ–­å¼€è¿æ¥ ClientAliveInterval 60 ClientAliveCountMax 3 # ClientAliveInterval æŒ‡å®šäº†æœåŠ¡å™¨ç«¯å‘å®¢æˆ·ç«¯è¯·æ±‚æ¶ˆæ¯çš„æ—¶é—´é—´éš”, é»˜è®¤æ˜¯ 0, ä¸å‘é€ã€‚è®¾ç½® 60 è¡¨ç¤ºæ¯åˆ†é’Ÿå‘é€ä¸€æ¬¡, ç„¶åå®¢æˆ·ç«¯å“åº”, è¿™æ ·å°±ä¿æŒé•¿è¿æ¥äº†ã€‚ # ClientAliveCountMax è¡¨ç¤ºæœåŠ¡å™¨å‘å‡ºè¯·æ±‚åå®¢æˆ·ç«¯æ²¡æœ‰å“åº”çš„æ¬¡æ•°è¾¾åˆ°ä¸€å®šå€¼, å°±è‡ªåŠ¨æ–­å¼€ã€‚æ­£å¸¸æƒ…å†µä¸‹, å®¢æˆ·ç«¯ä¸ä¼šä¸å“åº”ï¼Œä½¿ç”¨é»˜è®¤å€¼ 3 å³å¯ã€‚ #é‡æ–°å¯åŠ¨ SSH æœåŠ¡ service sshd reload ","date":"2022-12-16","objectID":"/2022-12-16-%E8%A7%A3%E5%86%B3ssh%E7%BB%8F%E5%B8%B8%E6%96%AD%E7%BA%BF%E5%87%BA%E7%8E%B0timeout%E7%9A%84%E9%97%AE%E9%A2%98/:1:0","tags":["Linux","ssh","timeout"],"title":"è§£å†³sshç»å¸¸æ–­çº¿ï¼Œå‡ºç°timeoutçš„é—®é¢˜","uri":"/2022-12-16-%E8%A7%A3%E5%86%B3ssh%E7%BB%8F%E5%B8%B8%E6%96%AD%E7%BA%BF%E5%87%BA%E7%8E%B0timeout%E7%9A%84%E9%97%AE%E9%A2%98/"},{"categories":["tools"],"content":" client ç«¯ # 1ã€$TMOUT ç³»ç»Ÿç¯å¢ƒå˜é‡ # ç”¨ä»¥ä¸‹å‘½ä»¤åˆ¤æ–­æ˜¯å¦æ˜¯å¦è®¾ç½®äº†è¯¥å‚æ•° echo $TMOUT # å¦‚æœè¾“å‡ºç©ºæˆ– 0 è¡¨ç¤ºä¸è¶…æ—¶ï¼Œå¤§äº 0 çš„æ•°å­— n è¡¨ç¤º n ç§’æ²¡æœ‰æ”¶å…¥åˆ™è¶…æ—¶ã€‚æ­¤æ—¶åˆ™æ˜¯ 100 ç§’ã€‚ # ä¿®æ”¹æ–¹æ³• # ç³»ç»Ÿå±‚é¢ï¼š/etc/profile # ç”¨æˆ·å±‚é¢ï¼š~/.bashr vi /etc/profile ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥åœ¨å…¶å®ƒé…ç½®æ–‡ä»¶é…ç½®ï¼Œæ¶‰åŠåˆ°ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶è¯»å–ä¼˜å…ˆçº§çš„é—®é¢˜ï¼‰ # ---------------------------- export TMOUT=600 # ---------------------------- # å°†ä»¥ä¸Š 600 ä¿®æ”¹ä¸º 0 å°±æ˜¯è®¾ç½®ä¸è¶…æ—¶ source /etc/profile # è®©é…ç½®ç«‹å³ç”Ÿæ•ˆ # åŒæ—¶å¯ä»¥ä¿®æ”¹ ~/.ssh/config Host * TCPKeepAlive yes ServerAliveInterval 60 ServerAliveCountMax 30 ","date":"2022-12-16","objectID":"/2022-12-16-%E8%A7%A3%E5%86%B3ssh%E7%BB%8F%E5%B8%B8%E6%96%AD%E7%BA%BF%E5%87%BA%E7%8E%B0timeout%E7%9A%84%E9%97%AE%E9%A2%98/:2:0","tags":["Linux","ssh","timeout"],"title":"è§£å†³sshç»å¸¸æ–­çº¿ï¼Œå‡ºç°timeoutçš„é—®é¢˜","uri":"/2022-12-16-%E8%A7%A3%E5%86%B3ssh%E7%BB%8F%E5%B8%B8%E6%96%AD%E7%BA%BF%E5%87%BA%E7%8E%B0timeout%E7%9A%84%E9%97%AE%E9%A2%98/"},{"categories":["tools"],"content":"ä»æºä»£ç ç¼–è¯‘å®‰è£… Vim9.2ã€‚ export LDFLAGS=\"-rdynamic\" cd /tmp \u0026\u0026 \\ yum install perl-ExtUtils-Embed ruby ruby-devel -y \u0026\u0026 \\ yum clean all \u0026\u0026 \\ rm -rf /var/cache/yum/* \u0026\u0026 \\ wget --no-check-certificate http://www.lua.org/ftp/lua-5.4.4.tar.gz \u0026\u0026 \\ tar -xvf lua-5.4.4.tar.gz \u0026\u0026 \\ cd lua-5.4.4 \u0026\u0026 \\ make -j \u0026\u0026 make install \u0026\u0026 \\ rm -rf /tmp/lua* \u0026\u0026 \\ cd /tmp \u0026\u0026 \\ git clone https://github.com/vim/vim.git \u0026\u0026 \\ cd vim \u0026\u0026 \\ git pull origin master \u0026\u0026 \\ make clean distclean \u0026\u0026 \\ ./configure --prefix=/usr/local/vim9 \\ --with-features=huge \\ --enable-multibyte \\ --enable-rubyinterp=yes \\ --enable-python3interp=yes \\ --with-python3-command=/usr/local/python3/bin/python3 \\ --with-python3-config-dir=$(/usr/local/python3/bin/python3-config --configdir) \\ --enable-perlinterp=yes \\ --enable-luainterp=yes \\ --with-lua-prefix=/usr/local \\ --enable-cscope\\ --enable-largefile \\ --disable-netbeans \\ --with-compiledby=\"william\" \\ --enable-fail-if-missing \u0026\u0026 \\ make -j \u0026\u0026 make install \u0026\u0026 \\ ln -sfn /usr/local/vim9/bin/vim /usr/bin/vim \u0026\u0026 \\ echo \"/usr/local/vim9/bin\" \u003e\u003e /etc/ld.so.conf \u0026\u0026 \\ ldconfig -v \u0026\u0026 \\ rm -rf /tmp/vim* ","date":"2022-12-12","objectID":"/2022-12-12-vim--%E6%BA%90%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/:0:0","tags":["Linux","vim","vim8","python"],"title":"Vim: æºä»£ç ç¼–è¯‘å®‰è£…","uri":"/2022-12-12-vim--%E6%BA%90%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/"},{"categories":["tools"],"content":"åœ¨ Docker ç¯å¢ƒå®‰è£… RabbitMQ version: \"3\" services: rabbitmq: container_name: rabbitmq image: docker.io/rabbitmq:3.11-management privileged: true shm_size: '8gb' environment: - SSH_AUTH_SOCK=${SSH_AUTH_SOCK} - RABBITMQ_DEFAULT_USER=william - RABBITMQ_DEFAULT_PASS=********** volumes: - ${SSH_AUTH_SOCK}:${SSH_AUTH_SOCK} - /home/william:/mnt ports: - \"5672:5672\" - \"15672:15672\" ## web #pull_policy: always restart: always å¯ä»¥è®¿é—®ç½‘ç«™ï¼šrabbitmq æŸ¥çœ‹ä¸åŒçš„ç‰ˆæœ¬ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©å¸¦æœ‰ management çš„ç‰ˆæœ¬ï¼Œè¿™ä¸ªæä¾›äº† web gui çš„ç®¡ç†ç•Œé¢ å¯ä»¥åœ¨ docker-compose é…ç½®ç”¨æˆ·ä¸å¯†ç  é…ç½®ç«¯å£è½¬å‘ å¯ä»¥è®¿é—® IP:15672ï¼ˆå¦‚ http://127.0.0.1:15672/ ï¼‰è¿›å…¥ç®¡ç†ç•Œé¢ ","date":"2022-11-29","objectID":"/2022-11-29-docker-%E5%AE%89%E8%A3%85-rabbitmq/:0:0","tags":["docker","docker-compose","RabbitMQ","æ¶ˆæ¯ä¸­é—´ä»¶"],"title":"docker å®‰è£… RabbitMQ","uri":"/2022-11-29-docker-%E5%AE%89%E8%A3%85-rabbitmq/"},{"categories":["tools"],"content":"ä¸€äº›å¸¸ç”¨çš„ ~/.ssh/config è®¾ç½® Host * ServerAliveInterval 60 IdentitiesOnly=yes StrictHostKeyChecking=no ## ========================================== Host lfang.r8 HostName 192.168.1.xxxx Port 22 User lfang ServerAliveInterval 60 ä¿æŒ 60 ç§’æŒç»­å‘æœåŠ¡å™¨å‘é€å¿ƒè·³ï¼Œä»è€Œä¿æŒ ssh æŒç»­è¿æ¥çŠ¶æ€ StrictHostKeyChecking=no å»æ‰ä¸¥æ ¼æ£€æŸ¥ï¼Œå¦‚æœä¸€äº›æœåŠ¡å™¨çš„ IP å‘ç”Ÿäº†å˜åŒ–ï¼Œå¯ä»¥é€šè¿‡ ssh-keygen -R xx.xx.xx.xx å»æ‰ï¼Œæˆ–è€…ä¿®æ”¹ ~/.ssh/known_hostsï¼Œè€Œè¿™ä¸ªåˆ™é€šè¿‡è®¾ç½®ï¼Œç›´æ¥å¿½ç•¥ç›¸å…³çš„æŠ¥è­¦ï¼Œå¯ä»¥è¿…é€Ÿçš„è¿›è¡Œé‡æ–°åŒ¹é…ã€‚ ","date":"2022-11-25","objectID":"/2022-11-25-ssh-config-%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E8%AE%BE%E7%BD%AE/:0:0","tags":["ssh","key","config"],"title":"ssh config çš„ä¸€äº›å¸¸ç”¨è®¾ç½®","uri":"/2022-11-25-ssh-config-%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E8%AE%BE%E7%BD%AE/"},{"categories":["tools"],"content":"å…è®¸ä¸€ä¸ª Docker container è·å–ä¸»æœºçš„ systemctl æƒé™ã€‚ ","date":"2022-11-25","objectID":"/2022-11-25-docker-%E4%BD%BF%E7%94%A8-sytemctl/:0:0","tags":["docker","docker-compose","systemctl","systemd","privileged"],"title":"docker ä½¿ç”¨ sytemctl","uri":"/2022-11-25-docker-%E4%BD%BF%E7%94%A8-sytemctl/"},{"categories":["tools"],"content":" ä½¿ç”¨ Docker run docker run --name mon.machine -dit \\ --privileged=true \\ -v /:/mnt \\ -v /run/dbus/system_bus_socket:/run/dbus/system_bus_socket:ro \\ -v /sys/fs/cgroup:/sys/fs/cgroup:ro \\ -p 31022:22 \\ --shm-size=20gb \\ 10.32.111.107:5000/pydev:v1.0 /sbin/init ","date":"2022-11-25","objectID":"/2022-11-25-docker-%E4%BD%BF%E7%94%A8-sytemctl/:1:0","tags":["docker","docker-compose","systemctl","systemd","privileged"],"title":"docker ä½¿ç”¨ sytemctl","uri":"/2022-11-25-docker-%E4%BD%BF%E7%94%A8-sytemctl/"},{"categories":["tools"],"content":" ä½¿ç”¨ Docker-compose version: \"3\" services: mon.machine: container_name: mon.machine image: 10.32.111.107:5000/pydev:v1.0 privileged: true shm_size: '8gb' environment: - SSH_AUTH_SOCK=${SSH_AUTH_SOCK} volumes: - ${SSH_AUTH_SOCK}:${SSH_AUTH_SOCK} - /home/william:/mnt ports: - \"22222:22\" command: - /bin/bash - -c - | cat /mnt/.ssh/id_rsa.pub \u003e\u003e ~/.ssh/authorized_keys git clone git@192.168.1.171:lfang/jobs.git ~/git/jobs /usr/sbin/init pull_policy: always restart: always è¿™é‡Œéœ€è¦æ³¨æ„ï¼š é…ç½® privileged: true åœ¨ command éœ€è¦å…ˆåˆå§‹åŒ–ï¼Œç„¶åå†æ‰§è¡Œå…¶ä»–çš„å‘½ä»¤ privileged: true command: - /bin/bash - -c - | cat /mnt/.ssh/id_rsa.pub \u003e\u003e ~/.ssh/authorized_keys git clone git@192.168.1.171:lfang/jobs.git ~/git/jobs /usr/sbin/init ","date":"2022-11-25","objectID":"/2022-11-25-docker-%E4%BD%BF%E7%94%A8-sytemctl/:2:0","tags":["docker","docker-compose","systemctl","systemd","privileged"],"title":"docker ä½¿ç”¨ sytemctl","uri":"/2022-11-25-docker-%E4%BD%BF%E7%94%A8-sytemctl/"},{"categories":["tools"],"content":"é€šè¿‡æ·»åŠ  tail -f /dev/null ä¿æŒåˆ·æ–°ï¼Œä½¿å¾—å®¹å™¨å§‹ç»ˆå¤„äºæ´»è·ƒçŠ¶æ€ï¼ˆaliveï¼‰ï¼Œå¦åˆ™ä¸€æ—¦å‘½ä»¤æ‰§è¡Œå®Œæˆï¼Œå°±ä¼šç«‹å³åœæ­¢äº†ã€‚è¿™æ ·å¯¹äºä¸€äº›ä»»åŠ¡ï¼Œæˆ‘ä»¬å¾€å¾€æƒ³è¦å…¶ä¿æŒçŠ¶æ€ï¼Œæ–¹ä¾¿è¿›å»å®¹å™¨å†…éƒ¨è¿›è¡Œè°ƒè¯•ã€‚ version: \"3\" services: mon.machine: container_name: mon.machine image: 10.32.111.107:5000/pydev:v1.0 privileged: false shm_size: '8gb' environment: - SSH_AUTH_SOCK=${SSH_AUTH_SOCK} volumes: - ${SSH_AUTH_SOCK}:${SSH_AUTH_SOCK} ports: - \"31022:22\" command: - /bin/bash - -c - | git clone git@192.168.1.171:lfang/jobs.git ~/git/jobs tail -f /dev/null pull_policy: always restart: always ","date":"2022-11-24","objectID":"/2022-11-24-docker-compose-command-%E4%BF%9D%E6%8C%81%E5%AE%B9%E5%99%A8%E5%A4%84%E4%BA%8E%E6%B4%BB%E8%B7%83%E7%8A%B6%E6%80%81alive/:0:0","tags":["docker","docker-compose","command","alive"],"title":"docker compose command ä¿æŒå®¹å™¨å¤„äºæ´»è·ƒçŠ¶æ€alive","uri":"/2022-11-24-docker-compose-command-%E4%BF%9D%E6%8C%81%E5%AE%B9%E5%99%A8%E5%A4%84%E4%BA%8E%E6%B4%BB%E8%B7%83%E7%8A%B6%E6%80%81alive/"},{"categories":["tools"],"content":"ç”±äº Dockerfile ä½¿ç”¨äº†å¤šå±‚æ„å»ºçš„æ–¹å¼ï¼Œå¯¹äºæ²¡æœ‰æ”¹åŠ¨çš„å‘½ä»¤è¡Œï¼Œå°±ä¸ä¼šåœ¨æ‰§è¡Œé‡æ–°æ„å»ºäº†ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨ Dockerfile ä¿æŒæ›´æ–° git pullï¼Œå¯ä»¥æœ‰ä¸¤ç§æ–¹å¼ docker build çš„æ—¶å€™ä½¿ç”¨ --no-cache é€‰é¡¹ï¼Œä½†æ˜¯è¿™ä¸ªæ˜¯å…¨å±€èŒƒå›´çš„é…ç½®ï¼Œä¸€æ—¦è®¾ç½®ï¼Œéœ€è¦å…¨éƒ¨é‡æ–°æ„å»ºï¼Œå¾€å¾€æ˜¾å¾—ååˆ†è‡ƒè‚¿ docker-compose è¿˜æ”¯æŒæä¾› --build-arg çš„é€‰é¡¹ï¼Œå¯ä»¥æŠŠä¸€äº›å‚æ•°ä¼ é€’åˆ° Dockerfile é‡Œé¢ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªå°æŠ€å·§ï¼Œå¦‚æœæˆ‘ä»¬æ¯æ¬¡æ„å»ºçš„æ—¶å€™ï¼Œä¼ é€’çš„å‚æ•°æ˜¯ä¸€ä¸ªä¸æ—¶é—´ç›¸å…³çš„ï¼Œåˆ™åœ¨æ¯æ¬¡æ„å»ºçš„æ—¶å€™éƒ½ä¼šä¼ é€’ä¸åŒçš„å‚æ•°ï¼Œä»è€Œä¿è¯äº†åœ¨è¯¥å‚æ•°ä¹‹åçš„æ„å»ºæ˜¯ä¼šä¿æŒæ›´æ–°ä¸æ„å»ºçš„ã€‚ ## ensure latest wepy ARG BUILD_DATE RUN --mount=type=ssh \\ mkdir -p ~/git \u0026\u0026 cd ~/git \u0026\u0026 \\ git clone git@192.168.1.171:lfang/wepy.git \u0026\u0026 \\ cd ~/git/wepy \u0026\u0026 \\ bash ./install.venv.sh \u0026\u0026 \\ rm -rf ~/git/wepy ## ---------------------------------------------------------------------------- ## build export COMPOSE_DOCKER_CLI_BUILD=1 export DOCKER_BUILDKIT=1 DOCKER_BUILDKIT=1 docker build \\ --ssh default \\ --build-arg BUILD_DATE=$(date -u +'%Y-%m-%dT%H:%M:%S') \\ -t pydev:v1.0 . ## ---------------------------------------------------------------------------- ","date":"2022-11-24","objectID":"/2022-11-24-docker-compose-%E4%BF%9D%E6%8C%81-git-pull-%E6%9C%80%E6%96%B0%E4%BB%A3%E7%A0%81/:0:0","tags":["docker","docker-compose","RUN"],"title":"docker compose ä¿æŒ git pull æœ€æ–°ä»£ç ","uri":"/2022-11-24-docker-compose-%E4%BF%9D%E6%8C%81-git-pull-%E6%9C%80%E6%96%B0%E4%BB%A3%E7%A0%81/"},{"categories":["tools"],"content":"åœ¨å‡çº§ Python3.11 è¿‡ç¨‹ä¸­é‡åˆ°ä¸€äº›é—®é¢˜ï¼Œè¿™é‡Œé¡ºæ‰‹è®°å½•ä¸€ä¸‹ã€‚ éœ€è¦å®‰è£… bzip2-devel yum install -y bzip2* æ‰¾åˆ° _bz2 sudo find / -name '*_bz2*' /mnt/.local/share/Trash/files/anaconda3.9/lib/python3.9/lib-dynload/_bz2.cpython-39-x86_64-linux-gnu.so ## æ‰¾åˆ°å¯¹åº”çš„éœ€è¦å¤„ç†çš„ python ç‰ˆæœ¬è·¯å¾„ cd /usr/local/python3/lib/python3.11/lib-dynload ## å®‰è£…ç‰ˆæœ¬ä¿®æ”¹ cp _bz2.cpython-39-x86_64-linux-gnu.so _bz2.cpython-311-x86_64-linux-gnu.so æ‰¾åˆ° libbz2.so.1.0 sudo find / -name 'libbz2.so.1.0' python11 ç›®å‰è¿˜ä¸èƒ½æ”¯æŒ numba ","date":"2022-11-24","objectID":"/2022-11-24-python3.11-%E9%81%BF%E5%9D%91%E6%8C%87%E5%8D%97/:0:0","tags":["python","python3.11"],"title":"Python3.11 é¿å‘æŒ‡å—","uri":"/2022-11-24-python3.11-%E9%81%BF%E5%9D%91%E6%8C%87%E5%8D%97/"},{"categories":["tools"],"content":"ä¸ºäº†åœ¨ Docker é•œåƒé‡Œé¢ä¸‹è½½ç§æœ‰ git é¡¹ç›®ä»£ç ï¼Œæˆ‘ä»¬éœ€è¦å‘Šè¯‰ Dockerfile å¦‚ä½•è°ƒç”¨ä¸»æœºçš„ ssh å…¬é’¥ã€‚ ","date":"2022-11-24","objectID":"/2022-11-24-dockerfile-%E4%BD%BF%E7%94%A8-ssh-%E4%B8%8B%E8%BD%BD%E7%A7%81%E6%9C%89-git-%E9%A1%B9%E7%9B%AE/:0:0","tags":["docker","dockerfile","ssh","git"],"title":"Dockerfile ä½¿ç”¨ ssh ä¸‹è½½ç§æœ‰ git é¡¹ç›®","uri":"/2022-11-24-dockerfile-%E4%BD%BF%E7%94%A8-ssh-%E4%B8%8B%E8%BD%BD%E7%A7%81%E6%9C%89-git-%E9%A1%B9%E7%9B%AE/"},{"categories":["tools"],"content":" Dockerfile #syntax=docker/dockerfile:1.0.0-experimental ## å‡è®¾ç§æœ‰ git ç½‘ç«™æ˜¯ï¼š192.168.1.171ï¼Œ ## å¦‚æœæ˜¯ githubï¼Œæ›¿æ¢æˆ github.com RUN mkdir -p ~/.ssh \u0026\u0026 \\ chmod 700 ~/.ssh \u0026\u0026 \\ ssh-keyscan 192.168.1.171 \u003e\u003e ~/.ssh/known_hosts \u0026\u0026 \\ RUN --mount=type=ssh \u0026\u0026 \\ mkdir -p ~/git \u0026\u0026 cd ~/git \u0026\u0026 \\ git clone git@192.168.1.171:lfang/wepy.git \u0026\u0026 \\ cd wepy \u0026\u0026 \\ bash ./install.venv.sh \u0026\u0026 \\ rm -rf ~/git/wepy è¿™é‡Œéœ€è¦æ³¨æ„ï¼š åœ¨ Dockerfile ç¬¬ä¸€è¡Œï¼ˆå‰é¢ä¸èƒ½æœ‰å…¶ä»–æ³¨é‡Šï¼‰æ·»åŠ  #syntax=docker/dockerfile:1.0.0-experimental æ·»åŠ  ssh-keyscan é¿å… unknown host é”™è¯¯ ä½¿ç”¨ Run --mount=type=ssh XXX æ‰§è¡Œéœ€è¦çš„å‘½ä»¤ å¦å¤–ï¼Œæˆ‘ä»¬åœ¨ä¸Šå±‚çš„ Dockerfile ä¸èƒ½æœ‰ä»¥ä¸‹å‘½ä»¤ï¼Œè¿™ä¸ªä¼šå¹²æ‰° git çš„æƒé™é—®é¢˜ echo \"Host *\" \u003e\u003e ~/.ssh/config \u0026\u0026 \\ echo \" ServerAliveInterval 60\" \u003e\u003e ~/.ssh/config \u0026\u0026 \\ echo \" ServerAliveInterval 60\" \u003e\u003e ~/.ssh/config \u0026\u0026 \\ ","date":"2022-11-24","objectID":"/2022-11-24-dockerfile-%E4%BD%BF%E7%94%A8-ssh-%E4%B8%8B%E8%BD%BD%E7%A7%81%E6%9C%89-git-%E9%A1%B9%E7%9B%AE/:1:0","tags":["docker","dockerfile","ssh","git"],"title":"Dockerfile ä½¿ç”¨ ssh ä¸‹è½½ç§æœ‰ git é¡¹ç›®","uri":"/2022-11-24-dockerfile-%E4%BD%BF%E7%94%A8-ssh-%E4%B8%8B%E8%BD%BD%E7%A7%81%E6%9C%89-git-%E9%A1%B9%E7%9B%AE/"},{"categories":["tools"],"content":" Docker build ## ---------------------------------------------------------------------------- ## build export COMPOSE_DOCKER_CLI_BUILD=1 export DOCKER_BUILDKIT=1 # DOCKER_BUILDKIT=1 proxychains4 docker build --ssh default -t datamgr:v1.0 . DOCKER_BUILDKIT=1 docker build --ssh default -t datamgr:v1.0 . ## ---------------------------------------------------------------------------- è¿™é‡Œéœ€è¦æ³¨æ„ï¼š ä½¿ç”¨ ``DOCKER_BUILDKIT=1 å¼€å¯å®éªŒæ€§åŠŸèƒ½ï¼ˆâ€“mount`ï¼‰ ","date":"2022-11-24","objectID":"/2022-11-24-dockerfile-%E4%BD%BF%E7%94%A8-ssh-%E4%B8%8B%E8%BD%BD%E7%A7%81%E6%9C%89-git-%E9%A1%B9%E7%9B%AE/:2:0","tags":["docker","dockerfile","ssh","git"],"title":"Dockerfile ä½¿ç”¨ ssh ä¸‹è½½ç§æœ‰ git é¡¹ç›®","uri":"/2022-11-24-dockerfile-%E4%BD%BF%E7%94%A8-ssh-%E4%B8%8B%E8%BD%BD%E7%A7%81%E6%9C%89-git-%E9%A1%B9%E7%9B%AE/"},{"categories":["tools"],"content":"å¯¹äºåœ¨ fdisk æ˜¾ç¤ºï¼Œä½†æ˜¯æ²¡æœ‰æ·»åŠ åˆ°å·²ç»æŒ‚è½½ç›®å½•çš„ç£ç›˜ç©ºé—´ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œå¯¹å‰©ä½™ç£ç›˜ç©ºé—´çš„æŒ‚è½½æ“ä½œã€‚ ","date":"2022-11-23","objectID":"/2022-11-23-linux-fdisk-%E5%B0%86%E5%89%A9%E4%BD%99%E6%9C%AA%E5%88%86%E5%8C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%8C%82%E8%BD%BD/:0:0","tags":["Linux","fdisk","lvm","lvextend","lvdisplay","vgdisplay"],"title":"Linux fdisk å°†å‰©ä½™æœªåˆ†åŒºçš„ç£ç›˜ç©ºé—´æŒ‚è½½","uri":"/2022-11-23-linux-fdisk-%E5%B0%86%E5%89%A9%E4%BD%99%E6%9C%AA%E5%88%86%E5%8C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%8C%82%E8%BD%BD/"},{"categories":["tools"],"content":" fdisk -l æŸ¥çœ‹å½“å‰ç£ç›˜ç©ºé—´ fdisk -l å¯ä»¥çœ‹åˆ°ï¼Œè¿™æ—¶å€™ /dev/sda ä¸€å…±æœ‰ 200G ç©ºé—´ï¼Œä½†å®é™…å ç”¨çš„ç£ç›˜åªæœ‰19G(19,921,920)ã€‚ ","date":"2022-11-23","objectID":"/2022-11-23-linux-fdisk-%E5%B0%86%E5%89%A9%E4%BD%99%E6%9C%AA%E5%88%86%E5%8C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%8C%82%E8%BD%BD/:1:0","tags":["Linux","fdisk","lvm","lvextend","lvdisplay","vgdisplay"],"title":"Linux fdisk å°†å‰©ä½™æœªåˆ†åŒºçš„ç£ç›˜ç©ºé—´æŒ‚è½½","uri":"/2022-11-23-linux-fdisk-%E5%B0%86%E5%89%A9%E4%BD%99%E6%9C%AA%E5%88%86%E5%8C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%8C%82%E8%BD%BD/"},{"categories":["tools"],"content":" vgdisplay æ˜¾ç¤ºå½“å‰å¯ç”¨é€»è¾‘å·ç©ºé—´ å‘ç°å¯ä»¥ç©ºé—´ï¼ˆFree PE / Size) ä¸ºç©ºã€‚ ","date":"2022-11-23","objectID":"/2022-11-23-linux-fdisk-%E5%B0%86%E5%89%A9%E4%BD%99%E6%9C%AA%E5%88%86%E5%8C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%8C%82%E8%BD%BD/:2:0","tags":["Linux","fdisk","lvm","lvextend","lvdisplay","vgdisplay"],"title":"Linux fdisk å°†å‰©ä½™æœªåˆ†åŒºçš„ç£ç›˜ç©ºé—´æŒ‚è½½","uri":"/2022-11-23-linux-fdisk-%E5%B0%86%E5%89%A9%E4%BD%99%E6%9C%AA%E5%88%86%E5%8C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%8C%82%E8%BD%BD/"},{"categories":["tools"],"content":" lvdisplay æŸ¥çœ‹åˆ†å·çš„åç§° --- Logical volume --- LV Path /dev/centos/root LV Name root VG Name centos LV UUID RJXQ4v-eiWR-Mddv-afWi-JFcm-I2pk-dk78jm LV Write Access read/write LV Creation host, time localhost, 2022-10-11 18:10:29 +0800 LV Status available # open 1 LV Size \u003c117.00 GiB Current LE 29951 Segments 2 Allocation inherit Read ahead sectors auto - currently set to 8192 Block device 253:0 --- Logical volume --- LV Path /dev/centos/swap LV Name swap VG Name centos LV UUID o6bndH-Tev1-1nLj-l3ZW-HKE5-UncQ-69aBLQ LV Write Access read/write LV Creation host, time localhost, 2022-10-11 18:10:29 +0800 LV Status available # open 2 LV Size 2.00 GiB Current LE 512 Segments 1 Allocation inherit Read ahead sectors auto - currently set to 8192 Block device 253:1 å¯ä»¥çœ‹åˆ°ï¼Œæ ¹ç›®å½•/ å¯¹åº”çš„è·¯å¾„æ˜¯ /dev/centos/rootï¼Œæˆ‘ä»¬å°±æ˜¯éœ€è¦æ‰©å±•è¿™ä¸ªåˆ†å·ç©ºé—´ã€‚ ","date":"2022-11-23","objectID":"/2022-11-23-linux-fdisk-%E5%B0%86%E5%89%A9%E4%BD%99%E6%9C%AA%E5%88%86%E5%8C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%8C%82%E8%BD%BD/:3:0","tags":["Linux","fdisk","lvm","lvextend","lvdisplay","vgdisplay"],"title":"Linux fdisk å°†å‰©ä½™æœªåˆ†åŒºçš„ç£ç›˜ç©ºé—´æŒ‚è½½","uri":"/2022-11-23-linux-fdisk-%E5%B0%86%E5%89%A9%E4%BD%99%E6%9C%AA%E5%88%86%E5%8C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%8C%82%E8%BD%BD/"},{"categories":["tools"],"content":" fdisk åˆå§‹åŒ–æœªæœªæŒ‚ç£ç›˜ fdisk /dev/sda åˆå§‹åŒ–å®Œæˆåï¼Œä¼šçœ‹åˆ°å¤šäº†ä¸€ä¸ª /dev/sda3. ","date":"2022-11-23","objectID":"/2022-11-23-linux-fdisk-%E5%B0%86%E5%89%A9%E4%BD%99%E6%9C%AA%E5%88%86%E5%8C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%8C%82%E8%BD%BD/:4:0","tags":["Linux","fdisk","lvm","lvextend","lvdisplay","vgdisplay"],"title":"Linux fdisk å°†å‰©ä½™æœªåˆ†åŒºçš„ç£ç›˜ç©ºé—´æŒ‚è½½","uri":"/2022-11-23-linux-fdisk-%E5%B0%86%E5%89%A9%E4%BD%99%E6%9C%AA%E5%88%86%E5%8C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%8C%82%E8%BD%BD/"},{"categories":["tools"],"content":" pvcreate æ·»åŠ åˆ°é€»è¾‘å· pvcreate /dev/sda3 ","date":"2022-11-23","objectID":"/2022-11-23-linux-fdisk-%E5%B0%86%E5%89%A9%E4%BD%99%E6%9C%AA%E5%88%86%E5%8C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%8C%82%E8%BD%BD/:5:0","tags":["Linux","fdisk","lvm","lvextend","lvdisplay","vgdisplay"],"title":"Linux fdisk å°†å‰©ä½™æœªåˆ†åŒºçš„ç£ç›˜ç©ºé—´æŒ‚è½½","uri":"/2022-11-23-linux-fdisk-%E5%B0%86%E5%89%A9%E4%BD%99%E6%9C%AA%E5%88%86%E5%8C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%8C%82%E8%BD%BD/"},{"categories":["tools"],"content":" vgextend vgextend /dev/sda3 ","date":"2022-11-23","objectID":"/2022-11-23-linux-fdisk-%E5%B0%86%E5%89%A9%E4%BD%99%E6%9C%AA%E5%88%86%E5%8C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%8C%82%E8%BD%BD/:6:0","tags":["Linux","fdisk","lvm","lvextend","lvdisplay","vgdisplay"],"title":"Linux fdisk å°†å‰©ä½™æœªåˆ†åŒºçš„ç£ç›˜ç©ºé—´æŒ‚è½½","uri":"/2022-11-23-linux-fdisk-%E5%B0%86%E5%89%A9%E4%BD%99%E6%9C%AA%E5%88%86%E5%8C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%8C%82%E8%BD%BD/"},{"categories":["tools"],"content":" lvextend lvextend -L +100G /dev/mapper/centos-root ","date":"2022-11-23","objectID":"/2022-11-23-linux-fdisk-%E5%B0%86%E5%89%A9%E4%BD%99%E6%9C%AA%E5%88%86%E5%8C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%8C%82%E8%BD%BD/:7:0","tags":["Linux","fdisk","lvm","lvextend","lvdisplay","vgdisplay"],"title":"Linux fdisk å°†å‰©ä½™æœªåˆ†åŒºçš„ç£ç›˜ç©ºé—´æŒ‚è½½","uri":"/2022-11-23-linux-fdisk-%E5%B0%86%E5%89%A9%E4%BD%99%E6%9C%AA%E5%88%86%E5%8C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%8C%82%E8%BD%BD/"},{"categories":["tools"],"content":" æ–°ç£ç›˜ pvcreate /dev/sda pvdisplay # å°†æ–°çš„ PV åŠ å…¥ VolGroup ç»„å·ï¼Œä½¿ç”¨ vgdisplay è·å–å¾—åˆ°çš„ `VG Name` vgextend centos /dev/sda ## æŸ¥çœ‹å½“å‰é€»è¾‘ç£ç›˜çš„ç©ºé—´å¤§å° lvdisplay ## æŸ¥çœ‹ç³»ç»Ÿå¯ç”¨ç©ºé—´å¤§å° vgdisplay ## å¢åŠ ä¸€ä¸ª vg lvs lvcreate -L1024G -n data centos lvs mkfs.xfs /dev/mapper/centos-data mkdir -p /data mount /dev/mapper/centos-data /data ## è®¾ç½®è‡ªåŠ¨æŒ‚è½½ vim /etc/fstab /dev/mapper/centos-data /data xfs defaults 0 0 ## é€»è¾‘å·æ‰©å®¹ ## æŸ¥çœ‹ç³»ç»Ÿå¯ç”¨ç©ºé—´å¤§å° vgdisplay ## å¼€å§‹è¿›è¡Œç£ç›˜æ‰©å±•ï¼Œå¢åŠ  500G åˆ° /dev/mapper/centos-dataï¼ˆä¹Ÿå°±æ˜¯ /dataï¼‰ lvextend -L +500G /dev/mapper/centos-data xfs_growfs /dev/mapper/centos-data ## CentOS6 ä½¿ç”¨å‘½ä»¤ resize2fs df -h ","date":"2022-11-23","objectID":"/2022-11-23-linux-fdisk-%E5%B0%86%E5%89%A9%E4%BD%99%E6%9C%AA%E5%88%86%E5%8C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%8C%82%E8%BD%BD/:8:0","tags":["Linux","fdisk","lvm","lvextend","lvdisplay","vgdisplay"],"title":"Linux fdisk å°†å‰©ä½™æœªåˆ†åŒºçš„ç£ç›˜ç©ºé—´æŒ‚è½½","uri":"/2022-11-23-linux-fdisk-%E5%B0%86%E5%89%A9%E4%BD%99%E6%9C%AA%E5%88%86%E5%8C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%8C%82%E8%BD%BD/"},{"categories":["tools"],"content":" å¦‚æœä¸æ˜¯é€»è¾‘å· lvmï¼Œåˆ™ç›´æ¥æŒ‚è½½ ## æŸ¥çœ‹ fdisk -l ## æ–°å»ºåˆ†åŒº fdisk /dev/sda n -\u003e 1 -\u003e 8e -\u003e w ## æ ¼å¼åŒ– mkfs.ext4 /dev/sda1 ## ç›´æ¥æŒ‚è½½åˆ°ã€€/data mkdir -p /data mount /dev/sda1 /data vi /etc/fstab /dev/sda1 /data ext4 defaults 0 0 RefLinux å°†å‰©ä½™æœªåˆ†åŒºçš„ç£ç›˜ç©ºé—´æŒ‚è½½ ","date":"2022-11-23","objectID":"/2022-11-23-linux-fdisk-%E5%B0%86%E5%89%A9%E4%BD%99%E6%9C%AA%E5%88%86%E5%8C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%8C%82%E8%BD%BD/:9:0","tags":["Linux","fdisk","lvm","lvextend","lvdisplay","vgdisplay"],"title":"Linux fdisk å°†å‰©ä½™æœªåˆ†åŒºçš„ç£ç›˜ç©ºé—´æŒ‚è½½","uri":"/2022-11-23-linux-fdisk-%E5%B0%86%E5%89%A9%E4%BD%99%E6%9C%AA%E5%88%86%E5%8C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%8C%82%E8%BD%BD/"},{"categories":["tools"],"content":"åœ¨ä¸€ä¸ª Docker é‡Œé¢è°ƒç”¨ç³»ç»Ÿå‘½ä»¤ systemctl ## å¯åŠ¨çš„æ—¶å€™æ·»åŠ  /sbin/init ## ä¸æ˜¯ /usr/sbin/init/ å› ä¸ºæœ‰å¯èƒ½æ‰¾ä¸åˆ° docker run --name rshiny -dit --privileged=true -p 58787:8787 -p 53838:3838 -p50022:22 wuya-centos7-r4.0:v1.0 /sbin/init docker run --name rshiny -dit --privileged=true -p 58787:8787 -p 53838:3838 -p50022:22 192.168.1.88:5000/wuya/centos7-r4.0:v1.0 /sbin/init ## è¿è¡Œçš„æ—¶å€™æ·»åŠ  bash docker exec -it rshiny bash sudo systemctl start rstudio-server sudo systemctl start shiny-server ","date":"2022-11-23","objectID":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8-systemctl/:0:0","tags":["docker","systemctl","systemd","Linux"],"title":"Docker ä½¿ç”¨ systemctl","uri":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8-systemctl/"},{"categories":["tools"],"content":"å±…å®¶å¿…å¤‡ä¹‹ Docker è¿ç»´æ€»ç»“ã€‚ å®‰è£… Docker","date":"2022-11-23","objectID":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/:0:0","tags":["docker"],"title":"Docker è¿ç»´å°è®°","uri":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/"},{"categories":["tools"],"content":" åˆ é™¤æ—§ç‰ˆæœ¬ sudo yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-engine ","date":"2022-11-23","objectID":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/:1:0","tags":["docker"],"title":"Docker è¿ç»´å°è®°","uri":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/"},{"categories":["tools"],"content":" æ·»åŠ è½¯ä»¶æº sudo yum install -y yum-utils sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo sudo yum update ","date":"2022-11-23","objectID":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/:2:0","tags":["docker"],"title":"Docker è¿ç»´å°è®°","uri":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/"},{"categories":["tools"],"content":" å®‰è£… sudo yum install docker.io æˆ–è€…ä½¿ç”¨å›½å†… daocloud ä¸€é”®å®‰è£…å‘½ä»¤ï¼š ## daocloud curl -sSL https://get.daocloud.io/docker | sh æ­å»ºç§æœ‰ DockerHub","date":"2022-11-23","objectID":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/:3:0","tags":["docker"],"title":"Docker è¿ç»´å°è®°","uri":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/"},{"categories":["tools"],"content":" å»ºç«‹ registry ## ä½¿ç”¨ docker è¿›è¡Œ registry2 è¿›è¡Œç®¡ç† docker pull registry ## å»ºç«‹ä¸€ä¸ªç›®å½•å­˜æ”¾ docker é•œåƒ, é»˜è®¤æ˜¯å­˜æ”¾åœ¨ /tmp/registry ## ä¸ºäº†é˜²æ­¢ä¸å°å¿ƒåˆ æ‰ï¼Œæˆ‘ä»¬å°†å…¶æŒ‚è½½åˆ° /data/Docker/registry è¿™ä¸ªç›®å½•ä¸‹ mkdir -p /data/Docker/registy docker run --name docker.registry \\ -d -p 5000:5000 \\ -v /data/Docker/registy:/tmp/registry \\ registry docker ps -a ## å¼€å¯é˜²ç«å¢™5000ç«¯å£ systemctl restart firewalld.service firewall-cmd --zone=public --permanent--add-port=5000/tcp firewall-cmd --reload ## å¦‚æœå‡ºç°é”™è¯¯ ## -i docker0: iptables: no chain/target/match by that name. ## Ref:https://blog.csdn.net/xujiamin0022016/article/details/108124725 systemctl restart docker ## æµ‹è¯•è®¿é—® curl http://127.0.0.1:5000/v2/ ## è¿”å› {} è¯´æ˜æ­£å¸¸è¿è¡Œäº† ","date":"2022-11-23","objectID":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/:4:0","tags":["docker"],"title":"Docker è¿ç»´å°è®°","uri":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/"},{"categories":["tools"],"content":" é…ç½®éœ€è¦é…ç½® daemon.json å…è®¸è®¿é—®æœ¬åœ°ä½¿ç”¨ DockerHub sudo vim /etc/docker/daemon.json { \"registry-mirrors\" : [ \"http://ovfftd6p.mirror.aliyuncs.com\", \"http://registry.docker-cn.com\", \"http://docker.mirrors.ustc.edu.cn\", \"http://hub-mirror.c.163.com\" ], \"insecure-registries\" : [ \"registry.docker-cn.com\", \"docker.mirrors.ustc.edu.cn\", \"192.168.1.183:5000\" ], \"debug\" : true, \"experimental\" : true, \"log-driver\": \"json-file\", \"log-opts\": { \"max-size\": \"1m\", \"max-file\": \"10\" } } è¿™é‡Œéœ€è¦æ³¨æ„éœ€è¦é‡å¯ docker æœåŠ¡ systemctl restart docker ","date":"2022-11-23","objectID":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/:5:0","tags":["docker"],"title":"Docker è¿ç»´å°è®°","uri":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/"},{"categories":["tools"],"content":" æµ‹è¯• ## æŸ¥çœ‹å½“å‰æœ‰å“ªäº› images docker image ls docker tag hello-world 192.168.1.183:5000/testing docker push 192.168.1.183:5000/testing docker push 192.168.1.183:5000/testing ## å¯ä»¥çœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯æœ‰è¿™ä¸ª repo äº† curl http://192.168.1.183:5000/v2/_catalog å¸¸ç”¨å‘½ä»¤ ç¼–å†™ Dockerfile","date":"2022-11-23","objectID":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/:6:0","tags":["docker"],"title":"Docker è¿ç»´å°è®°","uri":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/"},{"categories":["tools"],"content":" Centos7.9å¯ä»¥ä½¿ç”¨ä¸€ä¸‹çš„æ¨¡æ¿æ¥ç¼–å†™ä¸€ä¸ªæµ‹è¯•ä½¿ç”¨çš„ CentOS7 å¼€å‘ç¯å¢ƒ æŸ¥çœ‹ centos https://hub.docker.com/_/centos?tab=tags\u0026page=1\u0026ordering=last_updated FROM centos:centos7.9.2009 MAINTAINER WuyaCapital LABEL Remarks=\"CentOS7.9 Develop\u0026Testing Environment @WuyaCapital\" RUN yum -y install \\ sudo vim git make cmake htop\\ gcc gcc-c++ kernel-devel \\ openssl-devel libcurl-devel RUN mkdir -p /shared/trading /data ENV PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin ENV LANG=en_US.UTF-8 ENV BASH_ENV=~/.bashrc \\ ENV=~/.bashrc \\ PROMPT_COMMAND=\"source ~/.bashrc\" EXPOSE 22 80 WORKDIR /home CMD /bin/bash å‘½ä»¤è¯´æ˜ï¼š CMD æŒ‡å®šå®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œçš„å‘½ä»¤ï¼Œæ³¨æ„ï¼Œå’ŒRUNçš„åŒºåˆ«æ˜¯ï¼šRUNæ˜¯åœ¨æ‰“åŒ…è¿‡ç¨‹ä¸­æ‰§è¡Œçš„å‘½ä»¤ã€‚é•œåƒä¸­åªèƒ½æœ‰ä¸€æ¡CMDæŒ‡ä»¤ï¼Œå¦‚æœæœ‰å¤šä¸ªCMDæŒ‡ä»¤ï¼Œåˆ™ä»¥æœ€åä¸€æ¡ä¸ºå‡†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¦†ç›–åŸºç¡€é•œåƒä¸­å®šä¹‰çš„CMDæŒ‡ä»¤ã€‚CMDæŒ‡ä»¤æ”¯æŒä¸‰ç§æ ¼å¼ï¼š CMD [\"executable\", \"param1\", \"param2\"] ä½¿ç”¨execæ‰§è¡Œï¼Œè¿™æ˜¯ä½¿ç”¨CMDçš„é¦–é€‰æ–¹æ³• CMD command param1 param2 ä½¿ç”¨/bin/sh -cæ‰§è¡Œ CMD [\"param1\", \"param2\"] æä¾›ç»™ENTRYPOINTçš„é»˜è®¤å‚æ•° æ³¨æ„ï¼ŒæŒ‡å®šäº†CMDå‘½ä»¤ä»¥åï¼Œdocker container runå‘½ä»¤å°±ä¸èƒ½é™„åŠ å‘½ä»¤äº†ï¼ˆæ¯”å¦‚å‰é¢çš„/bin/bashï¼‰ï¼Œå¦åˆ™å®ƒä¼šè¦†ç›–CMDå‘½ä»¤ã€‚ ENTRYPOINT å®¹å™¨å¯åŠ¨å…¥å£ï¼Œå³å®¹å™¨å¯åŠ¨åæ‰§è¡Œçš„å‘½ä»¤ï¼Œä¸ä¼šè¢«CMDæŒ‡ä»¤è¦†ç›–ï¼Œå¦‚æœå­˜åœ¨ENTRYPOINTï¼Œé‚£ä¹ˆCMDæŒ‡ä»¤ä¼šå……å½“ENTRYPOINTçš„å‚æ•°ã€‚ ","date":"2022-11-23","objectID":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/:7:0","tags":["docker"],"title":"Docker è¿ç»´å°è®°","uri":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/"},{"categories":["tools"],"content":" æ­å»º docker build -t wuya-centos7:v1.0 . docker image ls ## ä½¿ç”¨ REPOSITORY:TAG ## ä½¿ç”¨ -v å¯ä»¥æŒ‚è½½ä¸»æœºæ–‡ä»¶ docker run --name mycentos7 --net=host -dit wuya-centos7:v1.0 ## å¯åŠ¨å®ä¾‹ docker exec -it mycentos7 /bin/bash å‘å¸ƒ Docker","date":"2022-11-23","objectID":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/:8:0","tags":["docker"],"title":"Docker è¿ç»´å°è®°","uri":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/"},{"categories":["tools"],"content":" æ‰“åŒ…ä¸€ä¸ªå®¹å™¨ docker commit -a \"william\" -m \"wuya-centos7:v1.0\" [container_id] image_id:version å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ‰“åŒ…æˆä¸€ä¸ªå‹ç¼©åŒ… ## æ‰“åŒ… docker save wuya-centos7:v1.0 \u003e mycetnos7.tar ## åŠ è½½ docker load -i mycetnos7.tar æˆ‘ä»¬ä¹Ÿå¯ä»¥é€‰æ‹©å‘å¸ƒåˆ° Dockerhub docker tag wuya-centos7:v1.0 192.168.1.183:5000/wuya/centos7:v1.0 docker push 192.168.1.183:5000/wuya/centos7:v1.0 docker pull 192.168.1.183:5000/wuya/centos7:v1.0 curl http://192.168.1.183:5000/v2/_catalog curl http://192.168.1.183:5000/v2/wuya/centos7/tags/list è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å»ºç«‹ä¸€ä¸ªæ–°çš„å®¹å™¨äº† ## è®°å¾—ä¿®æ”¹ vim /etc/docker/daemon.json docker pull 192.168.1.183:5000/wuya/centos7:v1.0 docker image ls docker run -dit --name testing 192.168.1.183:5000/wuya/centos7:v1.0 docker ps -a docker exec -it testing /bin/bash Q\u0026A","date":"2022-11-23","objectID":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/:9:0","tags":["docker"],"title":"Docker è¿ç»´å°è®°","uri":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/"},{"categories":["tools"],"content":" build çš„æ—¶å€™æ— æ³•ä½¿ç”¨ pip ç›´æ¥å®‰è£…ç¨‹åº è¿™ä¸ªæ˜¯å› ä¸º Docker çš„ DNS æ²¡æœ‰è¯†åˆ«åˆ°ï¼Œéœ€è¦å¤„ç†ä¸€ä¸‹ã€‚ Ref:[Canâ€™t install pip packages inside a docker container with Ubuntu](https://stackoverflow.com/questions/28668180/cant-install-pip-packages-inside-a-docker-container-with-ubuntu) ## ç¼–è¾‘ sudo vim /etc/default/docker ## æ·»åŠ  DNS DOCKER_OPTS=\"--dns 8.8.8.8\" ## é‡å¯ sudo systemctl restart docker ","date":"2022-11-23","objectID":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/:10:0","tags":["docker"],"title":"Docker è¿ç»´å°è®°","uri":"/2022-11-23-docker-%E8%BF%90%E7%BB%B4%E5%B0%8F%E8%AE%B0/"},{"categories":["tools"],"content":" å‚è€ƒé“¾æ¥ï¼šhttps://github.com/rocker-org/rocker/issues/206 https://hub.docker.com/r/rocker/rstudio ## æ–°å»º Docker docker run -d --name rstudio -v $HOME:/home/`whoami` -e USER=lfang -e PASSWORD=****** -p 58787:8787 rocker/tidyverse docker exec -it rstudio /bin/bash ç”¨æˆ·ï¼šlfang å¯†ç ï¼š****** ç«¯å£ï¼š58787 ## æ·»åŠ ç”¨æˆ·ï¼Œéœ€è¦è¿›å…¥ docker æ·»åŠ ç”¨æˆ· docker exec -it rstudio /bin/bash sudo adduser tester sudo passwd tester ","date":"2022-11-23","objectID":"/2022-11-23-docker-%E8%BF%90%E8%A1%8C-rstudio/:0:0","tags":["docker","rstudio"],"title":"Docker è¿è¡Œ rstudio","uri":"/2022-11-23-docker-%E8%BF%90%E8%A1%8C-rstudio/"},{"categories":["tools"],"content":"é€šè¿‡ Docker æ­å»ºä¸€ä¸ªå¯ç”¨çš„ openwrt ","date":"2022-11-23","objectID":"/2022-11-23-docker-%E6%90%AD%E5%BB%BA-openwrt/:0:0","tags":["docker","openwrt"],"title":"Docker æ­å»º openwrt","uri":"/2022-11-23-docker-%E6%90%AD%E5%BB%BA-openwrt/"},{"categories":["tools"],"content":" å®‰è£… ip addr sudo ip link set eno1 promisc on sudo docker network create -d macvlan --subnet=192.168.3.0/24 --gateway=192.168.3.1 -o parent=eno1 macnet docker network inspect macnet docker pull registry.cn-shanghai.aliyuncs.com/suling/openwrt:x86_64 sudo docker run -d --restart always --name openwrt --network macnet --privileged registry.cn-shanghai.aliyuncs.com/suling/openwrt:x86_64 /sbin/init sudo docker exec -it openwrt /bin/bash vi /etc/config/network config interface 'loopback' option ifname 'lo' option proto 'static' option ipaddr '127.0.0.1' option netmask '255.0.0.0' config globals 'globals' option ula_prefix 'fd7d:334c:6108::/48' option packet_steering '1' config interface 'lan' option type 'bridge' option ifname 'eth0' ## å¿…é¡»æ˜¯è¿™ä¸ª option proto 'static' option netmask '255.255.255.0' option ip6assign '60' option ipaddr '192.168.3.101' option gateway '192.168.3.1' option dns '192.168.3.1' option broadcast '192.168.3.255' config interface 'vpn0' option ifname 'tun0' option proto 'none' sudo docker restart openwrt å¯†ç ï¼špassword ","date":"2022-11-23","objectID":"/2022-11-23-docker-%E6%90%AD%E5%BB%BA-openwrt/:1:0","tags":["docker","openwrt"],"title":"Docker æ­å»º openwrt","uri":"/2022-11-23-docker-%E6%90%AD%E5%BB%BA-openwrt/"},{"categories":["tools"],"content":" å®¿ä¸»æœºä¸ Docker(openwrt) æ— æ³•é€šä¿¡ å‚è€ƒï¼šåœ¨dockerä¸­è¿è¡Œopenwrt #4 sudo ip link add link eno1 hMACvLAN type macvlan mode bridge sudo ip addr add 192.168.3.100/24 brd + dev hMACvLAN ## å¢åŠ ä¸€ä¸ªç½‘å¡ sudo ip link set hMACvLAN up ## ä»¥ä¸‹å¯èƒ½æœ‰é”™è¯¯ ======================= # #sudo ip route del default #åˆ é™¤é»˜è®¤è·¯ç”± # sudo ip route add default via 192.168.3.105 dev hMACvLAN # è®¾ç½®é™æ€è·¯ç”± # sudo echo \"nameserver 192.168.3.1\" \u003e /etc/resolv.conf # è®¾ç½®é™æ€ dns æœåŠ¡å™¨ # ping 192.168.3.105 # # æˆ–è€…ä½¿ç”¨ nmcli # nmcli connection add type macvlan dev eno1 mode bridge ifname hMACvLAN autoconnect yes save yes docker import https://downloads.openwrt.org/releases/19.07.0/targets/x86/64/openwrt-19.07.0-x86-64-generic-rootfs.tar.gz openwrt:19.07.0 sudo docker run -d â€“restart unless-stopped â€“network macvLan â€“privileged registry.cn-shanghai.aliyuncs.com/suling/openwrt:x86_64 â€“name openwrt /sbin/init sudo docker run â€“restart always â€“name openwrt â€“network macvLan â€“privileged registry.cn-shanghai.aliyuncs.com/suling/openwrt:x86_64 /sbin/init æ— æ³•è®¿é—®å›½å†…ç½‘å€ï¼š dns é€‰æ‹©ï¼špdnsdï¼š208.67.222.222(Open DNS) https://github.com/coolsnowwolf/lede/issues/5520 å…³é—­ â€œç³»ç»Ÿâ€ -\u003e â€œå¯åŠ¨é¡¹â€ -\u003e â€œ19â€(firewall éœ€è¦ç¦æ­¢) â€œç½‘ç»œâ€ -\u003e â€œæ¥å£â€ -\u003e â€œé˜²ç«å¢™â€ -\u003e â€œåŒºåŸŸâ€(éœ€è¦å…¨éƒ¨é€‰æ‹©æ¥å—) ç„¶ååœ¨\"è‡ªå®šä¹‰è§„åˆ™é‡Œé¢\"ï¼Œå¡«å†™ iptables -t nat -I POSTROUTING -j MASQUERADE åœ¨ â€œæœåŠ¡â€ -\u003e â€œPassWallâ€ -\u003e â€œæ¨¡å¼â€ TCPé»˜è®¤æ¨¡å¼ï¼š GFW åˆ—è¡¨ UDPé»˜è®¤æ¨¡å¼ï¼šGFW åˆ—è¡¨ è·¯ç”±å™¨TCPï¼šGFWï¼ˆè¿™ä¸ªGFWæ¨¡å¼å°±å¯ä»¥ï¼‰ è·¯ç”±å™¨UDPï¼šGFWï¼ˆè¿™ä¸ªGFWæ¨¡å¼å°±å¯ä»¥ï¼‰ 5.æ‰‹æœºè¿æ¥ a. IP æ‰‹åŠ¨ï¼š IPåœ°å€ï¼š192.168.3.29ï¼ˆè‡ªå·±æ‰‹æœºçš„å›ºå®šIPï¼‰ å­ç½‘æ©ç ï¼š255.255.255.0 è·¯ç”±å™¨ï¼š192.168.3.101ï¼ˆéœ€è¦å’Œopenwrtè·¯ç”±å™¨ä¸€æ ·ï¼‰ b. é…ç½®DNSï¼Œéœ€è¦å…ˆåˆ é™¤æ‰åŸæ¥çš„ æ‰‹åŠ¨ï¼š192.168.3.101ï¼ˆéœ€è¦å’Œopenwrtè·¯ç”±å™¨ä¸€æ ·ï¼‰ William-Ubuntu å®‰è£… ip add ## å¦‚æœåŸæ¥æœ‰ç½‘å¡ï¼Œéœ€è¦åˆ é™¤æ‰ sudo ifconfig hMACvLAN down sudo ip link delete hMACvLAN sudo ip link set enp0s31f6 promisc on ## å¦‚æœæœ‰ï¼Œéœ€è¦åˆ æ‰ docker network ls docker network rm macnet docker network create -d macvlan --subnet=192.168.1.0/24 --gateway=192.168.1.1 -o parent=enp0s31f6 macnet docker network inspect macnet docker run -d \\ --restart always \\ --name openwrt \\ --network macnet \\ --privileged \\ registry.cn-shanghai.aliyuncs.com/suling/openwrt:x86_64 \\ /sbin/init docker exec -it openwrt /bin/bash vi /etc/config/network config interface 'loopback' option ifname 'lo' option proto 'static' option ipaddr '127.0.0.1' option netmask '255.0.0.0' config globals 'globals' option ula_prefix 'fd7d:334c:6108::/48' option packet_steering '1' config interface 'lan' option type 'bridge' option ifname 'eth0' option proto 'static' option netmask '255.255.255.0' option ip6assign '60' option ipaddr '192.168.1.101' ## docker ipï¼Œå¯ä»¥æ‰“å¼€ç›‘æ§ç•Œé¢ option gateway '192.168.1.1' option dns '192.168.1.1' config interface 'vpn0' option ifname 'tun0' option proto 'none' docker restart openwrt ## ç®¡ç†ç•Œé¢å¯†ç  å¯†ç ï¼špassword sudo ip link add link enp0s31f6 hMACvLAN type macvlan mode bridge sudo ip addr add 192.168.1.100/24 brd + dev hMACvLAN ## å¢åŠ ä¸€ä¸ªç½‘å¡ sudo ip link set hMACvLAN up ","date":"2022-11-23","objectID":"/2022-11-23-docker-%E6%90%AD%E5%BB%BA-openwrt/:2:0","tags":["docker","openwrt"],"title":"Docker æ­å»º openwrt","uri":"/2022-11-23-docker-%E6%90%AD%E5%BB%BA-openwrt/"},{"categories":["tools"],"content":"æ­å»ºä¼ä¸šå†…éƒ¨ä½¿ç”¨çš„ä»“åº“ã€‚ å®‰è£… Docker Register ## ä½¿ç”¨ docker è¿›è¡Œ registry2 è¿›è¡Œç®¡ç† docker pull registry ## å»ºç«‹ä¸€ä¸ªç›®å½•å­˜æ”¾ docker é•œåƒ, é»˜è®¤æ˜¯å­˜æ”¾åœ¨ /tmp/registry mkdir -p /data/Docker/registy docker run --name docker.registry -d -p 5000:5000 -v /data/Docker/registy:/tmp/registry --restart unless-stopped registry docker update --restart=always \u003ccontaier_id\u003e docker ps -a ## å¼€å¯é˜²ç«å¢™5000ç«¯å£ systemctl restart firewalld.service firewall-cmd --zone=public --add-port=5000/tcp --permanent firewall-cmd --reload ## æµ‹è¯•è®¿é—® curl http://192.168.1.135:5000/v2/ ä½¿ç”¨ ## æµ‹è¯• docker tag hello-world 192.168.1.135:5000/testing docker push 192.168.1.135:5000/testing ## æŸ¥çœ‹æ‰€æœ‰é•œåƒ curl http://10.32.111.107:5000/v2/_catalog ## æŸ¥çœ‹é•œåƒçš„æ‰€æœ‰tag curl http://10.32.111.107:5000/v2/william-centos7-gcc9/tags/list è¿œç¨‹å¦‚æœå‡ºç°æŠ¥é”™ http: server gave HTTP response to HTTPS client å¯¹äº CentOS éœ€è¦ä¿®æ”¹ï¼š vim /usr/lib/systemd/system/docker.service ## æ·»åŠ  --insecure-registry 10.32.111.107:5000 ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock --insecure-registry 10.32.111.107:5000 æˆ–è€…å¯ä»¥ç›´æ¥ä¿®æ”¹ï¼ˆå¦‚æœæ˜¯ç©ºçš„ï¼Œéœ€è¦åˆ›å»ºï¼‰ ## ç¼–è¾‘ /etc/docker/daemon.json ## æ·»åŠ  \"insecure-registries\" é‡Œé¢çš„ \"docker.williamlfang.com:58080\" sudo vim /etc/docker/daemon.json { \"registry-mirrors\" : [ \"https://mirror.baidubce.com\", \"http://ovfftd6p.mirror.aliyuncs.com\", \"http://registry.docker-cn.com\", \"http://hub-mirror.c.163.com\" ], \"insecure-registries\" : [ \"registry.docker-cn.com\", \"docker.mirrors.ustc.edu.cn\", \"docker.williamlfang.com:58080\", \"192.168.1.88:5000\", \"192.168.1.183:5000\", \"10.32.111.107:5000\" ], \"debug\" : true, \"experimental\" : true, \"log-driver\": \"json-file\", \"log-opts\": { \"max-size\": \"1m\", \"max-file\": \"10\" } } sudo systemctl restart docker ## è·å–é•œåƒ docker pull docker.williamlfang.com:58080/testing Using default tag: latest latest: Pulling from testing Digest: sha256:90659bf80b44ce6be8234e6ff90a1ac34acbeb826903b02cfa0da11c82cbc042 Status: Downloaded newer image for docker.williamlfang.com:58080/testing:latest docker.williamlfang.com:58080/testing:latest æ·»åŠ è´¦æˆ·å¯†ç è®¤è¯","date":"2022-11-23","objectID":"/2022-11-23-centos7-%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89-dockerhub/:0:0","tags":["docker","registery","centos"],"title":"CentOS7 æ­å»ºç§æœ‰ DockerHub","uri":"/2022-11-23-centos7-%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89-dockerhub/"},{"categories":["tools"],"content":" å®‰è£… htpasswd sudo yum install -y httpd-tools mkdir /etc/docker/auth htpasswd -Bbn tradeops passwd \u003e /etc/docker/auth/htpasswd ## æµ‹è¯•æ˜¯å¦éœ€è¦è®¤è¯ curl http://192.168.1.88:5000/v2/ {\"errors\":[{\"code\":\"UNAUTHORIZED\",\"message\":\"authentication required\",\"detail\":null}]} ","date":"2022-11-23","objectID":"/2022-11-23-centos7-%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89-dockerhub/:1:0","tags":["docker","registery","centos"],"title":"CentOS7 æ­å»ºç§æœ‰ DockerHub","uri":"/2022-11-23-centos7-%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89-dockerhub/"},{"categories":["tools"],"content":" login docker login -u tradeops 192.168.1.88:5000 docker logout 192.168.1.88:5000 ","date":"2022-11-23","objectID":"/2022-11-23-centos7-%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89-dockerhub/:2:0","tags":["docker","registery","centos"],"title":"CentOS7 æ­å»ºç§æœ‰ DockerHub","uri":"/2022-11-23-centos7-%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89-dockerhub/"},{"categories":["tools"],"content":" æ·»åŠ  insecure { \"registry-mirrors\": [ \"http://hub-mirror.c.163.com\", \"https://docker.mirrors.ustc.edu.cn\", \"https://registry.docker-cn.com\" ], \"insecure-registries\" : [ \"192.168.1.162:5000\", \"10.32.111.107:5000\" ] } ","date":"2022-11-23","objectID":"/2022-11-23-centos7-%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89-dockerhub/:3:0","tags":["docker","registery","centos"],"title":"CentOS7 æ­å»ºç§æœ‰ DockerHub","uri":"/2022-11-23-centos7-%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89-dockerhub/"},{"categories":["tools"],"content":" airflow å¤„ç† docker é—®é¢˜ ## éœ€è¦åœ¨ airflow æ‰§è¡Œ docker logout 192.168.1.88:5000 ","date":"2022-11-23","objectID":"/2022-11-23-centos7-%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89-dockerhub/:4:0","tags":["docker","registery","centos"],"title":"CentOS7 æ­å»ºç§æœ‰ DockerHub","uri":"/2022-11-23-centos7-%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89-dockerhub/"},{"categories":["tools"],"content":"å±…å®¶å¿…å¤‡ä¹‹ Docker ä½¿ç”¨æ€»ç»“ã€‚ å®‰è£…","date":"2022-11-23","objectID":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/:0:0","tags":["docker","æ€»ç»“","æŠ€å·§","ç»éªŒ"],"title":"Docker ä½¿ç”¨æ€»ç»“","uri":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/"},{"categories":["tools"],"content":" UbuntuUbuntu æ“ä½œç³»ç»Ÿçš„å®‰è£…æ­¥éª¤å¯ä»¥å‚è€ƒå®˜ç½‘è¯´æ˜ å¸è½½æ—§ç‰ˆæœ¬ sudo apt-get remove docker docker-engine docker.io containerd runc Reading package lists... Done Building dependency tree Reading state information... Done Package 'docker-engine' is not installed, so not removed Package 'docker' is not installed, so not removed Package 'containerd' is not installed, so not removed Package 'docker.io' is not installed, so not removed Package 'runc' is not installed, so not removed 0 upgraded, 0 newly installed, 0 to remove and 43 not upgraded. æ·»åŠ è½¯ä»¶æº sudo apt-get update sudo apt-get install \\ apt-transport-https \\ ca-certificates \\ curl \\ gnupg-agent \\ software-properties-common curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add - echo $(lsb_release -cs) Linux Mint Releases Version Codename Package base 19.1 Tessa Ubuntu Bionic 19 Tara Ubuntu Bionic 18.3 Sylvia Ubuntu Xenial 18.2 Sonya Ubuntu Xenial # sudo add-apt-repository \"deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" sudo add-apt-repository \"deb [arch=amd64] https://download.docker.com/linux/ubuntu Bionic stable\" å¼€å§‹å®‰è£… sudo apt-get update sudo apt install docker.io è®¾ç½®å¯åŠ¨æœåŠ¡ sudo systemctl start docker ## æ·»åŠ å¼€æœºå¯åŠ¨ sudo systemctl enable docker æŸ¥çœ‹ Docker ç‰ˆæœ¬ docker --version Docker version 19.03.6, build 369ce74a3c Docker åå°æœåŠ¡éœ€è¦å…·æœ‰ sudo æƒé™ã€‚ä¸ºäº†é¿å…æ¯æ¬¡å‘½ä»¤éƒ½è¾“å…¥sudoï¼Œå¯ä»¥æŠŠç”¨æˆ·åŠ å…¥ Docker ç”¨æˆ·ç»„ï¼ˆå®˜æ–¹æ–‡æ¡£ï¼‰ã€‚ ## å»ºç«‹ docker ç»„ sudo groupadd docker ## æŠŠå½“å‰ç”¨æˆ·æ·»åŠ åˆ° docker ç»„ sudo usermod -aG docker $USER ç„¶åå…ˆé€€å‡ºè´¦æˆ·(logout)ï¼Œå†æ¬¡ç™»å½•(login)å³å¯ä½¿ç”¨ docker å‘½ä»¤äº† è¿è¡Œè¯•è¯•çœ‹ docker run hello-world Unable to find image 'hello-world:latest' locally latest: Pulling from library/hello-world 0e03bdcc26d7: Pull complete Digest: sha256:d58e752213a51785838f9eed2b7a498ffa1cb3aa7f946dda11af39286c3db9a9 Status: Downloaded newer image for hello-world:latest Hello from Docker! This message shows that your installation appears to be working correctly. To generate this message, Docker took the following steps: 1. The Docker client contacted the Docker daemon. 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub. (amd64) 3. The Docker daemon created a new container from that image which runs the executable that produces the output you are currently reading. 4. The Docker daemon streamed that output to the Docker client, which sent it to your terminal. To try something more ambitious, you can run an Ubuntu container with: $ docker run -it ubuntu bash Share images, automate workflows, and more with a free Docker ID: https://hub.docker.com/ For more examples and ideas, visit: https://docs.docker.com/get-started/ å¦‚æœè¿˜æœ‰å‡ºç°ä»¥ä¸‹çš„æŠ¥é”™ï¼Œéœ€è¦ä¿®æ”¹æƒé™ WARNING: Error loading config file: /home/william/.docker/config.json: stat /home/william/.docker/config.json: permission denied sudo chown william:william /home/william/.docker -R ç”±äºæŸäº›åŸå› ï¼Œå›½å†…è®¿é—® Docker çš„è½¯ä»¶æºé€Ÿåº¦æ˜¯æ¯”è¾ƒæ…¢çš„ã€‚å¹¸å¥½ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ”¹æŒ‡å®šçš„æºï¼Œä½¿ç”¨å›½å†…é˜¿é‡Œäº‘æˆ–è€…ç½‘æ˜“å¯ä»¥å¤§å¤§çš„åŠ é€Ÿè®¿é—®é€Ÿåº¦ã€‚ ## ä¿®æ”¹ docker é…ç½®æ–‡ä»¶ sudo vim /etc/docker/daemon.json { \"registry-mirrors\" : [ \"http://ovfftd6p.mirror.aliyuncs.com\", \"http://registry.docker-cn.com\", \"http://docker.mirrors.ustc.edu.cn\", \"http://hub-mirror.c.163.com\" ], \"insecure-registries\" : [ \"registry.docker-cn.com\", \"docker.mirrors.ustc.edu.cn\" ], \"debug\" : true, \"experimental\" : true } sudo systemctl restart docker.service ","date":"2022-11-23","objectID":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/:1:0","tags":["docker","æ€»ç»“","æŠ€å·§","ç»éªŒ"],"title":"Docker ä½¿ç”¨æ€»ç»“","uri":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/"},{"categories":["tools"],"content":" CentOS åˆ é™¤æ—§ç‰ˆæœ¬ sudo yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-engine æ·»åŠ è½¯ä»¶æº sudo yum install -y yum-utils sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo sudo yum update å®‰è£… sudo yum install docker.io ä¹Ÿå¯ä»¥ä½¿ç”¨å›½å†… daocloud ä¸€é”®å®‰è£…å‘½ä»¤ï¼š ## é˜¿é‡Œ curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun ## daocloud curl -sSL https://get.daocloud.io/docker | sh åŠ å…¥ docker ç”¨æˆ·ç»„å‘½ä»¤ sudo usermod -aG docker trader æ·»åŠ å¯åŠ¨ sudo systemctl enable docker sudo systemctl start docker è¿è¡Œæµ‹è¯• sudo docker run hello-world åŸºç¡€æ¦‚å¿µ ç¼–å†™ Dockerfileå¯ä»¥ä½¿ç”¨ä¸€ä¸‹çš„æ¨¡æ¿æ¥ç¼–å†™ä¸€ä¸ªæµ‹è¯•ä½¿ç”¨çš„ CentOS7 å¼€å‘ç¯å¢ƒ FROM centos:7 MAINTAINER WilliamFang LABEL Remarks=\"CentOS7.5 Develop\u0026Testing Environment\" RUN yum -y install vim git sudo \u0026\u0026 yum -y install make \u0026\u0026 \\ yum -y install gcc gcc-c++ kernel-devel \u0026\u0026 \\ yum -y install cmake bzip2 htop tldr pigz pbzip2 \u0026\u0026 \\ yum -y install bzip2-devel.x86_64 \u0026\u0026 \\ yum -y install libxslt-devel libffi-devel openssl-devel libcurl-devel ENV PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin ENV LANG=en_US.UTF-8 ENV BASH_ENV=~/.bashrc \\ ENV=~/.bashrc \\ PROMPT_COMMAND=\"source ~/.bashrc\" ç„¶åä½¿ç”¨å‘½ä»¤å¼€å§‹æ­å»º sudo docker build -t myctp:v1.0 . ç„¶åå°±å¯ä»¥çœ‹åˆ° docker image ls REPOSITORY TAG IMAGE ID CREATED SIZE myctp v1.0 91b0c32f2935 2 minutes ago 564MB centos 7 b5b4d78bc90c 7 weeks ago 203MB ç°åœ¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ„‰å¿«çš„ä½¿ç”¨ Docker è¿›è¡Œæµ‹è¯•äº† ## æŸ¥çœ‹å½“å‰è¿è¡Œçš„ docker container docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES è¯´æ˜å½“å‰è¿˜æ²¡æœ‰ç”Ÿæˆç›¸åº”çš„å®ä¾‹ã€‚æˆ‘ä»¬å¯ä»¥å¯åŠ¨ä½¿ç”¨å‘½ä»¤å¯åŠ¨ ## ä½¿ç”¨ REPOSITORY:TAG ## ä½¿ç”¨ -v å¯ä»¥æŒ‚è½½ä¸»æœºæ–‡ä»¶ docker run -dit -v /home/william:/mnt myctp:v1.0 /bin/bash CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 2b40845d0309 myctp:v1.0 \"/bin/bash\" 4 seconds ago Up 3 seconds upbeat_montalcini docker run --name rshiny -dit -e USER=rshiny -e PASSWORD=ilovewuya -p 58787:8787 -p 53838:3838 wuya-centos7:v1.0 ## æ·»åŠ ç”¨æˆ·ï¼Œéœ€è¦è¿›å…¥ docker æ·»åŠ ç”¨æˆ· docker exec -it rshiny /bin/bash sudo adduser tester sudo passwd tester ç„¶åå¼€å§‹å¯åŠ¨ ## æŒ‚è½½åˆ°å®ä¾‹ docker exec -it b3c220b3c9c6 /bin/bash [root@b3c220b3c9c6 /]# whoami root [root@b3c220b3c9c6 /]# gcc -v Using built-in specs. COLLECT_GCC=gcc COLLECT_LTO_WRAPPER=/usr/libexec/gcc/x86_64-redhat-linux/4.8.5/lto-wrapper Target: x86_64-redhat-linux Configured with: ../configure --prefix=/usr --mandir=/usr/share/man --infodir=/usr/share/info --with-bugurl=http://bugzilla.redhat.com/bugzilla --enable-bootstrap --enable-shared --enable-threads=posix --enable-checking=release --with-system-zlib --enable-__cxa_atexit --disable-libunwind-exceptions --enable-gnu-unique-object --enable-linker-build-id --with-linker-hash-style=gnu --enable-languages=c,c++,objc,obj-c++,java,fortran,ada,go,lto --enable-plugin --enable-initfini-array --disable-libgcj --with-isl=/builddir/build/BUILD/gcc-4.8.5-20150702/obj-x86_64-redhat-linux/isl-install --with-cloog=/builddir/build/BUILD/gcc-4.8.5-20150702/obj-x86_64-redhat-linux/cloog-install --enable-gnu-indirect-function --with-tune=generic --with-arch_32=x86-64 --build=x86_64-redhat-linux Thread model: posix gcc version 4.8.5 20150623 (Red Hat 4.8.5-39) (GCC) [root@b3c220b3c9c6 /]# é€€å‡ºä¼šä¾ç„¶å¯ä»¥çœ‹åˆ°ç¨‹åºåœ¨è¿è¡Œä¸­ CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES b3c220b3c9c6 myctp:v1.0 \"/bin/bash\" 2 minutes ago Up 2 minutes gallant_bell ","date":"2022-11-23","objectID":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/:2:0","tags":["docker","æ€»ç»“","æŠ€å·§","ç»éªŒ"],"title":"Docker ä½¿ç”¨æ€»ç»“","uri":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/"},{"categories":["tools"],"content":" åˆ é™¤ ## åˆ—å‡ºæ‰€æœ‰ docker ps -aq #ï¼ƒ åˆ é™¤æŒ‡å®š id docker rm ## åˆ é™¤ image docker rmi åˆ—å‡ºæ‰€æœ‰å®¹å™¨ ID docker ps -aq æŸ¥çœ‹æ‰€æœ‰è¿è¡Œæˆ–è€…ä¸è¿è¡Œå®¹å™¨ docker ps -a åœæ­¢æ‰€æœ‰çš„ containerï¼ˆå®¹å™¨ï¼‰ï¼Œè¿™æ ·æ‰èƒ½å¤Ÿåˆ é™¤å…¶ä¸­çš„ imagesï¼š docker stop $(docker ps -a -q) æˆ–è€… docker stop $(docker ps -aq) å¦‚æœæƒ³è¦åˆ é™¤æ‰€æœ‰ containerï¼ˆå®¹å™¨ï¼‰çš„è¯å†åŠ ä¸€ä¸ªæŒ‡ä»¤ï¼š docker rm $(docker ps -a -q) æˆ–è€… docker rm $(docker ps -aq) æŸ¥çœ‹å½“å‰æœ‰äº›ä»€ä¹ˆ images docker images åˆ é™¤ imagesï¼ˆé•œåƒï¼‰ï¼Œé€šè¿‡ image çš„ id æ¥æŒ‡å®šåˆ é™¤è° docker rmi \u003cimage id\u003e æƒ³è¦åˆ é™¤ untagged imagesï¼Œä¹Ÿå°±æ˜¯é‚£äº› id ä¸ºçš„ image çš„è¯å¯ä»¥ç”¨ docker rmi $(docker images | grep \"^\u003cnone\u003e\" | awk \"{print $3}\") è¦åˆ é™¤å…¨éƒ¨ imageï¼ˆé•œåƒï¼‰çš„è¯ docker rmi $(docker images -q) å¼ºåˆ¶åˆ é™¤å…¨éƒ¨ image çš„è¯ docker rmi -f $(docker images -q) ä»å®¹å™¨åˆ°å®¿ä¸»æœºå¤åˆ¶ docker cp tomcatï¼š/webapps/js/text.js /home/admin docker cp å®¹å™¨å: å®¹å™¨è·¯å¾„ å®¿ä¸»æœºè·¯å¾„ ä»å®¿ä¸»æœºåˆ°å®¹å™¨å¤åˆ¶ docker cp /home/admin/text.js tomcatï¼š/webapps/js docker cp å®¿ä¸»è·¯å¾„ä¸­æ–‡ä»¶ å®¹å™¨å å®¹å™¨è·¯å¾„ åˆ é™¤æ‰€æœ‰åœæ­¢çš„å®¹å™¨ docker container prune åˆ é™¤æ‰€æœ‰ä¸ä½¿ç”¨çš„é•œåƒ docker image prune --force --allæˆ–è€…docker image prune -f -a åœæ­¢ã€å¯åŠ¨ã€æ€æ­»ã€é‡å¯ä¸€ä¸ªå®¹å™¨ docker stop Nameæˆ–è€…ID docker start Nameæˆ–è€…ID docker kill Nameæˆ–è€…ID docker restart nameæˆ–è€…ID å‘å¸ƒ dockerä¸ºäº†æ–¹ä¾¿ç§»æ¤ï¼ŒDocker å…è®¸æˆ‘ä»¬é€šè¿‡ä¸¤ä¸ªæ–¹å¼æ¥åˆ†äº«é…ç½®å¥½çš„è¿è¡Œç¯å¢ƒã€‚ ","date":"2022-11-23","objectID":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/:3:0","tags":["docker","æ€»ç»“","æŠ€å·§","ç»éªŒ"],"title":"Docker ä½¿ç”¨æ€»ç»“","uri":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/"},{"categories":["tools"],"content":" Docker Hubé€šè¿‡ä½¿ç”¨ Docker Hub æ¥å‘å¸ƒã€‚ ","date":"2022-11-23","objectID":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/:4:0","tags":["docker","æ€»ç»“","æŠ€å·§","ç»éªŒ"],"title":"Docker ä½¿ç”¨æ€»ç»“","uri":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/"},{"categories":["tools"],"content":" æäº¤ docker commit -a \"william\" -m \"myctp:v0.1\" -p myctp.new myctp:v0.1 ","date":"2022-11-23","objectID":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/:5:0","tags":["docker","æ€»ç»“","æŠ€å·§","ç»éªŒ"],"title":"Docker ä½¿ç”¨æ€»ç»“","uri":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/"},{"categories":["tools"],"content":" å¯¼å‡º docker save -o myctp.v0.1.tar myctp:v0.1 ","date":"2022-11-23","objectID":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/:6:0","tags":["docker","æ€»ç»“","æŠ€å·§","ç»éªŒ"],"title":"Docker ä½¿ç”¨æ€»ç»“","uri":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/"},{"categories":["tools"],"content":" å¯¼å…¥ docker run -d --name myctp -it -v /home/william:/mnt myctp:v0.1 /bin/zsh ","date":"2022-11-23","objectID":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/:7:0","tags":["docker","æ€»ç»“","æŠ€å·§","ç»éªŒ"],"title":"Docker ä½¿ç”¨æ€»ç»“","uri":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/"},{"categories":["tools"],"content":" è¿è¡Œ docker exec -it myctp.new /bin/zsh ","date":"2022-11-23","objectID":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/:8:0","tags":["docker","æ€»ç»“","æŠ€å·§","ç»éªŒ"],"title":"Docker ä½¿ç”¨æ€»ç»“","uri":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/"},{"categories":["tools"],"content":" æäº¤ Docker Hub docker login UserName: williamlfnag Password: ************ ## æ ‡è®°éœ€è¦å¤„ç†çš„image docker tag myctp:v0.1.2 williamlfang/myctp REPOSITORY TAG IMAGE ID CREATED SIZE myctp v0.1.2 9c41f991a440 13 minutes ago 4.57GB williamlfang/myctp latest 9c41f991a440 13 minutes ago 4.57GB myctp v0.1.1 59c7bc923b02 3 days ago 4.02GB myctp v0.1 e8a31774a8c6 4 days ago 2.49GB centos 7 b5b4d78bc90c 8 weeks ago 203MB docker push williamlfang/myctp docker pull williamlfang/myctp ä½¿ç”¨ williamlfang ## æ˜¾ç¤ºå½“å‰å¯ç”¨é•œåƒ docker image ls ## å¦‚æœæ²¡æœ‰ williamlfang/myctp docker pull williamlfang/myctp ## å†æ¬¡ç¡®è®¤å·²ç»ä¸‹è½½åˆ°æœ¬åœ° docker image ls ## åŸºäºæ­¤é•œåƒç”Ÿæˆ container docker run -d --name myctp.dockerhub -it williamlfang/myctp /bin/zsh ## æŸ¥çœ‹ docker ç›®å‰çš„æ‰€æœ‰ container docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES dcc7924f4c1a williamlfang/myctp \"/bin/zsh\" 4 seconds ago Up 3 seconds myctp.dockerhub c57d4de5205b f03a8c4cf617 \"/bin/zsh\" 12 days ago Exited (255) 4 minutes ago myctp b50399b23d5b myctp:v0.1 \"/bin/zsh\" 13 days ago Exited (137) 13 days ago myctp.test 11953e12a6b5 e2c0099752c8 \"/bin/zsh\" 13 days ago Exited (137) 13 days ago myctp.new ## è¿›å…¥ container æ“ä½œ docker exec -it myctp.dockerhub /bin/zsh ä»¥ä¸‹å°±æ˜¯è¿›å…¥æˆ‘ä»¬çš„æ“ä½œç³»ç»Ÿåçš„æˆªå›¾æ˜¾ç¤º âš¡ root@centos7 î‚° / î‚° j myctp anaconda-post.log bin data dev etc home lib lib64 log media mnt opt proc root run sbin srv sys tmp usr var /root/myCTP build CMakeLists.txt config CTPè¸©å‘è®°.md data deps include libs log scripts src âš¡ root@centos7 î‚° myCTP î‚° ll build CMakeLists.txt config CTPè¸©å‘è®°.md data deps include libs log scripts src total 64K drwxr-xr-x 11 root root 4.0K Jul 4 17:06 . dr-xr-x--- 1 root root 4.0K Jul 13 17:27 .. drwxr-xr-x 4 root root 4.0K Jul 4 16:59 build -rw-r--r-- 1 root root 5.6K Jul 4 16:51 CMakeLists.txt drwxr-xr-x 2 root root 4.0K Jul 4 16:37 config -rw-r--r-- 1 root root 5.0K Jul 4 16:37 CTPè¸©å‘è®°.md drwx------ 3 root root 4.0K Jul 4 17:06 data drwxr-xr-x 5 root root 4.0K Jul 4 16:42 deps drwxr-xr-x 10 root root 4.0K Jul 4 16:37 include drwxr-xr-x 11 root root 4.0K Jul 4 16:59 libs drwx------ 4 root root 4.0K Jul 4 17:06 log drwxr-xr-x 2 root root 4.0K Jul 4 16:39 scripts drwxr-xr-x 10 root root 4.0K Jul 4 16:37 src ä½¿ç”¨æŠ€å·§å¯ä»¥æ‰§è¡Œå˜é‡åç§° ## å¢åŠ é¢å¤–è¿è¡Œå‚æ•° docker run -d \\ --name ctpmd -it \\ --restart=always \\ --log-driver json-file \\ --log-opt max-size=1000m \\ --log-opt max-file=30 \\ --network=\"host\" \\ --ipc=\"host\" \\ -e ACCOUNT=local_simnow \\ -v /home/william/mkdata:/data \\ registry.corp.highfortfunds.com/highfort/ctpmd:v0.1 ## é‡æ–°æ‰“ tag docker tag 8557026cb47e[åŸæ¥çš„image id] registry.corp.highfortfunds.com/highfort/ctpmd:v0.1 ## æŠ¥é”™æ— æ³•åˆ é™¤ ## Ref: https://stackoverflow.com/questions/38118791/can-t-delete-docker-image-with-dependent-child-images docker rmi $(docker images --filter \"dangling=true\" -q --no-trunc) docker rmi c565603bc87f # è®¾ç½®æ—¥å¿—æ–‡ä»¶ docker tag 29db0d77705f registry.corp.highfortfunds.com/highfort/ctpmd:v0.1 docker push registry.corp.highfortfunds.com/highfort/ctpmd:v0.1 docker pull registry.corp.highfortfunds.com/highfort/ctpmd:v0.1 docker run -d \\ --name ctpmd -it \\ --restart=always \\ --log-driver json-file \\ --log-opt max-size=1000m \\ --log-opt max-file=30 \\ --network=\"host\" \\ --ipc=\"host\" \\ -e ACCOUNT=colo_gtja \\ -v /data:/data \\ registry.corp.highfortfunds.com/highfort/ctpmd:v0.1 docker run -d \\ --name ctpmd -it \\ --restart=always \\ --log-driver json-file \\ --log-opt max-size=1000m \\ --log-opt max-file=30 \\ --network=\"host\" \\ --ipc=\"host\" \\ -e ACCOUNT=local_hf \\ -v /data:/data \\ registry.corp.highfortfunds.com/highfort/ctpmd:v0.1 docker run -d \\ --name ctpmd -it \\ --restart=always \\ --log-driver json-file \\ --log-opt max-size=1000m \\ --log-opt max-file=30 \\ --network=\"host\" \\ --ipc=\"host\" \\ -e ACCOUNT=local_zz \\ -v /data:/data \\ registry.corp.highfortfunds.com/highfort/ctpmd:v0.1 docker exec -it ctpmd /bin/bash ","date":"2022-11-23","objectID":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/:9:0","tags":["docker","æ€»ç»“","æŠ€å·§","ç»éªŒ"],"title":"Docker ä½¿ç”¨æ€»ç»“","uri":"/2022-11-23-docker-%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/"},{"categories":["tools"],"content":"ç”±äºåœ¨ Dockerfile é‡Œé¢éœ€è¦æ”¯æŒæ–°çš„è¯­æ³•è§„åˆ™ï¼ˆexperimentalä»¥æ”¯æŒ â€“mount=ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦åŒæ­¥æ›´æ–° docker-compose åˆ° v2 ç‰ˆæœ¬ã€‚ wget \"https://github.com/docker/compose/releases/download/v2.1.1/docker-compose-$(uname -s)-$(uname -m)\" sudo cp docker-compose-Linux-x86_64 /usr/local/bin/docker-compose Docker Compose version v2.1.1 ","date":"2022-11-23","objectID":"/2022-11-23-ubuntu-%E6%9B%B4%E6%96%B0-docker-compose-2.1.1/:0:0","tags":["docker","docker-compose","ubuntu"],"title":"Ubuntu æ›´æ–° docker compose 2.1.1","uri":"/2022-11-23-ubuntu-%E6%9B%B4%E6%96%B0-docker-compose-2.1.1/"},{"categories":["tools"],"content":"åœ¨ Dockerfile ä½¿ç”¨ ssh ç§˜é’¥ï¼Œå¯ä»¥è®¿é—®ç›¸åº”æƒé™çš„é¡¹ç›® ","date":"2022-11-22","objectID":"/2022-11-22-dockerfile-%E4%BD%BF%E7%94%A8-ssh/:0:0","tags":["Docker","Dockerfile","ssh"],"title":"Dockerfile ä½¿ç”¨ ssh","uri":"/2022-11-22-dockerfile-%E4%BD%BF%E7%94%A8-ssh/"},{"categories":["tools"],"content":" Dockerfile # syntax=docker/dockerfile:experimental FROM william-centos7-gcc9:v1.0 MAINTAINER William LABEL Remarks=\"DataMgr @WuyaCapital\" # add credentials on build RUN mkdir -p -m 0700 ~/.ssh \u0026\u0026 \\ ssh-keyscan 192.168.1.171 \u003e\u003e ~/.ssh/known_hosts # ADD ./requirements.txt /app/requirements.txt # RUN pip install -r requirements.txt RUN --mount=type=ssh \\ mkdir -p git \u0026\u0026 cd git \u0026\u0026 \\ git clone git@192.168.1.171:lfang/wepy.git \u0026\u0026 \\ echo `ls -alh` CMD [\"/usr/sbin/init\"] è¿™é‡Œéœ€è¦æ³¨æ„ï¼š åœ¨å¼€å¤´æ·»åŠ  # syntax=docker/dockerfile:experimental åœ¨ RUN å‘½ä»¤åé¢æ·»åŠ  --mount=type=ssh ï¼Œä¹‹åæ˜¯æ­£å¸¸çš„ bash å‘½ä»¤è¯­å¥ ","date":"2022-11-22","objectID":"/2022-11-22-dockerfile-%E4%BD%BF%E7%94%A8-ssh/:1:0","tags":["Docker","Dockerfile","ssh"],"title":"Dockerfile ä½¿ç”¨ ssh","uri":"/2022-11-22-dockerfile-%E4%BD%BF%E7%94%A8-ssh/"},{"categories":["tools"],"content":" Docker å‘½ä»¤æ‰§è¡Œ DOCKER_BUILDKIT=1 docker build --ssh default -t å¦‚æœå‡ºç°äº†ä»¥ä¸‹çš„æŠ¥é”™ï¼Œå…ˆä¸è¦æ…Œï¼Œå¯èƒ½æ˜¯ç½‘ç»œè§£æä¸é€šç•…ï¼š =\u003e ERROR resolve image config for docker.io/docker/dockerfile:experimental 0.1s ------ \u003e resolve image config for docker.io/docker/dockerfile:experimental: ------ failed to solve with frontend dockerfile.v0: failed to solve with frontend gateway.v0: unexpected status code https://docker.mirrors.ustc.edu.cn/v2/docker/dockerfile/manifests/experimental: 403 Forbidden ","date":"2022-11-22","objectID":"/2022-11-22-dockerfile-%E4%BD%BF%E7%94%A8-ssh/:2:0","tags":["Docker","Dockerfile","ssh"],"title":"Dockerfile ä½¿ç”¨ ssh","uri":"/2022-11-22-dockerfile-%E4%BD%BF%E7%94%A8-ssh/"},{"categories":["tools"],"content":" Docker-compose æ‰§è¡Œ","date":"2022-11-22","objectID":"/2022-11-22-dockerfile-%E4%BD%BF%E7%94%A8-ssh/:3:0","tags":["Docker","Dockerfile","ssh"],"title":"Dockerfile ä½¿ç”¨ ssh","uri":"/2022-11-22-dockerfile-%E4%BD%BF%E7%94%A8-ssh/"},{"categories":["tools"],"content":" ç»“æœæŸ¥çœ‹ [+] Building 277.1s (10/12) =\u003e [internal] load build definition from Dockerfile 0.0s =\u003e =\u003e transferring dockerfile: 38B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e resolve image config for docker.io/docker/dockerfile:experimental 1.6s =\u003e CACHED docker-image://docker.io/docker/dockerfile:experimental@sha256:600e5c62eedff338b3f7a0850beb7c05866e0ef27b2d2e8c02aa468e78496ff5 0.0s =\u003e [internal] load build definition from Dockerfile 0.0s =\u003e =\u003e transferring dockerfile: 38B 0.0s =\u003e [internal] load metadata for docker.io/library/william-centos7-gcc9:v1.0 0.0s =\u003e [1/5] FROM docker.io/library/william-centos7-gcc9:v1.0 0.0s =\u003e =\u003e resolve docker.io/library/william-centos7-gcc9:v1.0 0.0s =\u003e [internal] load build context 0.0s =\u003e =\u003e transferring context: 38B 0.0s =\u003e [2/5] RUN mkdir -p -m 0700 ~/.ssh \u0026\u0026 ssh-keyscan 192.168.1.171 \u003e\u003e ~/.ssh/known_hosts 0.5s =\u003e [3/5] ADD ./requirements.txt /app/requirements.txt 0.1s =\u003e [4/5] RUN pip3 install -r requirements.txt ","date":"2022-11-22","objectID":"/2022-11-22-dockerfile-%E4%BD%BF%E7%94%A8-ssh/:4:0","tags":["Docker","Dockerfile","ssh"],"title":"Dockerfile ä½¿ç”¨ ssh","uri":"/2022-11-22-dockerfile-%E4%BD%BF%E7%94%A8-ssh/"},{"categories":["tools"],"content":"ä½¿ç”¨ Dockerfileï¼Œä»æºä»£ç å¼€å§‹æ­å»ºä¸€ä¸ªåŸºæœ¬çš„ Docker Imageï¼Œä¸ºå…¶ä»–åº”ç”¨æä¾›åŸºç¡€æœåŠ¡ã€‚ ","date":"2022-11-22","objectID":"/2022-11-22-%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E5%9F%BA%E6%9C%ACdocker%E9%95%9C%E5%83%8F/:0:0","tags":["Docker","Dockerfile","image","container","éƒ¨ç½²","åŸºç¡€","æ•°æ®","python","gcc"],"title":"åˆ¶ä½œä¸€ä¸ªåŸºæœ¬Dockeré•œåƒ","uri":"/2022-11-22-%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E5%9F%BA%E6%9C%ACdocker%E9%95%9C%E5%83%8F/"},{"categories":["tools"],"content":" Dockerfile FROM centos:centos7.9.2009 MAINTAINER William LABEL Remarks=\"CentOS7.9 Develop\u0026Testing Environment @WuyaCapital\" RUN yum update -y \u0026\u0026 yum install -y \\ sudo vim git make cmake htop\\ gcc gcc-c++ kernel-devel \\ bzip2 mlocate sqlite-devel \\ openssl-devel libcurl-devel chrony \\ wget dmidecode net-tools openssh-server perl-CPAN perl-IPC-Cmd RUN yum install -y kde-l10n-Chinese \u0026\u0026 \\ yum reinstall -y glibc-common \u0026\u0026 \\ localedef -c -f GB18030 -i zh_CN zh_CN.GB18030 \u0026\u0026 \\ updatedb RUN cd /tmp \u0026\u0026 wget --no-check-certificate http://mirrors.ustc.edu.cn/gnu/libc/glibc-2.18.tar.gz \u0026\u0026 \\ tar -xvf glibc-2.18.tar.gz \u0026\u0026 \\ cd glibc-2.18 \u0026\u0026 \\ mkdir build \u0026\u0026 cd build \u0026\u0026 \\ ../configure --prefix=/usr --disable-profile --enable-add-ons --with-headers=/usr/include --with-binutils=/usr/bin \u0026\u0026 \\ make \u0026\u0026 make install \u0026\u0026 \\ rm -rf /tmp/glibc* RUN cd /tmp \u0026\u0026 mkdir gcc9 \u0026\u0026 cd gcc9 \u0026\u0026 \\ wget --no-check-certificate https://ftp.gnu.org/gnu/gcc/gcc-9.2.0/gcc-9.2.0.tar.gz \u0026\u0026 \\ tar zxvf gcc-9.2.0.tar.gz \u0026\u0026 \\ cd gcc-9.2.0 \u0026\u0026 \\ wget --no-check-certificate ftp://gcc.gnu.org/pub/gcc/infrastructure/gmp-6.1.0.tar.bz2 \u0026\u0026 \\ wget --no-check-certificate ftp://gcc.gnu.org/pub/gcc/infrastructure/mpfr-3.1.4.tar.bz2 \u0026\u0026 \\ wget --no-check-certificate ftp://gcc.gnu.org/pub/gcc/infrastructure/mpc-1.0.3.tar.gz \u0026\u0026 \\ wget --no-check-certificate ftp://gcc.gnu.org/pub/gcc/infrastructure/isl-0.18.tar.bz2 \u0026\u0026 \\ tar jxvf gmp-6.1.0.tar.bz2 \u0026\u0026 \\ tar zxvf mpc-1.0.3.tar.gz \u0026\u0026 \\ tar jxvf mpfr-3.1.4.tar.bz2 \u0026\u0026 \\ tar jxvf isl-0.18.tar.bz2 \u0026\u0026 \\ ln -s gmp-6.1.0 gmp \u0026\u0026 \\ ln -s mpfr-3.1.4 mpfr \u0026\u0026 \\ ln -s mpc-1.0.3 mpc \u0026\u0026 \\ ln -s isl-0.18 isl \u0026\u0026 \\ sudo ./configure --prefix=/usr/local/gcc9 --enable-bootstrap --enable-checking=release --enable-languages=c,c++ --disable-multilib \u0026\u0026 \\ make \u0026\u0026 make install \u0026\u0026 \\ echo \"export PATH=/usr/local/gcc9/bin:$PATH\" \u003e\u003e /etc/profile.d/gcc.sh \u0026\u0026 \\ source /etc/profile.d/gcc.sh \u0026\u0026 \\ ln -sv /usr/local/gcc9/include/ /usr/include/gcc \u0026\u0026 \\ echo \"/usr/local/gcc9/lib64\" \u003e\u003e /etc/ld.so.conf.d/gcc.conf \u0026\u0026 \\ ldconfig -v \u0026\u0026 \\ ldconfig -p |grep gcc \u0026\u0026 \\ ln -sf /usr/local/gcc9/bin/g++ /usr/bin/g++ \u0026\u0026 \\ ln -sf /usr/local/gcc9/bin/gcc /usr/bin/gcc \u0026\u0026 \\ ln -sf /usr/local/gcc9/bin/c++ /usr/bin/c++ \u0026\u0026 \\ ln -sf /usr/local/gcc9/bin/cc /usr/bin/cc \u0026\u0026 \\ rm -rf /tmp/gcc* RUN cd /tmp \u0026\u0026 wget --no-check-certificate https://www.openssl.org/source/openssl-3.0.7.tar.gz \u0026\u0026 \\ tar -xvf openssl-3.0.7.tar.gz \u0026\u0026 \\ cd openssl-3.0.7 \u0026\u0026 \\ ./config --prefix=/usr/local/openssl --openssldir=/usr/local/openssl no-shared zlib-dynamic \u0026\u0026 \\ make \u0026\u0026 make install \u0026\u0026 \\ ln -s /usr/local/openssl/include/openssl /usr/include/openssl \u0026\u0026 \\ ln -s /usr/local/openssl/lib/libssl.so.1.1 /usr/local/lib64/libssl.so \u0026\u0026 \\ ln -s /usr/local/openssl/lib/libssl.so.1.1 /usr/lib64/libssl.so.1.1 \u0026\u0026 \\ ln -s /usr/local/openssl/lib/libcrypto.so.1.1 /usr/lib64/libcrypto.so.1.1 \u0026\u0026 \\ ln -s /usr/local/openssl/bin/openssl /usr/bin/openssl \u0026\u0026 \\ echo \"/usr/local/openssl/lib64\" \u003e\u003e /etc/ld.so.conf \u0026\u0026 \\ ldconfig -v \u0026\u0026 \\ rm -rf /tmp/openssl* RUN cd /tmp \u0026\u0026 wget --no-check-certificate https://www.python.org/ftp/python/3.11.0/Python-3.11.0.tar.xz \u0026\u0026 \\ tar -xvf Python-3.11.0.tar.xz \u0026\u0026 \\ cd Python-3.11.0 \u0026\u0026 \\ CFLAGS=\"-I/usr/local/openssl/include\" LDFLAGS=\"-L/usr/local/openssl/lib64\" \\ ./configure --enable-optimizations \\ --enable-loadable-sqlite-extensions \\ --prefix=/usr/local/python3 \\ --with-openssl=/usr/local/openssl \u0026\u0026 \\ make \u0026\u0026 make install \u0026\u0026 \\ ln -s /usr/local/python3/bin/python3 /usr/bin/python3 \u0026\u0026 \\ ln -s /usr/local/python3/bin/pip3 /usr/bin/pip3 \u0026\u0026 \\ python3 -m ssl \u0026\u0026 \\ rm -rf /tmp/Python* ENV TZ Asia/Shanghai RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime \u0026\u0026 echo $TZ \u003e /etc/timezone RUN mkdir -p /shared/trading /data ENV PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin ENV LANG=en_US.UTF-8 ENV BASH_ENV=~/.bashrc \\ ENV=~/.bashrc \\ PROMPT_COMMAND=\"source ~/.bashrc\" EXPOSE 22 80 WORKDIR /app CMD [\"/usr/sbin/init\"] ","date":"2022-11-22","objectID":"/2022-11-22-%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E5%9F%BA%E6%9C%ACdocker%E9%95%9C%E5%83%8F/:1:0","tags":["Docker","Dockerfile","image","container","éƒ¨ç½²","åŸºç¡€","æ•°æ®","python","gcc"],"title":"åˆ¶ä½œä¸€ä¸ªåŸºæœ¬Dockeré•œåƒ","uri":"/2022-11-22-%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E5%9F%BA%E6%9C%ACdocker%E9%95%9C%E5%83%8F/"},{"categories":["tools"],"content":"ä»æºä»£ç å¼€å§‹ç¼–è¯‘ã€å®‰è£… Python3.11ï¼Œç”±äºä»è¿™ä¸ªç‰ˆæœ¬ä¹‹åï¼ŒPython é‡‡ç”¨äº† SSL çš„åŠ å¯†æ–¹å¼ï¼Œéœ€è¦ä¾èµ– openssl-1.1.1ã€‚åŒæ—¶ï¼Œå¦‚æœæˆ‘ä»¬å¼€å¯äº† --enable-optimization ä¼˜åŒ–é€‰é¡¹ï¼Œè¿˜éœ€è¦ä¾èµ– gcc9 ä»¥ä¸Šç‰ˆæœ¬æ‰èƒ½æ”¯æŒï¼Œå¦åˆ™ä¼šä¸€ç›´å‡ºç°æŠ¥é”™ã€‚ ","date":"2022-11-22","objectID":"/2022-11-22-python3.11-%E6%BA%90%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/:0:0","tags":["python","python3.11","openssl","gcc","æºä»£ç ","ç¼–è¯‘"],"title":"Python3.11ï¼šæºä»£ç ç¼–è¯‘å®‰è£…","uri":"/2022-11-22-python3.11-%E6%BA%90%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/"},{"categories":["tools"],"content":" å®‰è£…ä¾èµ–åŒ… yum update -y \u0026\u0026 yum install -y \\ sudo vim git make cmake htop\\ gcc gcc-c++ kernel-devel \\ bzip2 mlocate sqlite-devel \\ zlib zlib-devel libffi-devel \\ openssl-devel libcurl-devel chrony \\ wget dmidecode net-tools openssh-server openssh-client perl-CPAN perl-IPC-Cmd \u0026\u0026 \\ yum clean all \u0026\u0026 \\ rm -rf /var/cache/yum/* ","date":"2022-11-22","objectID":"/2022-11-22-python3.11-%E6%BA%90%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/:1:0","tags":["python","python3.11","openssl","gcc","æºä»£ç ","ç¼–è¯‘"],"title":"Python3.11ï¼šæºä»£ç ç¼–è¯‘å®‰è£…","uri":"/2022-11-22-python3.11-%E6%BA%90%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/"},{"categories":["tools"],"content":" å®‰è£… glibc cd /tmp \u0026\u0026 wget --no-check-certificate http://mirrors.ustc.edu.cn/gnu/libc/glibc-2.18.tar.gz \u0026\u0026 \\ tar -xvf glibc-2.18.tar.gz \u0026\u0026 \\ cd glibc-2.18 \u0026\u0026 \\ mkdir build \u0026\u0026 cd build \u0026\u0026 \\ ../configure --prefix=/usr \\ --disable-profile \\ --enable-add-ons \\ --with-headers=/usr/include \\ --with-binutils=/usr/bin \u0026\u0026 \\ make \u0026\u0026 make install \u0026\u0026 \\ rm -rf /tmp/glibc* ","date":"2022-11-22","objectID":"/2022-11-22-python3.11-%E6%BA%90%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/:2:0","tags":["python","python3.11","openssl","gcc","æºä»£ç ","ç¼–è¯‘"],"title":"Python3.11ï¼šæºä»£ç ç¼–è¯‘å®‰è£…","uri":"/2022-11-22-python3.11-%E6%BA%90%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/"},{"categories":["tools"],"content":" å®‰è£… gcc9 cd /tmp \u0026\u0026 mkdir gcc9 \u0026\u0026 cd gcc9 \u0026\u0026 \\ wget --no-check-certificate https://ftp.gnu.org/gnu/gcc/gcc-9.2.0/gcc-9.2.0.tar.gz \u0026\u0026 \\ tar zxvf gcc-9.2.0.tar.gz \u0026\u0026 \\ cd gcc-9.2.0 \u0026\u0026 \\ wget --no-check-certificate ftp://gcc.gnu.org/pub/gcc/infrastructure/gmp-6.1.0.tar.bz2 \u0026\u0026 \\ wget --no-check-certificate ftp://gcc.gnu.org/pub/gcc/infrastructure/mpfr-3.1.4.tar.bz2 \u0026\u0026 \\ wget --no-check-certificate ftp://gcc.gnu.org/pub/gcc/infrastructure/mpc-1.0.3.tar.gz \u0026\u0026 \\ wget --no-check-certificate ftp://gcc.gnu.org/pub/gcc/infrastructure/isl-0.18.tar.bz2 \u0026\u0026 \\ tar jxvf gmp-6.1.0.tar.bz2 \u0026\u0026 \\ tar zxvf mpc-1.0.3.tar.gz \u0026\u0026 \\ tar jxvf mpfr-3.1.4.tar.bz2 \u0026\u0026 \\ tar jxvf isl-0.18.tar.bz2 \u0026\u0026 \\ ln -s gmp-6.1.0 gmp \u0026\u0026 \\ ln -s mpfr-3.1.4 mpfr \u0026\u0026 \\ ln -s mpc-1.0.3 mpc \u0026\u0026 \\ ln -s isl-0.18 isl \u0026\u0026 \\ sudo ./configure --prefix=/usr/local/gcc9 \\ --enable-bootstrap \\ --enable-checking=release \\ --enable-languages=c,c++ \\ --disable-multilib \u0026\u0026 \\ make \u0026\u0026 make install \u0026\u0026 \\ echo \"export PATH=/usr/local/gcc9/bin:$PATH\" \u003e\u003e /etc/profile.d/gcc.sh \u0026\u0026 \\ source /etc/profile.d/gcc.sh \u0026\u0026 \\ ln -sv /usr/local/gcc9/include/ /usr/include/gcc \u0026\u0026 \\ echo \"/usr/local/gcc9/lib64\" \u003e\u003e /etc/ld.so.conf.d/gcc.conf \u0026\u0026 \\ ldconfig -v \u0026\u0026 \\ ldconfig -p |grep gcc \u0026\u0026 \\ ln -sf /usr/local/gcc9/bin/g++ /usr/bin/g++ \u0026\u0026 \\ ln -sf /usr/local/gcc9/bin/gcc /usr/bin/gcc \u0026\u0026 \\ ln -sf /usr/local/gcc9/bin/c++ /usr/bin/c++ \u0026\u0026 \\ ln -sf /usr/local/gcc9/bin/cc /usr/bin/cc \u0026\u0026 \\ rm -rf /tmp/gcc* ","date":"2022-11-22","objectID":"/2022-11-22-python3.11-%E6%BA%90%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/:3:0","tags":["python","python3.11","openssl","gcc","æºä»£ç ","ç¼–è¯‘"],"title":"Python3.11ï¼šæºä»£ç ç¼–è¯‘å®‰è£…","uri":"/2022-11-22-python3.11-%E6%BA%90%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/"},{"categories":["tools"],"content":" å®‰è£… openssl cd /tmp \u0026\u0026 wget --no-check-certificate https://www.openssl.org/source/openssl-3.0.7.tar.gz \u0026\u0026 \\ tar -xvf openssl-3.0.7.tar.gz \u0026\u0026 \\ cd openssl-3.0.7 \u0026\u0026 \\ ./config --prefix=/usr/local/openssl --openssldir=/usr/local/openssl no-shared zlib-dynamic \u0026\u0026 \\ make \u0026\u0026 make install \u0026\u0026 \\ ln -s /usr/local/openssl/include/openssl /usr/include/openssl \u0026\u0026 \\ ln -s /usr/local/openssl/lib/libssl.so.1.1 /usr/local/lib64/libssl.so \u0026\u0026 \\ ln -s /usr/local/openssl/lib/libssl.so.1.1 /usr/lib64/libssl.so.1.1 \u0026\u0026 \\ ln -s /usr/local/openssl/lib/libcrypto.so.1.1 /usr/lib64/libcrypto.so.1.1 \u0026\u0026 \\ ln -s /usr/local/openssl/bin/openssl /usr/bin/openssl \u0026\u0026 \\ echo \"/usr/local/openssl/lib64\" \u003e\u003e /etc/ld.so.conf \u0026\u0026 \\ ldconfig -v \u0026\u0026 \\ rm -rf /tmp/openssl* è¿™é‡Œéœ€è¦æ³¨æ„ï¼š æŒ‡å®šäº†å®‰è£…è·¯å¾„ï¼š``â€“prefix=/usr/local/opensslï¼Œè¿™ä¸ªåœ¨å®‰è£… Python` çš„æ—¶å€™ä½¿ç”¨ ","date":"2022-11-22","objectID":"/2022-11-22-python3.11-%E6%BA%90%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/:4:0","tags":["python","python3.11","openssl","gcc","æºä»£ç ","ç¼–è¯‘"],"title":"Python3.11ï¼šæºä»£ç ç¼–è¯‘å®‰è£…","uri":"/2022-11-22-python3.11-%E6%BA%90%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/"},{"categories":["tools"],"content":" å®‰è£… Python 3.11 export PYTHON_VERSION=3.11.1 cd /tmp \u0026\u0026 \\ # wget --no-check-certificate https://www.python.org/ftp/python/${PYTHON_VERSION}/Python-${PYTHON_VERSION}.tar.xz \u0026\u0026 \\ wget --no-check-certificate https://registry.npmmirror.com/-/binary/python/${PYTHON_VERSION}/Python-${PYTHON_VERSION}.tar.xz \u0026\u0026 \\ tar -xvf Python-${PYTHON_VERSION}.tar.xz \u0026\u0026 \\ cd Python-${PYTHON_VERSION} \u0026\u0026 \\ export LDFLAGS=-rdynamic \u0026\u0026 \\ CFLAGS=\"-I/usr/local/openssl/include\" LDFLAGS=\"-L/usr/local/openssl/lib64\" \\ ./configure \\ --enable-shared \\ --enable-optimizations \\ --enable-loadable-sqlite-extensions \\ --prefix=/usr/local/python3 \\ --with-openssl=/usr/local/openssl \u0026\u0026 \\ make -j \u0026\u0026 make install \u0026\u0026 \\ ln -s /usr/local/python3/bin/python3 /usr/bin/python3 \u0026\u0026\\ ln -s /usr/local/python3/bin/pip3 /usr/bin/pip3 \u0026\u0026 \\ ln -s /usr/local/python3/bin/pip3 /usr/bin/pip \u0026\u0026 \\ echo \"export PATH=/usr/local/python3/bin:$PATH\" \u003e\u003e /etc/profile.d/python3.sh \u0026\u0026 \\ echo \"/usr/local/python3/lib\" \u003e\u003e /etc/ld.so.conf \u0026\u0026 \\ ldconfig -v \u0026\u0026 \\ python3 -m ssl \u0026\u0026 \\ rm -rf /tmp/Python* ","date":"2022-11-22","objectID":"/2022-11-22-python3.11-%E6%BA%90%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/:5:0","tags":["python","python3.11","openssl","gcc","æºä»£ç ","ç¼–è¯‘"],"title":"Python3.11ï¼šæºä»£ç ç¼–è¯‘å®‰è£…","uri":"/2022-11-22-python3.11-%E6%BA%90%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/"},{"categories":["tools"],"content":" å¦‚ä½•æ­å»º Stock.Daily æ•°æ®Created: November 18, 2022 10:09 PM Last Edited Time: November 18, 2022 11:43 PM Type: Technical Spec å¯¹äºè‚¡ç¥¨ç ”ç©¶ä¸äº¤æ˜“ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä»½å†…å®¹æ­£ç¡®ä¸”è§„åˆ™ç»Ÿä¸€çš„å†å²æ•°æ® ï¼Œå°½å¯èƒ½çš„é™ä½æ•°æ®å™ªéŸ³ï¼Œé¿å…å› ä¸ºæ•°æ®é”™è¯¯å¯¼è‡´çš„è°¬è¯¯ï¼Œæé«˜å®è¯ç ”ç©¶çš„å¯é æ€§ä¸å‡†ç¡®æ€§ã€‚ æ ¹æ®ç°æœ‰çš„æ•°æ®ï¼Œæˆ‘ä»¬å¤åŸäº†2014å¹´1æœˆè‡³ä»Šçš„è‚¡ç¥¨æ—¥é¢‘æ•°æ®ï¼ˆstock.dalyï¼‰ï¼Œè¿ç”¨ç»Ÿä¸€çš„è§„åˆ™ï¼Œå¯¹å†å²æ•°æ®ä¸æ¯æ—¥æ›´æ–°çš„å®ç›˜æ•°æ®è¿›è¡Œè·å–ã€æ¸…æ´—ã€è½¬æ¢ã€éªŒè¯ã€å…¥åº“ã€‚ æœ¬æ–‡æ¡£æ—¨åœ¨ä»‹ç»è‚¡ç¥¨æ—¥ç›˜æ•°æ®åº“çš„æ•´ç†è§„åˆ™ä¸å…¥åº“æ ‡å‡†ï¼Œä»¥ä¾›å‚è€ƒã€‚ æ•°æ®æ¦‚è§ˆ","date":"2022-11-19","objectID":"/2022-11-19-%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA-stock.daily-%E6%95%B0%E6%8D%AE/:0:0","tags":["stock","daily"],"title":"å¦‚ä½•æ­å»º Stock.Daily æ•°æ®","uri":"/2022-11-19-%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA-stock.daily-%E6%95%B0%E6%8D%AE/"},{"categories":["tools"],"content":" æ•°æ®æ¥æº å†å²æ•°æ®ï¼ˆ2014.01.01 ~ 2022.11.18ï¼‰ PreCloseã€OHLCã€Volumeã€Turnover æ¥è‡ªäº¤æ˜“æ‰€ ä¸Šæµ·ï¼šæ ¹æ®è´­ä¹°çš„äº¤æ˜“æ‰€å†å²æ•°æ®ï¼ˆDay.csvï¼‰ æ·±åœ³ï¼šä»æ·±äº¤æ‰€ç½‘ç«™çˆ¬è™«è·å– UpperLimitã€LowerLimitï¼šæ¥è‡ª RiceQuant api è·å– æ¯æ—¥æ›´æ–°æ•°æ®ï¼ˆ2022-11-18èµ·ï¼‰ PreCloseã€UpperLimitã€LowerLimitï¼šæ¥è‡ªäº¤æ˜“æŸœå°æŸ¥è¯¢ï¼ˆxtp_info, xeleq_infoï¼‰ OHLCã€Volumeã€Turnover æ¥è‡ªä¸‡å¾—è½åœ°æ•°æ®åº“ï¼ˆMySQLï¼‰ã€äº¤æ˜“æ‰€ç½‘ç«™çˆ¬è™« BeginDayã€EndDayï¼šçˆ¬è™«äº¤æ˜“æ‰€è‚¡ç¥¨åˆ—è¡¨ TotalShareã€FloatAShareï¼šä¸‡å¾—è½åœ°æ•°æ®åº“ï¼ˆMySQLï¼‰ã€äº¤æ˜“æ‰€ç½‘ç«™çˆ¬è™« STStatusï¼šæ ¹æ®è‚¡ç¥¨åç§°æ˜¯å¦åŒ…å« ST|é€€ åˆ¤æ–­ï¼Œå®ç›˜æ•°æ®æ¥è‡ªäº¤æ˜“æŸœå°æŸ¥è¯¢ã€å†å²æ•°æ®æ¥è‡ªç½‘æ˜“è´¢ç» Net163Scraper ","date":"2022-11-19","objectID":"/2022-11-19-%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA-stock.daily-%E6%95%B0%E6%8D%AE/:1:0","tags":["stock","daily"],"title":"å¦‚ä½•æ­å»º Stock.Daily æ•°æ®","uri":"/2022-11-19-%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA-stock.daily-%E6%95%B0%E6%8D%AE/"},{"categories":["tools"],"content":" æ¯æ—¥æ›´æ–°æ—¶é—´ï¼š18:30/19:30","date":"2022-11-19","objectID":"/2022-11-19-%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA-stock.daily-%E6%95%B0%E6%8D%AE/:2:0","tags":["stock","daily"],"title":"å¦‚ä½•æ­å»º Stock.Daily æ•°æ®","uri":"/2022-11-19-%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA-stock.daily-%E6%95%B0%E6%8D%AE/"},{"categories":["tools"],"content":" æ•°æ®åº“æ ¼å¼ CREATE TABLE stock.daily ( `TradingDay` Date, `Exchange` LowCardinality(String), `Category` Enum('X'=0,'FUTURES'=1,'STOCK'=2,'BOND'=3,'FUND'=4), `Product` Enum('X'=0,'STK'=1,'ETF'=2,'INDEX'=3), `Symbol` LowCardinality(String), `PreClose` Nullable(Float32), `Open` Nullable(Float32), `High` Nullable(Float32), `Low` Nullable(Float32), `Close` Float32, `UpperLimit` Nullable(Float32), `LowerLimit` Nullable(Float32), `Volume` Nullable(UInt64), `Amount` Nullable(Float64), `BeginDay` Nullable(Date), `EndDay` Nullable(Date), `STStatus` Enum('TRUE'=1,'FALSE'=0) DEFAULT 0, `TradeStatus` Enum('X'=0,'NEW'=1,'TRADING'=2,'SUSPENDED'=3), `TotalShare` Nullable(Float32), `FloatAShare` Nullable(Float32) ) ENGINE = MergeTree ORDER BY (TradingDay, Exchange, Symbol) SETTINGS index_granularity = 8192 ","date":"2022-11-19","objectID":"/2022-11-19-%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA-stock.daily-%E6%95%B0%E6%8D%AE/:3:0","tags":["stock","daily"],"title":"å¦‚ä½•æ­å»º Stock.Daily æ•°æ®","uri":"/2022-11-19-%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA-stock.daily-%E6%95%B0%E6%8D%AE/"},{"categories":["tools"],"content":" å­—æ®µè¯´æ˜ Category ä¸ Product ç”¨äºåŒºåˆ†ä¸åŒäº¤æ˜“å¸‚åœº FUTURESï¼šæœŸè´§ç±» STOCKï¼šè¯åˆ¸ç±» STK INDEX BONDï¼šå€ºåˆ¸ç±» FUNDï¼šåŸºé‡‘ç±» ETF PreClose : äº¤æ˜“æ‰€é™¤æƒé™¤æ¯åçš„æ˜¨æ”¶ï¼Œå¯ç»“åˆ LastClose è®¡ç®—å¤æƒå› å­ï¼ˆAdjFactorï¼‰ BeginDay : è‚¡ç¥¨ä¸Šå¸‚æ—¥æœŸ EndDay : è‚¡ç¥¨é€€å¸‚æ—¥æœŸ STStatus : è‚¡ç¥¨æ˜¯å¦å‡ºäº ST çŠ¶æ€ï¼ˆST|S|*ST|SST|é€€å¸‚ï¼‰ï¼Œæ¯æ—¥æ ¹æ®è‚¡ç¥¨åç§°æ˜¯å¦åŒ…å«STæˆ–é€€æ¥åˆ¤æ–­ TradeStatus : å½“å¤©çš„äº¤æ˜“çŠ¶æ€ NEW : ä¸Šå¸‚ç¬¬ä¸€æ—¥ TRADING : æ­£å¸¸äº¤æ˜“ SUSPENDED : å½“æ—¥åœç‰Œ TotalShare : æ€»è‚¡æœ¬ï¼ˆä¸‡å¾—å¯¹åº”ï¼šTOT_SHARE_TODAYï¼‰ FloatAShare : æµé€šè‚¡ï¼ˆæ€»è‚¡æœ¬å‡å»é™å”®è‚¡ï¼‰ ","date":"2022-11-19","objectID":"/2022-11-19-%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA-stock.daily-%E6%95%B0%E6%8D%AE/:4:0","tags":["stock","daily"],"title":"å¦‚ä½•æ­å»º Stock.Daily æ•°æ®","uri":"/2022-11-19-%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA-stock.daily-%E6%95%B0%E6%8D%AE/"},{"categories":["tools"],"content":" æ•°æ®æ¸…æ´—è§„åˆ™ å¯¹äºæ²¡æœ‰æ¶¨è·Œåœçš„åˆçº¦ï¼ˆä¸Šå¸‚å‰äº”æ—¥ï¼‰ï¼Œç»Ÿä¸€è®¾ç½®æ¶¨è·Œåœä»·æ ¼ä¸º UPPER_LIMIT_PX_THRES = 999999.999 LOWER_LIMIT_PX_THRES = 0.001 df.fillna({'UpperLimit': self.UPPER_LIMIT_PX_THRES}, inplace = True) df.fillna({'LowerLimit': self.LOWER_LIMIT_PX_THRES}, inplace = True) df.loc[((df['days'] \u003c= 5) | (df.TradeStatus.isin(['NEW']))) \u0026 (df.UpperLimit \u003c= 0.01), 'UpperLimit'] = self.UPPER_LIMIT_PX_THRES df.loc[((df['days'] \u003c= 5) | (df.TradeStatus.isin(['NEW']))) \u0026 (df.LowerLimit \u003c= 0.01), 'LowerLimit'] = self.LOWER_LIMIT_PX_THRES å¯¹äºåœç‰Œçš„è‚¡ç¥¨ï¼š æœ‰å¯èƒ½æ‹¿ä¸åˆ°å½“æ—¥çš„æ•°æ®ï¼Œè¿™æ—¶å€™éœ€è¦å…ˆæŠŠå½“æ—¥æ‰€æœ‰çš„åˆçº¦è¡¥é½ï¼ˆTRADING + SUSPENDEDï¼‰ _day = cal.ymd(df.TradingDay.values[0]) sql = f\"\"\" select Exchange,Symbol, OnlistingDay, DelistingDay from bardata.listing where OnlistingDay \u003c= '{_day}' and DelistingDay \u003e '{_day}' \"\"\" df_listing = ch.read(sql) ## å…ˆåˆæˆæ‰€æœ‰çš„ä¸Šå¸‚åˆçº¦ df = pd.merge(df, df_listing, on = 'Symbol', how = 'outer', suffixes = ['', '_listing']) ä½¿ç”¨ä¸Šä¸€æ¬¡æœ‰æ•ˆäº¤æ˜“æ—¥çš„æ”¶ç›˜ä»·ä½œä¸ºå½“å¤©çš„ OHLCï¼ŒVolume = 0, Turnover = 0.0, UpperLimit = LowerLimit = PreClose ## è·å–ä¸Šä¸€æ¬¡æœ‰æ•ˆäº¤æ˜“æ—¥çš„æ•°æ® sql = f\"\"\" select stock.daily.* from stock.daily as a, (select Symbol, max(TradingDay) as LastDay from stock.daily where TradingDay \u003c '{_day}' and Volume \u003e 0 group by Symbol) as b where a.Symbol = b.Symbol and a.TradingDay = b.LastDay and BeginDay \u003c= '{_day}' and EndDay \u003e '{_day}' \"\"\" df_last = self.ch.read(sql) ## ç„¶åä½¿ç”¨ä¸Šä¸€æ¬¡æœ€åäº¤æ˜“çš„æ•°æ®æ¥è¡¥å…… df = pd.merge(df, df_last, on = 'Symbol', how = 'outer', suffixes = ['', '_last']) l = ['PreClose', 'Open', 'High', 'Low', 'Close', 'UpperLimit', 'LowerLimit', 'Volume', 'Amount', 'STStatus', 'TradeStatus', 'TotalShare', 'FloatAShare'] for col in l: if col in ['Volume', 'Amount']: val = 0 elif col in ['PreClose', 'Open', 'High', 'Low', 'Close', 'UpperLimit', 'LowerLimit']: val = df.loc[(df.Product_last == 'STK') \u0026 (df.Exchange_last.isin(['sse', 'szse'])) \u0026 ((pd.isna(df[col])) | (df.Volume \u003c= 0.0001)), \"Close_last\"] elif col in ['TradeStatus']: val = 'SUSPENDED' else: val = df.loc[(df.Product_last == 'STK') \u0026 (df.Exchange_last.isin(['sse', 'szse'])) \u0026 ((pd.isna(df[col])) | (df.Volume \u003c= 0.0001)), f\"{col}_last\"] df.loc[(df.Product_last == 'STK') \u0026 (df.Exchange_last.isin(['sse', 'szse'])) \u0026 ((pd.isna(df[col]) | (df.Volume \u003c= 0.0001))), col] = val å¯¹äºæŒ‡æ•°ï¼Œç»Ÿä¸€è®¾ç½®ï¼š for col in ['Open', 'High', 'Low']: df.loc[(df.Product == 'INDEX') \u0026 (df[col] \u003c= 0.0001), col] = df.loc[(df.Product == 'INDEX') \u0026 (df[col] \u003c= 0.0001), 'Close'] for col in ['UpperLimit', 'LowerLimit', 'TotalShare', 'FloatAShare']: df.loc[df.Product == 'INDEX', col] = np.nan df.loc[df.Product == 'INDEX', 'TradeStatus'] = 'TRADING' df.loc[df.Product == 'INDEX', 'STStatus'] = False STStatue è§„åˆ™ï¼š _day = cal.ymd(df.TradingDay.values[0])[:10] df_xtp = self.read_xtp_info(_day) df = pd.merge(df, df_xtp, left_on = ['Symbol'], right_on = ['Symbol'], how = 'left', suffixes = ['', '_xtp']) df['STStatus'] = df['TickerName'].apply( lambda x: True if re.search(r\"sT|St|st|ST|é€€|é€€å¸‚|^é€€\", str(x), re.IGNORECASE) else False ) å…¶ä»–å­—æ®µè®¾ç½®ï¼š df['Category'] = df[['Category', 'Symbol']].apply( lambda x: self.convert_category( x[0] if x[0] in self.CATEGORY_DICT else self.guess_category_from_symbol(x[1]) ), axis = 1) df['Product'] = df[['Product', 'Symbol']].apply( lambda x: self.convert_product( x[0] if not pd.isna(x[0]) else self.guess_product_from_symbol(x[1]) ), axis = 1) df['STStatus'] = df['STStatus'].apply(lambda x: 1 if x else 0) df['TradeStatus'] = df['TradeStatus'].apply(self.convert_tradestatus) ","date":"2022-11-19","objectID":"/2022-11-19-%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA-stock.daily-%E6%95%B0%E6%8D%AE/:5:0","tags":["stock","daily"],"title":"å¦‚ä½•æ­å»º Stock.Daily æ•°æ®","uri":"/2022-11-19-%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA-stock.daily-%E6%95%B0%E6%8D%AE/"},{"categories":["tools"],"content":" å…¥åº“å‰æ£€æŸ¥è§„åˆ™ PreClose, Open, High, Low, Close, UpperLimit, LowerLimit, (Amount/Volume), è¿™å‡ ä¸ªåº”è¯¥æ˜¯åŒä¸€ä¸ªæ•°é‡çº§ï¼› TotalShare, FloatAShare, FreeShare, (NetAsset/Close) åº”è¯¥æ˜¯å·®ä¸å¤šæ˜¯ä¸€ä¸ªã€‚ æ£€æŸ¥é¡¹ç›®ï¼š 1. vwap vs close 2. turnover = Volume/FloatAShare \u003c 1.0ï¼Œ 3. lower_limit \u003c= px \u003c= upper_limit 4. pb \u003e 0.2(å»æ‰è´Ÿçš„ NetAsset) 5. æ¶¨è·Œåœå¹…åº¦ï¼ˆå»æ‰æ–°è‚¡ï¼‰ 6. å…³äº TotalShare vs TotalShareToday: å‰é¢æ˜¯å…¨éƒ¨è‚¡æœ¬,åé¢æ˜¯å½“æ—¥è‚¡æœ¬,æ¯”å¦‚ TotalShare \u003c FloatAShare: --------------------------- TradingDay Symbol TotalShare FloatAShare 2020-10-19 603882.SH 457,884,577.000000 459,487,577.000000 7. å¦‚æœæ˜¯ ST, æ¶¨è·Œå¹…æ˜¯ 5% å¯ä»¥å†åŠ ä¸¤ä¸ªæ£€æŸ¥ï¼Œ 1. å°±æ˜¯'STK'é‡ŒTradeStatusä¸åº”è¯¥å‡ºç°'X'(æˆ‘è¿™è¾¹ç°åœ¨å°±æ˜¯ç”¨Suspenæ¥åˆ¤æ–­è‚¡ç¥¨ä¸äº¤æ˜“)ã€‚ 2. ä¹Ÿå¯ä»¥æ£€æŸ¥ä¸€ä¸‹æ¯å¤©ï¼ŒVolume=0, Amount=0å’ŒTradeStatus='Sus' æ˜¯ä¸æ˜¯åŒä¸€æ‰¹è‚¡ç¥¨ å¯¹äºindexçš„æ£€æŸ¥(000016.SH, 000300.SH, 000905.SH, 000852.SH, 000985.CSI)æš‚æ—¶åªéœ€è¦æ£€æŸ¥è¿™äº”ä¸ªå°±è¡Œäº†ã€‚ 1. æ¯å¤©éƒ½æœ‰æ•°æ® 2. PreClose, Open, High, Low, Closeï¼ŒVolume, Amountä¸èƒ½æœ‰NaNã€‚UpperLimit, LowerLimitï¼ŒTotalshare, FloatAshareså¼ºåˆ¶æ˜¯NaN. å†å²æ•°æ® æ¯æ—¥æ›´æ–°æ•°æ®","date":"2022-11-19","objectID":"/2022-11-19-%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA-stock.daily-%E6%95%B0%E6%8D%AE/:6:0","tags":["stock","daily"],"title":"å¦‚ä½•æ­å»º Stock.Daily æ•°æ®","uri":"/2022-11-19-%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA-stock.daily-%E6%95%B0%E6%8D%AE/"},{"categories":[],"content":"ADSP(Algo + Data Structure = Programming) æ˜¯ä¸€ä¸ªä¼˜ç§€çš„æ’­å®¢ç½‘ç«™ï¼Œç»å¸¸é‚€è¯·ä¸€äº›ç¼–ç¨‹ç•Œçš„å¤§ä½¬çš„æ¢è®¨æŠ€æœ¯æ€§è¯é¢˜ï¼Œæˆªæ­¢ç›®å‰ï¼ˆ2022-10-20ï¼‰å·²ç»å½•åˆ¶æ­£å¥½100æœŸèŠ‚ç›®äº†ã€‚ è¯¥ç½‘ç«™åŒæ—¶è¿˜æä¾›äº†éŸ³é¢‘ä¸‹è½½ï¼Œæ–¹ä¾¿ç”¨æˆ·ç¦»çº¿æ”¶å¬ã€‚ä¸è¿‡å¯¹äºæ‡’äººå¦‚æˆ‘è€…ï¼ˆç¨‹åºå‘˜ç¦åˆ©ï¼‰ï¼Œå½“ç„¶æƒ³ç€ä½¿ç”¨è„šæœ¬æ¥è‡ªåŠ¨åŒ–ä¸‹è½½äº†ã€‚è¯ä¸å¤šè¯´ï¼Œshow the codeã€‚ import bs4 import re import requests import os from datetime import datetime links = [] for i in range(1,21): if i == 1: url = f\"https://adspthepodcast.com\" else: url = f\"https://adspthepodcast.com/blog/page{i}/\" rsp = requests.get(url) soup = bs4.BeautifulSoup(rsp.text, 'html.parser').find_all('a') links.extend([link.get('href') for link in soup if 'Episode' in link.get('href')]) for k in links: url = f\"https://adspthepodcast.com/{k}\" print(f\"{datetime.now()} processing url ==\u003e {url}\") rsp = requests.get(url) soup = bs4.BeautifulSoup(rsp.text, 'html.parser') ## è¿™é‡Œéœ€è¦æŸ¥çœ‹ä¸€ä¸‹ soup é‡Œé¢å…·ä½“çš„æ ¼å¼ ## å‘ç° section è¿™ä¸ªåœ°æ–¹å‡ºç°äº†ä¸‹è½½é“¾æ¥ res = soup.find_all(name='section')[0].find('script').get('src') res = re.sub(r\".js\", r\".mp3\", res) ## æå–title # title = re.sub('.*(episode.*mp3).*', '\\\\1', res) title = '-'.join(res.split('?')[0].split('/')[-1].split('-')[1:]) filename = f'/home/william/Downloads/ADSP/{title}' if os.path.isfile(filename): continue mp3 = requests.get(res) with open(filename, 'wb') as f: f.write(mp3.content) print(f\"{datetime.now()} saved file ==\u003e {filename}\") ","date":"2022-10-22","objectID":"/2022-10-22-adsp-%E4%B8%8B%E8%BD%BDmp3/:0:0","tags":["ADSP","mp3","python"],"title":"ASDP ä¸‹è½½mp3","uri":"/2022-10-22-adsp-%E4%B8%8B%E8%BD%BDmp3/"},{"categories":["tools"],"content":"ä¹‹å‰ä¸€ç›´æœ‰é‡åˆ°éœ€è¦è½¬æ¢ bash å­—ç¬¦ä¸²å¤§å°å†™çš„é—®é¢˜ã€‚ exch=sh ## å¤§å†™ echo ${exch^^} exch=SH ## å°å†™ echo ${exch,,} ","date":"2022-09-23","objectID":"/2022-09-23-bash-%E5%A4%A7%E5%B0%8F%E5%86%99%E8%BD%AC%E6%8D%A2/:0:0","tags":["bash","å¤§å°å†™"],"title":"bash å¤§å°å†™è½¬æ¢","uri":"/2022-09-23-bash-%E5%A4%A7%E5%B0%8F%E5%86%99%E8%BD%AC%E6%8D%A2/"},{"categories":["tools"],"content":"ä½¿ç”¨ VIm æ‰“å¼€ Ansi é¢œè‰²çš„æ–‡ä»¶ã€‚ ","date":"2022-09-16","objectID":"/2022-09-16-vim-%E6%89%93%E5%BC%80-ansi-%E6%96%87%E4%BB%B6/:0:0","tags":["vim","ansi"],"title":"vim æ‰“å¼€ Ansi æ–‡ä»¶","uri":"/2022-09-16-vim-%E6%89%93%E5%BC%80-ansi-%E6%96%87%E4%BB%B6/"},{"categories":["tools"],"content":" ä½¿ç”¨ vim.plug Plug 'powerman/vim-plugin-AnsiEsc' \"autocmd BufRead * AnsiEsc :AnsiEsc ","date":"2022-09-16","objectID":"/2022-09-16-vim-%E6%89%93%E5%BC%80-ansi-%E6%96%87%E4%BB%B6/:1:0","tags":["vim","ansi"],"title":"vim æ‰“å¼€ Ansi æ–‡ä»¶","uri":"/2022-09-16-vim-%E6%89%93%E5%BC%80-ansi-%E6%96%87%E4%BB%B6/"},{"categories":["tools"],"content":" ç›´æ¥å®‰è£… git clone https://github.com/powerman/vim-plugin-AnsiEsc.git cp -r vim-plugin-AnsiEsc ~/.vim vim -R +AnsiEsc # æˆ–è€… :AnsiEsc ","date":"2022-09-16","objectID":"/2022-09-16-vim-%E6%89%93%E5%BC%80-ansi-%E6%96%87%E4%BB%B6/:2:0","tags":["vim","ansi"],"title":"vim æ‰“å¼€ Ansi æ–‡ä»¶","uri":"/2022-09-16-vim-%E6%89%93%E5%BC%80-ansi-%E6%96%87%E4%BB%B6/"},{"categories":["tools"],"content":"In this document we discuss best practices for using EASTL. The primary emphasis is on performance with a secondary emphasis on correctness and maintainability. Some best practices apply only to some situations, and these will be pointed out as we go along. In order to be easily digestible, we present these practices as a list of items in the tone of the Effective C++ series of books. ","date":"2022-09-13","objectID":"/2022-09-13-eastl-best-practices/:0:0","tags":["c++"],"title":"eastl best practices","uri":"/2022-09-13-eastl-best-practices/"},{"categories":["tools"],"content":" set autochdir let NERDTreeChDirMode=2 nnoremap \u003cleader\u003en :NERDTree .\u003cCR\u003e so that NERDTree always opens in the current folder. With the 1st line, the working directory is always the one where the active buffer is located. With the 2nd line, I make sure the working directory is set correctly. With the 3rd line, I hit \u003cleader\u003en to open NERDTree. ","date":"2022-09-13","objectID":"/2022-09-13-nerdtree-%E8%87%AA%E5%8A%A8%E5%88%87%E6%8D%A2%E5%88%B0%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95/:0:0","tags":["vim","nerdtree"],"title":"nerdtree è‡ªåŠ¨åˆ‡æ¢åˆ°å½“å‰ç›®å½•","uri":"/2022-09-13-nerdtree-%E8%87%AA%E5%8A%A8%E5%88%87%E6%8D%A2%E5%88%B0%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95/"},{"categories":["tools"],"content":"è§£å†³å¯†ç è¾“å…¥æ­£ç¡®ï¼Œä½†æ˜¯ä¾ç„¶æŠ¥é”™çš„é—®é¢˜ã€‚ jupyter notebook list ## ç”Ÿæˆé…ç½®æ–‡ä»¶ï¼Œè¾“å…¥å¯†ç  ## ä½†æ˜¯éœ€è¦ä¿®æ”¹é…ç½®ï¼Œå¦åˆ™ä¼šå‡ºç°å¯†ç é”™è¯¯: Invalid credentials cd ~ jupyter notebook --generate-config jupyter-notebook password jupyter notebook --no-browser --port 58888 ## è¦æŠŠæŠŠ passwor å’Œ token éƒ½è®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸² vim jupyter_notebook_config.py c.NotebookApp.password = u'' c.NotebookApp.token = '' c.NotebookApp.open_browser = False c.NotebookApp.ip = '0.0.0.0' c.NotebookApp.port = 58888 ","date":"2022-09-13","objectID":"/2022-09-13-jupyter-%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81%E9%94%99%E8%AF%AF/:0:0","tags":["ipython","jupyter"],"title":"jupyter è¾“å…¥å¯†ç é”™è¯¯","uri":"/2022-09-13-jupyter-%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81%E9%94%99%E8%AF%AF/"},{"categories":["tools"],"content":"é€šè¿‡é…ç½® ipython ä»¥è·å¾—æ›´å¥½çš„ç¼–è¾‘ä½“éªŒã€‚ ","date":"2022-09-13","objectID":"/2022-09-13-ipython-%E9%85%8D%E7%BD%AE/:0:0","tags":["ipython","python"],"title":"ipython é…ç½®","uri":"/2022-09-13-ipython-%E9%85%8D%E7%BD%AE/"},{"categories":["tools"],"content":" prompt è®¾ç½®","date":"2022-09-13","objectID":"/2022-09-13-ipython-%E9%85%8D%E7%BD%AE/:1:0","tags":["ipython","python"],"title":"ipython é…ç½®","uri":"/2022-09-13-ipython-%E9%85%8D%E7%BD%AE/"},{"categories":["tools"],"content":" é…ç½®æ–‡ä»¶ ~/anaconda3/bin/ipython profile create [ProfileCreate] Generating default config file: '/home/william/.ipython/profile_default/ipython_config.py' [ProfileCreate] Generating default config file: '/home/william/.ipython/profile_default/ipython_kernel_config.py' cd ~/.ipython/profile_default/ vim ipython_config.py ## ä¿®æ”¹é¢œè‰² ## Set the color scheme (NoColor, Neutral, Linux, or LightBG). # Choices: any of ['Neutral', 'NoColor', 'LightBG', 'Linux'] (case-insensitive) # Default: 'Neutral' # c.InteractiveShell.colors = 'Neutral' c.InteractiveShell.colors = 'NoColor' æˆ–è€…å¯åŠ¨çš„æ—¶å€™æŒ‡å®šé¢œè‰²æ–¹æ¡ˆ ~/anaconda3/bin/ipython --colors=NoColor æˆ–è€…è¿è¡Œæ—¶è®¾ç½® [1] %colors nocolor ","date":"2022-09-13","objectID":"/2022-09-13-ipython-%E9%85%8D%E7%BD%AE/:1:1","tags":["ipython","python"],"title":"ipython é…ç½®","uri":"/2022-09-13-ipython-%E9%85%8D%E7%BD%AE/"},{"categories":["tools"],"content":" å®šåˆ¶é…ç½®åœ¨ ``~.ipython/profile_default/ipython_config.py` æ·»åŠ  # ~/anaconda3/bin/ipython profile create # vim ~/.ipython/profile_default/ipython_config.py from IPython.terminal.prompts import Prompts, Token import os class MyPrompt(Prompts): def in_prompt_tokens(self, cli=None): # custom path = os.path.basename(os.getcwd()) user = os.environ['USER'] return [ (Token.Prompt, ''), (Token.PromptNum, f\"{path}â¯ \"), (Token.Prompt, 'In ['), (Token.PromptNum, str(self.shell.execution_count)), (Token.Prompt, ']'), (Token.Prompt, ': '), ] ## ==================================================== c = get_config() c.TerminalInteractiveShell.prompts_class = MyPrompt c.InteractiveShell.colors = 'NoColor' c.TerminalIPythonApp.display_banner = False ## ==================================================== \"\"\" å¦‚æœéœ€è¦è¿è¡Œæ—¶è®¾ç½®ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ ip = get_ipython() ip.prompts = MyPrompt(ip) \"\"\" ","date":"2022-09-13","objectID":"/2022-09-13-ipython-%E9%85%8D%E7%BD%AE/:2:0","tags":["ipython","python"],"title":"ipython é…ç½®","uri":"/2022-09-13-ipython-%E9%85%8D%E7%BD%AE/"},{"categories":[],"content":"RSS æä¾›äº†è®¢é˜…å¼çš„ä¿¡æ¯è·å–æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§è‡ªå·±æ„Ÿå…´è¶£çš„è¯é¢˜ï¼Œè®¢é˜…é«˜è´¨é‡çš„åšå®¢ç½‘ç«™ã€‚å¯¹æ¯”äºæ¨é€å¼ï¼ˆç³»ç»Ÿæ¨èï¼‰ï¼Œè¿™èƒ½å¤Ÿæ‹“å±•æˆ‘ä»¬çš„ä¿¡æ¯è¾¹ç•Œï¼Œè€Œä¸æ˜¯é™·å…¥ä¿¡æ¯èŒ§æˆ¿ã€‚ RSS","date":"2022-09-13","objectID":"/2022-09-13-rss-%E4%B8%8E%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96/:0:0","tags":[],"title":"rss ä¸ä¿¡æ¯è·å–","uri":"/2022-09-13-rss-%E4%B8%8E%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96/"},{"categories":[],"content":" Chrome å·¥å…·","date":"2022-09-13","objectID":"/2022-09-13-rss-%E4%B8%8E%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96/:1:0","tags":[],"title":"rss ä¸ä¿¡æ¯è·å–","uri":"/2022-09-13-rss-%E4%B8%8E%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96/"},{"categories":[],"content":" RSS FinderRss Finder ","date":"2022-09-13","objectID":"/2022-09-13-rss-%E4%B8%8E%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96/:1:1","tags":[],"title":"rss ä¸ä¿¡æ¯è·å–","uri":"/2022-09-13-rss-%E4%B8%8E%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96/"},{"categories":[],"content":" slick-rssslick-rss ","date":"2022-09-13","objectID":"/2022-09-13-rss-%E4%B8%8E%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96/:1:2","tags":[],"title":"rss ä¸ä¿¡æ¯è·å–","uri":"/2022-09-13-rss-%E4%B8%8E%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96/"},{"categories":[],"content":" Thunderbird","date":"2022-09-13","objectID":"/2022-09-13-rss-%E4%B8%8E%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96/:2:0","tags":[],"title":"rss ä¸ä¿¡æ¯è·å–","uri":"/2022-09-13-rss-%E4%B8%8E%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96/"},{"categories":[],"content":" RssHubRssHub ","date":"2022-09-13","objectID":"/2022-09-13-rss-%E4%B8%8E%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96/:3:0","tags":[],"title":"rss ä¸ä¿¡æ¯è·å–","uri":"/2022-09-13-rss-%E4%B8%8E%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96/"},{"categories":[],"content":" å®‰è£…å¯ä»¥å‚è€ƒ å®˜ç½‘æ•™ç¨‹ sudo yum install docker docker-compose sudo systemctl start docker wget https://raw.githubusercontent.com/DIYgod/RSSHub/master/docker-compose.yml ## é…ç½® vim docker-compose.yml # ä¹Ÿå¯ä»¥æ˜¯ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨ docker volume create redis-data docker-compose up -d ## è®¿é—® curl 127.0.0.1:1200 ","date":"2022-09-13","objectID":"/2022-09-13-rss-%E4%B8%8E%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96/:3:1","tags":[],"title":"rss ä¸ä¿¡æ¯è·å–","uri":"/2022-09-13-rss-%E4%B8%8E%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96/"},{"categories":[],"content":" è®¾ç½®é˜¿é‡Œäº‘è®¿é—® systemctl restart firewalld.service firewall-cmd --zone=public --add-port=1200/tcp --permanent systemctl stop firewalld.service ç„¶åéœ€è¦åœ¨é˜¿é‡Œäº‘-ã€å®‰å…¨ç»„ã€‘-é€‰æ‹©å¼€æ”¾ 1200 ç«¯å£è®¿é—®ã€‚ æ¥ç€è®¾ç½®é˜¿é‡Œäº‘åŸŸåè§£æ è®°å½•ç±»å‹ï¼šA ä¸»æœºè®°å½•ï¼šrss ï¼ˆ.wuyacapital.comï¼‰ è®°å½•å€¼ï¼šé˜¿é‡ŒIPï¼ˆä¸å¸¦ç«¯å£ï¼Œéœ€è¦é€šè¿‡nginxé…ç½®ï¼‰ ","date":"2022-09-13","objectID":"/2022-09-13-rss-%E4%B8%8E%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96/:3:2","tags":[],"title":"rss ä¸ä¿¡æ¯è·å–","uri":"/2022-09-13-rss-%E4%B8%8E%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96/"},{"categories":[],"content":" é…ç½® nginx cd /etc/nginx vim nginx.conf ## å°½é‡åœ¨å‰é¢æ·»åŠ  ## åœ¨ htpp {} é‡Œé¢ server { listen 80; server_name rss.wuyacapital.com; location / { proxy_set_header X-Real-IP $remote_addr; proxy_set_header Host $http_host; proxy_pass http://127.0.0.1:1200; } } systemctl restart nginx nginx -s reload ç°åœ¨å¯ä»¥é€šè¿‡è®¿é—®ï¼šhttps://rss.wuyacapital.com/ ","date":"2022-09-13","objectID":"/2022-09-13-rss-%E4%B8%8E%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96/:3:3","tags":[],"title":"rss ä¸ä¿¡æ¯è·å–","uri":"/2022-09-13-rss-%E4%B8%8E%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96/"},{"categories":[],"content":" æ·»åŠ  httpscertbot å¸¸ç”¨çš„ RSS èµ„æº Chrome å·¥å…·RSS Finderslick-rssThunderbirdRssHubå®‰è£…è®¾ç½®é˜¿é‡Œäº‘è®¿é—®é…ç½® nginxæ·»åŠ  https ","date":"2022-09-13","objectID":"/2022-09-13-rss-%E4%B8%8E%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96/:3:4","tags":[],"title":"rss ä¸ä¿¡æ¯è·å–","uri":"/2022-09-13-rss-%E4%B8%8E%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96/"},{"categories":["tools"],"content":"conflicts with clear screen #9 Since I misunderstood README and lost a bit of time figuring this out, I want to clarify what can be done to restore behavior. If you use tpm, put restoring bind after calling package manager: run '~/.tmux/plugins/tpm/tpm' bind-key -n C-l if-shell \"$is_vim\" \"send-keys C-l\" \"send-keys C-l\" (if you donâ€™t use tpm - just do not put â€œbind-key -n C-lâ€ line in config) Do this part of README in vimrc (also wo C-l line) let g:tmux_navigator_no_mappings = 1 nnoremap \u003csilent\u003e \u003cC-h\u003e :TmuxNavigateLeft\u003ccr\u003e nnoremap \u003csilent\u003e \u003cC-j\u003e :TmuxNavigateDown\u003ccr\u003e nnoremap \u003csilent\u003e \u003cC-k\u003e :TmuxNavigateUp\u003ccr\u003e ","date":"2022-09-13","objectID":"/2022-09-13-tmux-vim-%E5%AF%BC%E8%87%B4%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8-ctrl-l-%E6%B8%85%E5%B1%8F/:0:0","tags":["tmux","vim"],"title":"tmux vim å¯¼è‡´æ— æ³•ä½¿ç”¨ ctrl l æ¸…å±","uri":"/2022-09-13-tmux-vim-%E5%AF%BC%E8%87%B4%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8-ctrl-l-%E6%B8%85%E5%B1%8F/"},{"categories":["tools"],"content":"é€šè¿‡åœ¨ Linux ç³»ç»Ÿé…ç½®ä¸€ä¸ªè¶…çº§ç”¨æˆ·ç¨‹åºï¼Œè·å– root æƒé™ cç¨‹åº ä¸€å®šè¦ä½¿ç”¨æ™®é€šç”¨æˆ· // super.c // -------- #include \u003cstdio.h\u003e #include \u003cstdlib.h\u003e #include \u003csys/types.h\u003e #include \u003cunistd.h\u003e int main(void) { setuid(0); clearenv(); system(\"export PATH=/sbin:/bin:/usr/bin:/usr/local/bin:$PATH; export TERM=linux; /bin/bash\"); } ç¼–è¯‘ ä¸€å®šè¦ä½¿ç”¨æ™®é€šç”¨æˆ· gcc super.c -o super è¿™é‡Œå¯ä»¥è¯•ä¸€ä¸‹æ‰§è¡Œç¨‹åºï¼Œå‘ç°ä¾ç„¶æ˜¯å½“å‰ç”¨æˆ· [trader@localhost ~]$ ll total 16 -rwxrwxr-x 1 trader trader 8216 Oct 25 20:36 super -rw-r--r-- 1 root trader 170 Oct 25 20:34 super.c [trader@localhost ~]$ ./super [trader@localhost trader]$ whoami trader æƒé™ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥è®¾ç½®è¿™ä¸ªå¯æ‰§è¡Œç¨‹åºçš„æƒé™ï¼Œä½¿å¾—å…¶å¯ä»¥åœ¨æ™®é€šç”¨æˆ·çš„ç¯å¢ƒä¸­ï¼Œä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨é»˜è®¤çš„ root æƒé™è¿è¡Œçš„ã€‚ ä½¿ç”¨ root æƒé™ä¿®æ”¹å¯æ‰§è¡Œç¨‹åºï¼š sudo chown root super sudo chmod ug+s super sudo chmod a+x super å¦‚æ­¤ä¸€æ¥ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥é€šè¿‡æ‰§è¡Œ super è‡ªåŠ¨è·å– root æƒé™äº† [trader@localhost ~]$ ll total 16 -rwsrwsr-x 1 root trader 8216 Oct 25 20:36 super -rw-r--r-- 1 root trader 170 Oct 25 20:34 super.c [trader@localhost ~]$ ./super [root@localhost trader]# whoami root [root@localhost trader]# mkdir -p /usr/test [root@localhost trader]# rm -rf /usr/test [root@localhost trader]# æ·»åŠ ç”¨æˆ·åˆ° sudoers sudo vim /etc/sudoers ## å¤šä¸ªå‘½ä»¤ç”¨é€—å·åˆ†å‰² ## NOPASSWD è¡¨ç¤ºä¸ç”¨è¾“å…¥å¯†ç  ops ALL=(ALL) NOPASSWD:/usr/bin/bash ","date":"2022-09-13","objectID":"/2022-09-13-linux-%E8%AE%BE%E7%BD%AE%E8%B6%85%E7%BA%A7%E7%94%A8%E6%88%B7%E7%A8%8B%E5%BA%8F/:0:0","tags":["linux","c","root"],"title":"linux è®¾ç½®è¶…çº§ç”¨æˆ·ç¨‹åº","uri":"/2022-09-13-linux-%E8%AE%BE%E7%BD%AE%E8%B6%85%E7%BA%A7%E7%94%A8%E6%88%B7%E7%A8%8B%E5%BA%8F/"},{"categories":[],"content":"æœ€è¿‘åœ¨å†™ä¸€ä¸ªé›†åˆç«ä»·çš„ä¸‹å•ç®—æ³•ï¼Œé‡Œé¢ç”¨åˆ°äº†é›†åˆç«ä»·é€ç¬”è¡Œæƒ…ã€æ’®åˆå¯èƒ½çš„æˆäº¤ä»·æ ¼ä¸æ•°é‡ã€è‡ªå·±é¢„è®¡ä¸‹å•å¯¹å¸‚åœºçš„å½±å“ã€åœ¨ä¸€ä¸ªç»‘å®šCPUçš„æ—¶é—´çº¿ç¨‹åˆ¤æ–­ä¸´è¿‘é›†åˆç«ä»·ç»“æŸæ‰§è¡Œä¸‹å•ã€‚æ„Ÿè§‰æŒºèŠ±å¿ƒè¡€ï¼Œä¸ºäº†æé«˜æ’®åˆçš„æ€§èƒ½ï¼Œè¿ç»­ä¸¤ä¸ªå‘¨æœ«åœ¨æµ‹è¯•å„ä¸ªç¯èŠ‚æ¶ˆè€—çš„æ—¶é—´ï¼Œä¼˜åŒ–ç›¸åº”çš„æ’®åˆç®—æ³•ï¼Œä¸å°åˆ˜è®¨è®ºå¦‚ä½•å‡å°‘å°è¯•ä¸‹å•çš„æ¬¡æ•°ç­‰ã€‚ç„¶ååœ¨ä¸åŒçš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ simu è¿›è¡Œç³»ç»Ÿçš„æµ‹è¯•ï¼Œå¾—åˆ°æ­£ç¡®ä¸”å¿«é€Ÿçš„ç»“æœã€‚ æœ¬æ¥å¿ƒæƒ³ç€é«˜é«˜å…´å…´ä¸Šå®ç›˜ï¼Œç»“æœé‡åˆ°ä¸€ä¸ªè«åå…¶å¦™çš„ bugï¼Œä¸¤ä¸ªå‡ ä¹åœ¨åŒæ—¶å¯åŠ¨çš„ç­–ç•¥ç¨‹åºï¼Œåœ¨ç›¸åŒçš„æ—¶é—´é‡Œæ‰§è¡Œäº†ä¸‹å•ï¼Œå¯¼è‡´ gw æŠ¥å•å‡ºç°é‡å¤è®¢å•ã€‚æ•´ä¸ªäº‹æƒ…çœ‹èµ·æ¥æœ‰ç‚¹ç¥å¥‡ï¼Œç†è®ºä¸Šåº”è¯¥ä¸¤ä¸ªç¨‹åºæ˜¯ä¸èƒ½åŒæ—¶å¯åŠ¨çš„ï¼Œè€Œæ˜¯åé¢ä¸€ä¸ªç¨‹åºä¼šå…ˆæ€æ‰å‰é¢çš„ç¨‹åºã€‚ä½†æ˜¯ç”±äºä¸€äº›è¿ç»´ä¸Šé¢çš„åŸå› ï¼Œå¯¼è‡´è¿™ä¸ªé—´æ­‡æ—¶é—´æœ‰ç‚¹é•¿ï¼Œåèµ·çš„ç¨‹åºæ²¡æœ‰æˆåŠŸæ€æ‰å‰é¢çš„ç¨‹åºã€‚ ä»Šå¤©çš„äº‹æƒ…æå¾—å¿ƒæƒ…æœ‰ç‚¹ä¸å¤ªå¥½ï¼Œç”šè‡³æ€€ç–‘è‡ªå·±å†™çš„ç¨‹åºæœ‰ç‚¹é—®é¢˜ã€‚åé¢ä¹Ÿæ’é™¤äº†è¿™ä¸ªåŸå› ã€‚ä½†æ˜¯æ•´ä¸ªäº‹æƒ…å¯¹è‡ªå·±çš„å½±å“è¿˜æ˜¯æŒºå¤§çš„ï¼Œæœ‰ç‚¹æƒ³è¦è¾èŒçš„å†²åŠ¨äº†ã€‚ æœ€è¿‘å›¢é˜Ÿåœ¨è½¬å‹ï¼Œäººæ‰‹åˆä¸å¤Ÿï¼Œè‡ªå·±å¾—å¤„ç†ä¸€å †éäº¤æ˜“ç›¸å…³çš„äº‹æƒ…ï¼Œé¢å¯¹çš„åˆ¸å•†åˆä¸æ˜¯å¾ˆç»™åŠ›ï¼Œç»å¸¸å‡ºé”™ã€‚å¯ä»¥è¯´è¿™æ®µæ—¶é—´æ˜¯éå¸¸è‰°éš¾äº†ï¼Œç®€ç›´åœ¨æµªè´¹æ—¶é—´ä¸ç”Ÿå‘½ã€‚è¿™è·Ÿè‡ªå·±åŸå…ˆæƒ³åšäº¤æ˜“çš„æƒ³æ³•å®Œå…¨å—è¾•åŒ—è¾™ï¼Œç›¸å·®ç”šè¿œã€‚ ä¹Ÿè®¸æœ‰äº†å‹‡æ°”ï¼Œæˆ‘ä¼šè‡´è¾çš„ã€‚ç°åœ¨åšçš„ä¸ä¸€å®šæ˜¯è‡ªå·±æƒ³è¦çš„ï¼Œä¸­å¹´äººå”¯ä¸€çš„å€”å¼ºï¼Œåº”è¯¥æ˜¯å‹‡æ•¢ä¸€æå§ã€‚ ","date":"2022-09-13","objectID":"/2022-09-13-%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%97%A0%E5%8A%9B%E6%84%9F/:0:0","tags":[],"title":"ç¬¬ä¸€æ¬¡æ— åŠ›æ„Ÿ","uri":"/2022-09-13-%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%97%A0%E5%8A%9B%E6%84%9F/"},{"categories":["tools"],"content":"é€šè¿‡ nginx å®ç°ç«¯å£è½¬å‘ å®‰è£… nginx with stream ## å¦‚æœæ˜¯ä»æºä»£ç å®‰è£…ï¼Œéœ€è¦åœ¨ç¼–è¯‘æ—¶å€™é…ç½® ./configure --prefix=/opt/apps/nginx --with-stream make \u0026\u0026 make install ## æˆ–è€…ç›´æ¥ç”¨ä¸‹é¢çš„å‘½ä»¤å®‰è£… #æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œæ ¹æ®æç¤ºå®Œæˆå®‰è£… wget https://raw.githubusercontent.com/helloxz/nginx-cdn/master/nginx.sh \u0026\u0026 bash nginx.sh #å®‰è£…å®Œæˆåæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤è®©ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ source /etc/profile #æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹nginxä¿¡æ¯ nginx -V ## åœ¨ç‰ˆæœ¬ 1.9 ä»¥ä¸Šä¼šå‡ºç° --with-streamï¼Œå³å¯è¯æ˜å¯ä»¥ç”¨ sshd æ–­éš§é“åŠŸèƒ½äº† é…ç½®ç«¯å£è½¬å‘ cd /etc/nginx vim nginx.conf ## stream æ˜¯ä¸ http é€šçº§åˆ«çš„ #... ... #... ... events { use epoll; worker_connections 65535; } #streamé…ç½® stream { #å°†12345ç«¯å£è½¬å‘åˆ°192.168.1.23çš„3306ç«¯å£ server { listen 12345; proxy_connect_timeout 1h; proxy_timeout 1h; proxy_pass 192.168.1.23:3306; } #å°†tcp 1022ç«¯å£è½¬å‘åˆ°192.168.1.23 22ç«¯å£ server { listen 1022 reuseport; proxy_timeout 1h; proxy_pass 192.168.1.23:22; } #å°†udp 53ç«¯å£è½¬å‘åˆ°192.168.1.23 53ç«¯å£ server { listen 53 udp reuseport; proxy_timeout 1h; proxy_pass 192.168.1.23:53; } #ipv4è½¬å‘åˆ°ipv6 server { listen 9135; proxy_connect_timeout 10s; proxy_timeout 30s; proxy_pass [2607:fcd0:107:3cc::1]:9135; } } http { #... ... #... ... } listenï¼šåé¢å¡«å†™æºç«¯å£ï¼ˆä¹Ÿå°±æ˜¯å½“å‰æœåŠ¡å™¨ç«¯å£ï¼‰ï¼Œé»˜è®¤åè®®ä¸ºTCPï¼Œå¯ä»¥æŒ‡å®šä¸ºUDPåè®® proxy_connect_timeoutï¼šè¿æ¥è¶…æ—¶æ—¶é—´ proxy_timeoutï¼šè¶…æ—¶æ—¶é—´ proxy_passï¼šå¡«å†™è½¬å‘ç›®æ ‡çš„IPåŠç«¯å£å· è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—® nginx æ‰€åœ¨ç½‘ç»œçš„æŒ‡å®šç«¯å£ï¼Œå»è®¿é—®ç›®æ ‡æœºå™¨ nginx -s reload ssh -p 1022 user@127.0.0.1 ","date":"2022-09-13","objectID":"/2022-09-13-nginx-%E5%AE%9E%E7%8E%B0-sshd-%E7%9A%84%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E5%8A%9F%E8%83%BD/:0:0","tags":["ngix","sshd","ç«¯å£è½¬å‘"],"title":"nginx å®ç° sshd çš„ç«¯å£è½¬å‘åŠŸèƒ½","uri":"/2022-09-13-nginx-%E5%AE%9E%E7%8E%B0-sshd-%E7%9A%84%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E5%8A%9F%E8%83%BD/"},{"categories":["tools"],"content":"é€šè¿‡é…ç½®ï¼Œè¿è¡Œç›´æ¥åœ¨æµè§ˆå™¨è®¿é—®ç½‘ç«™äºŒçº§åŸŸåï¼Œå®ç°å¯¹æŒ‡å®šç«¯å£çš„æœåŠ¡ç¨‹åºçš„è®¿é—®ã€‚ ","date":"2022-09-13","objectID":"/2022-09-13-nginx-%E9%85%8D%E7%BD%AE%E9%98%BF%E9%87%8C%E4%BA%91%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D%E8%AE%BF%E9%97%AE/:0:0","tags":["ngix"],"title":"nginx é…ç½®é˜¿é‡Œäº‘äºŒçº§åŸŸåè®¿é—®","uri":"/2022-09-13-nginx-%E9%85%8D%E7%BD%AE%E9%98%BF%E9%87%8C%E4%BA%91%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D%E8%AE%BF%E9%97%AE/"},{"categories":["tools"],"content":" æœåŠ¡ç¨‹åºå‡è®¾æˆ‘ä»¬æœ‰ä¸€é¡¹æœåŠ¡ç¨‹åºï¼Œå¦‚ RssHub å¯ä»¥å‚è€ƒ å®˜ç½‘æ•™ç¨‹ sudo yum install docker docker-compose sudo systemctl start docker wget https://raw.githubusercontent.com/DIYgod/RSSHub/master/docker-compose.yml ## é…ç½® vim docker-compose.yml # ä¹Ÿå¯ä»¥æ˜¯ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨ docker volume create redis-data docker-compose up -d ## è®¿é—® curl 127.0.0.1:1200 ä¸ºäº†å¯ä»¥é€šè¿‡è®¿é—®é˜¿é‡Œäº‘çš„äºŒçº§åŸŸåï¼Œå³åœ¨æµè§ˆå™¨ç›´æ¥æ‰“å¼€å¯ä»¥é€šè¿‡è®¿é—®ï¼šhttps://rss.wuyacapital.com/ ","date":"2022-09-13","objectID":"/2022-09-13-nginx-%E9%85%8D%E7%BD%AE%E9%98%BF%E9%87%8C%E4%BA%91%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D%E8%AE%BF%E9%97%AE/:1:0","tags":["ngix"],"title":"nginx é…ç½®é˜¿é‡Œäº‘äºŒçº§åŸŸåè®¿é—®","uri":"/2022-09-13-nginx-%E9%85%8D%E7%BD%AE%E9%98%BF%E9%87%8C%E4%BA%91%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D%E8%AE%BF%E9%97%AE/"},{"categories":["tools"],"content":" è®¾ç½®é˜¿é‡Œäº‘è®¿é—® systemctl restart firewalld.service firewall-cmd --zone=public --add-port=1200/tcp --permanent systemctl stop firewalld.service ç„¶åéœ€è¦åœ¨é˜¿é‡Œäº‘-ã€å®‰å…¨ç»„ã€‘-é€‰æ‹©å¼€æ”¾ 1200 ç«¯å£è®¿é—®ã€‚ æ¥ç€è®¾ç½®é˜¿é‡Œäº‘åŸŸåè§£æ è®°å½•ç±»å‹ï¼šA ä¸»æœºè®°å½•ï¼šrss ï¼ˆ.wuyacapital.comï¼‰ è®°å½•å€¼ï¼šé˜¿é‡ŒIPï¼ˆä¸å¸¦ç«¯å£ï¼Œéœ€è¦é€šè¿‡nginxé…ç½®ï¼‰ ","date":"2022-09-13","objectID":"/2022-09-13-nginx-%E9%85%8D%E7%BD%AE%E9%98%BF%E9%87%8C%E4%BA%91%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D%E8%AE%BF%E9%97%AE/:2:0","tags":["ngix"],"title":"nginx é…ç½®é˜¿é‡Œäº‘äºŒçº§åŸŸåè®¿é—®","uri":"/2022-09-13-nginx-%E9%85%8D%E7%BD%AE%E9%98%BF%E9%87%8C%E4%BA%91%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D%E8%AE%BF%E9%97%AE/"},{"categories":["tools"],"content":" é…ç½® nginx cd /etc/nginx vim nginx.conf ## å°½é‡åœ¨å‰é¢æ·»åŠ  ## åœ¨ htpp {} é‡Œé¢ server { listen 80; server_name rss.wuyacapital.com; location / { proxy_set_header X-Real-IP $remote_addr; proxy_set_header Host $http_host; proxy_pass http://127.0.0.1:1200; } } systemctl restart nginx nginx -s reload åœ¨ http{} é‡Œé¢å¢åŠ ä¸€ä¸ª server é…ç½® server_name æŒ‡å®šé˜¿é‡Œäº‘äºŒçº§åŸŸåï¼šrss.wuyacapital.com åœ¨location å¡«å†™æŒ‡å®šä»£ç†è½¬å‘çš„æœåŠ¡ç¨‹åºç«¯å£ 1200ï¼šproxy_pass http://127.0.0.1:1200 ç°åœ¨å¯ä»¥é€šè¿‡è®¿é—®ï¼šhttps://rss.wuyacapital.com/ ","date":"2022-09-13","objectID":"/2022-09-13-nginx-%E9%85%8D%E7%BD%AE%E9%98%BF%E9%87%8C%E4%BA%91%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D%E8%AE%BF%E9%97%AE/:3:0","tags":["ngix"],"title":"nginx é…ç½®é˜¿é‡Œäº‘äºŒçº§åŸŸåè®¿é—®","uri":"/2022-09-13-nginx-%E9%85%8D%E7%BD%AE%E9%98%BF%E9%87%8C%E4%BA%91%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D%E8%AE%BF%E9%97%AE/"},{"categories":["tools"],"content":" æ·»åŠ  httpscertbot ","date":"2022-09-13","objectID":"/2022-09-13-nginx-%E9%85%8D%E7%BD%AE%E9%98%BF%E9%87%8C%E4%BA%91%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D%E8%AE%BF%E9%97%AE/:4:0","tags":["ngix"],"title":"nginx é…ç½®é˜¿é‡Œäº‘äºŒçº§åŸŸåè®¿é—®","uri":"/2022-09-13-nginx-%E9%85%8D%E7%BD%AE%E9%98%BF%E9%87%8C%E4%BA%91%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D%E8%AE%BF%E9%97%AE/"},{"categories":["tools"],"content":"ä½¿ç”¨ v2ray å®ç°æ±Ÿæ¹–å¤±ä¼ å·²ä¹…çš„è½»åŠŸã€‚ å®‰è£… v2ray æœåŠ¡å™¨ bash \u003c(curl -s -L https://git.io/v2ray.sh) å¯ä»¥é¡ºä¾¿ç»™ vps æµ‹é€Ÿ ## superspeed bash \u003c(curl -Lso- https://git.io/superspeed) â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”SuperSpeed å…¨é¢æµ‹é€Ÿç‰ˆâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” ä½¿ç”¨æ–¹æ³•: bash \u003c(curl -Lso- https://git.io/superspeed) æŸ¥çœ‹å…¨éƒ¨èŠ‚ç‚¹: https://git.io/superspeedList èŠ‚ç‚¹æ›´æ–°æ—¥æœŸ: 2019/12/23 è„šæœ¬æ›´æ–°æ—¥æœŸ: 2020/03/09 â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” é€‰æ‹©æµ‹é€Ÿç±»å‹: 1. ä¸‰ç½‘æµ‹é€Ÿ (å„å–éƒ¨åˆ†èŠ‚ç‚¹) 2. å–æ¶ˆæœ¬æ¬¡æµ‹é€Ÿ 3. ç”µä¿¡èŠ‚ç‚¹æµ‹é€Ÿ 4. è”é€šèŠ‚ç‚¹æµ‹é€Ÿ 5. ç§»åŠ¨èŠ‚ç‚¹æµ‹é€Ÿ è¯·è¾“å…¥æ•°å­—é€‰æ‹©: 1 â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” ID æµ‹é€ŸæœåŠ¡å™¨ä¿¡æ¯ ä¸Šä¼ é€Ÿåº¦ ä¸‹è½½é€Ÿåº¦ å»¶è¿Ÿ 3633 ç”µä¿¡|ä¸Šæµ·ã€€128.98 Mbit/s 384.05 Mbit/s 160.994 ms 24012 ç”µä¿¡|å†…è’™å¤å‘¼å’Œæµ©ç‰¹ã€€66.38 Mbit/s 49.28 Mbit/s 198.881 ms 27377 ç”µä¿¡|åŒ—äº¬ï¼•ï¼§ã€€116.61 Mbit/s 321.02 Mbit/s 161.536 ms 17145 ç”µä¿¡|å®‰å¾½å®‰å¾½åˆè‚¥ã€€124.96 Mbit/s 373.35 Mbit/s 144.317 ms 27594 ç”µä¿¡|å¹¿ä¸œå¹¿å·ï¼•ï¼§ã€€4.84 Mbit/s 23.16 Mbit/s 197.118 ms 27810 ç”µä¿¡|å¹¿è¥¿å—å®ã€€60.62 Mbit/s 119.87 Mbit/s 172.267 ms 27575 ç”µä¿¡|æ–°ç–†ä¹Œé²æœ¨é½ã€€71.01 Mbit/s 147.04 Mbit/s 206.973 ms 26352 ç”µä¿¡|æ±Ÿè‹å—äº¬ï¼•ï¼§ã€€141.18 Mbit/s 365.73 Mbit/s 138.398 ms 5396 ç”µä¿¡|æ±Ÿè‹è‹å·ã€€141.03 Mbit/s 335.99 Mbit/s 138.572 ms 7509 ç”µä¿¡|æµ™æ±Ÿæ­å·ã€€112.69 Mbit/s 63.09 Mbit/s 210.463 ms 28225 ç”µä¿¡|æ¹–å—é•¿æ²™ã€€98.16 Mbit/s 135.78 Mbit/s 188.638 ms 3973 ç”µä¿¡|ç”˜è‚ƒå…°å·ã€€65.89 Mbit/s 30.87 Mbit/s 181.112 ms 19076 ç”µä¿¡|é‡åº†ã€€55.81 Mbit/s 111.58 Mbit/s 252.101 ms 24447 è”é€š|ä¸Šæµ·ï¼•ï¼§ã€€117.29 Mbit/s 107.46 Mbit/s 187.886 ms 5103 è”é€š|äº‘å—æ˜†æ˜ã€€18.49 Mbit/s 7.01 Mbit/s 341.216 ms 5145 è”é€š|åŒ—äº¬ã€€114.97 Mbit/s 278.81 Mbit/s 160.176 ms 9484 è”é€š|å‰æ—é•¿æ˜¥ã€€111.22 Mbit/s 273.19 Mbit/s 174.654 ms 2461 è”é€š|å››å·æˆéƒ½ã€€78.93 Mbit/s 190.73 Mbit/s 201.194 ms 27154 è”é€š|å¤©æ´¥ï¼•ï¼§ã€€129.92 Mbit/s 342.59 Mbit/s 155.246 ms â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” æµ‹è¯•å®Œæˆ, æœ¬æ¬¡æµ‹é€Ÿè€—æ—¶: 7 åˆ† 52 ç§’ å½“å‰æ—¶é—´: 2020-03-18 18:02:46 # ä¸‰ç½‘æµ‹é€Ÿä¸­ä¸ºé¿å…èŠ‚ç‚¹æ•°ä¸å‡åŠæµ‹è¯•è¿‡ä¹…ï¼Œæ¯éƒ¨åˆ†æœªä½¿ç”¨æ‰€æœ‰èŠ‚ç‚¹ï¼Œ # å¦‚æœéœ€è¦ä½¿ç”¨å…¨éƒ¨èŠ‚ç‚¹ï¼Œå¯åˆ†åˆ«é€‰æ‹©ä¸‰ç½‘èŠ‚ç‚¹æ£€æµ‹ã€‚ # Superspeed.sh wget https://raw.githubusercontent.com/oooldking/script/master/superspeed.sh chmod +x superspeed.sh ./superspeed.sh ## SuperBench.sh ## ä¸€é”®æ£€æµ‹VPSçš„CPUã€å†…å­˜ã€è´Ÿè½½ã€IOè¯»å†™ã€æœºæˆ¿å¸¦å®½ç­‰è„šæœ¬ wget -qO- https://raw.githubusercontent.com/oooldking/script/master/superbench.sh | bash #æˆ–è€… curl -Lso- https://raw.githubusercontent.com/oooldking/script/master/superbench.sh | bash ## Zench ## Zenchå¯ä»¥çœ‹ä½œæ˜¯Bench.sh å’Œ SuperBenchçš„ç»“åˆç‰ˆæœ¬ï¼ŒåŠ å…¥ Ping ä»¥åŠ è·¯ç”±æµ‹è¯• åŠŸèƒ½ï¼Œä¼šç”Ÿæˆæµ‹è¯„æŠ¥å‘Šï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°åˆ†äº«ç»™å…¶ä»–æœ‹å‹çœ‹è‡ªå·±çš„æµ‹è¯„æ•°æ® wget -N --no-check-certificate https://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench-CN.sh \u0026\u0026 bash ZBench-CN.sh # é¡¹ç›®ï¼šhttps://github.com/FunctionClub/ZBench -------------------------------------------------------------------------- CPU å‹å· : QEMU Virtual CPU version (cpu64-rhel6) CPU æ ¸å¿ƒæ•° : 2 CPU é¢‘ç‡ : 2699.998 MHz æ€»ç¡¬ç›˜å¤§å° : 20.4 GB (2.6 GB Used) æ€»å†…å­˜å¤§å° : 1007 MB (240 MB Used) SWAPå¤§å° : 259 MB (3 MB Used) å¼€æœºæ—¶é•¿ : 0 days, 3 hour 42 min ç³»ç»Ÿè´Ÿè½½ : 1.78, 0.57, 0.20 ç³»ç»Ÿ : CentOS 7.7.1908 æ¶æ„ : x86_64 (64 Bit) å†…æ ¸ : 4.10.4-1.el7.elrepo.x86_64 è™šæ‹ŸåŒ–å¹³å° : kvm -------------------------------------------------------------------------- ç¡¬ç›˜I/O (ç¬¬ä¸€æ¬¡æµ‹è¯•) : 389 MB/s ç¡¬ç›˜I/O (ç¬¬äºŒæ¬¡æµ‹è¯•) : 622 MB/s ç¡¬ç›˜I/O (ç¬¬ä¸‰æ¬¡æµ‹è¯•) : 568 MB/s -------------------------------------------------------------------------- èŠ‚ç‚¹åç§° IPåœ°å€ ä¸‹è½½é€Ÿåº¦ å»¶è¿Ÿ CacheFly 205.234.175.175 112MB/s 0.433 ms ping: speedtest.tokyo.linode.com: Name or service not known Usage: ping [-aAbBdDfhLnOqrRUvV64] [-c count] [-i interval] [-I interface] [-m mark] [-M pmtudisc_option] [-l preload] [-p pattern] [-Q tos] [-s packetsize] [-S sndbuf] [-t ttl] [-T timestamp_option] [-w deadline] [-W timeout] [hop1 ...] destination Usage: ping -6 [-aAbBdDfhLnOqrRUvV] [-c count] [-i interval] [-I interface] [-l preload] [-m mark] [-M pmtudisc_option] [-N nodeinfo_option] [-p pattern] [-Q tclass] [-s packetsize] [-S sndbuf] [-t ttl] [-T timestamp_option] [-w deadline] [-W timeout] destination Linode, Tokyo, JP ms Linode, Singapore, SG 139.162.23.4 12.1MB/s 180.628 ms Linode, London, UK 176.58.107.39 17.6MB/s 135.277 ms Linode, Frankfurt, DE 139.162.130.8 15.5MB/s 144.360 ms Linode, Fremont, CA 50.116.14.9 58.2MB/s 10.185 ms Softlayer, Dallas, TX 173.192.68.18 54.2MB/s 32.237 ms Softlayer, Seattle, WA 67.228.112.250 62.5MB/s 26.613 ms Softlayer, Frankfurt, D","date":"2022-09-13","objectID":"/2022-09-13-v2ray%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/:0:0","tags":["v2ray"],"title":"v2rayé…ç½®æ•™ç¨‹","uri":"/2022-09-13-v2ray%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/"},{"categories":["tools"],"content":"é‡æ–°å­¦ä¹  gitã€‚ å®‰è£… é…ç½®:configgit è¦æ±‚ç»™å‡ºå¼€å‘äººå‘˜çš„åŸºæœ¬ä¿¡æ¯ï¼š åå­— é‚®ä»¶ è¿™æ˜¯ä¸ºäº†æ›´å¥½çš„æœ€ç»ˆæ–‡ä»¶ä¿®æ”¹äººã€‚è¿™ä¸ªé…ç½®å¯ä»¥æ˜¯å…¨å±€ã€æˆ–è€…å•ç‹¬é’ˆå¯¹æŸä¸ªé¡¹ç›®ã€‚ ","date":"2022-09-13","objectID":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/:0:0","tags":["git"],"title":"é‡æ‹¾ git","uri":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/"},{"categories":["tools"],"content":" global git config --global user.name \"william\" git config --global user.email \"william.x.x@gmail.com\" ä½¿ç”¨","date":"2022-09-13","objectID":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/:1:0","tags":["git"],"title":"é‡æ‹¾ git","uri":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/"},{"categories":["tools"],"content":" æ–°å»ºç©ºé¡¹ç›®:init mkdri testing cd testing git init Initialized empty Git repository in /tmp/testing/.git/ ls -alh ","date":"2022-09-13","objectID":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/:2:0","tags":["git"],"title":"é‡æ‹¾ git","uri":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/"},{"categories":["tools"],"content":" æ·»åŠ æ–‡ä»¶:add git add readme.md git add install.sh ","date":"2022-09-13","objectID":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/:3:0","tags":["git"],"title":"é‡æ‹¾ git","uri":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/"},{"categories":["tools"],"content":" æäº¤ä¿®æ”¹:commit git commit -m \"init project and add readme\" [master (root-commit) f78741f] init project and add readme 2 files changed, 2 insertions(+) create mode 100644 install.sh create mode 100644 readme.md ","date":"2022-09-13","objectID":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/:4:0","tags":["git"],"title":"é‡æ‹¾ git","uri":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/"},{"categories":["tools"],"content":" æŸ¥çœ‹å½“å‰çŠ¶æ€:status echo \"hello, world\" \u003e\u003e readme.md echo \"this is new line\" \u003e\u003e readme.md git status On branch master Changes not staged for commit: (use \"git add \u003cfile\u003e...\" to update what will be committed) (use \"git checkout -- \u003cfile\u003e...\" to discard changes in working directory) modified: readme.md no changes added to commit (use \"git add\" and/or \"git commit -a\") ","date":"2022-09-13","objectID":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/:5:0","tags":["git"],"title":"é‡æ‹¾ git","uri":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/"},{"categories":["tools"],"content":" æŸ¥çœ‹ä¸åŒ:diff git diff readme.md diff --git a/readme.md b/readme.md index 63173a9..cea5572 100644 --- a/readme.md +++ b/readme.md @@ -1 +1,3 @@ # git testing +hello, world +this is new line ","date":"2022-09-13","objectID":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/:6:0","tags":["git"],"title":"é‡æ‹¾ git","uri":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/"},{"categories":["tools"],"content":" æŸ¥çœ‹æ—¥å¿—:loggit å¤„ç†çš„æ˜¯æ¯ä¸€æ¬¡ä¿®æ”¹çš„å¿«ç…§(snapshot)ï¼Œä¸ºæ¯ä¸€æ¬¡çš„ä¿®æ”¹ç”Ÿæˆä¸€æ¬¡ log æ¡ç›®ï¼Œç”¨äºæŸ¥çœ‹è¯¥æ¬¡ä¿®æ”¹çš„æ—¥å¿—è¯´æ˜ã€‚ git log commit 3a0003085047a83783a7fff67b3904ccd2154ff0 (HEAD -\u003e master) Author: â€œwilliamlfangâ€ \u003câ€œwilliam.lian.fang@gmail.comâ€\u003e Date: Sun Jul 24 09:05:39 2022 +0800 modify readme commit f78741f31fe3f5600a8c003aa456744668a09da2 Author: â€œwilliamlfangâ€ \u003câ€œwilliam.lian.fang@gmail.comâ€\u003e Date: Sun Jul 24 08:58:23 2022 +0800 init project and add readme ","date":"2022-09-13","objectID":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/:7:0","tags":["git"],"title":"é‡æ‹¾ git","uri":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/"},{"categories":["tools"],"content":" å›æ»š:resetHEAD è¡¨ç¤ºå½“å‰ç‰ˆæœ¬å·ï¼Œå¯ä»¥ä½¿ç”¨ HEAD^ è¿”å›ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œæˆ–è€… HEAD~n è¿”å›ä¹‹å‰nä¸ªç‰ˆæœ¬ ## ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥ç”¨ HEAD~nï¼Œå…¶ä¸­nè¡¨ç¤ºä¹‹å‰å¤šå°‘ä¸ªlog git reset --hard HEAD^ HEAD is now at f78741f init project and add readme git log commit f78741f31fe3f5600a8c003aa456744668a09da2 (HEAD -\u003e master) Author: â€œwilliamlfangâ€ \u003câ€œwilliam.lian.fang@gmail.comâ€\u003e Date: Sun Jul 24 08:58:23 2022 +0800 init project and add readme å½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æ¢å¤ä¹‹å‰çš„ç¬¬äºŒä¸ªä¿®æ”¹ï¼Œåœ¨ä¸Šé¢çš„ git log æˆ‘ä»¬çŸ¥é“è¿™ä¸ªç‰ˆæœ¬çš„ä¿®æ”¹ commit id commit 3a0003085047a83783a7fff67b3904ccd2154ff0 (HEAD -\u003e master) Author: â€œwilliamlfangâ€ \u003câ€œwilliam.lian.fang@gmail.comâ€\u003e Date: Sun Jul 24 09:05:39 2022 +0800 modify readme æ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯å¯ä»¥åœ¨ä¸åŒçš„ commit id æ¥å›è·³è½¬çš„ ## ä¸€èˆ¬å†™å‰é¢å‡ ä½å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦æ•´ä¸ª id #git reset --hard 3a0003085047a83783a7fff67b3904ccd2154ff0 git reset --hard 3a0003 commit 3a0003085047a83783a7fff67b3904ccd2154ff0 (HEAD -\u003e master) Author: â€œwilliamlfangâ€ \u003câ€œwilliam.lian.fang@gmail.comâ€\u003e Date: Sun Jul 24 09:05:39 2022 +0800 modify readme commit f78741f31fe3f5600a8c003aa456744668a09da2 Author: â€œwilliamlfangâ€ \u003câ€œwilliam.lian.fang@gmail.comâ€\u003e Date: Sun Jul 24 08:58:23 2022 +0800 init project and add readme æˆ‘ä»¬çœ‹åˆ°ï¼Œå½“å‰çš„ç‰ˆæœ¬åˆé‡æ–°å›åˆ°çš„æœ€è¿‘çš„ä¿®æ”¹äº†ã€‚Git çš„ç‰ˆæœ¬å›é€€é€Ÿåº¦éå¸¸å¿«ï¼Œå› ä¸º Git åœ¨å†…éƒ¨æœ‰ä¸ªæŒ‡å‘å½“å‰ç‰ˆæœ¬çš„HEADæŒ‡é’ˆï¼Œå½“ä½ å›é€€ç‰ˆæœ¬çš„æ—¶å€™ï¼ŒGit ä»…ä»…æ˜¯æŠŠ HEAD ä»æŒ‡å‘å¯¹åº”çš„ commit idã€‚ ","date":"2022-09-13","objectID":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/:8:0","tags":["git"],"title":"é‡æ‹¾ git","uri":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/"},{"categories":["tools"],"content":" é‡çœ‹log:reflogåƒä¸Šé¢é‚£æ ·ï¼Œå¦‚æœæˆ‘ä»¬ reset äº† HEADï¼Œç»“æœæŠŠå±å¹•æ¸…é™¤äº†ï¼Œå¯¼è‡´æˆ‘ä»¬è®°ä¸èµ·ä¹‹å‰çš„ commit idã€‚è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿå…¶å® git æä¾›äº†å¯¹æ¯æ¬¡ä¿®æ”¹çš„è®°å½•æŸ¥æ–°ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„çœ‹åˆ°æ¯æ¬¡æ“ä½œçš„å†å²è®°å½• git reflog 3a00030 (HEAD -\u003e master) HEAD@{0}: reset: moving to 3a0003 f78741f HEAD@{1}: reset: moving to HEAD^ 3a00030 (HEAD -\u003e master) HEAD@{2}: commit: modify readme f78741f HEAD@{3}: commit (initial): init project and add readme ä»ä¸Šé¢çš„è®°å½•æˆ‘ä»¬çœ‹åˆ°ï¼Œreset: moving to HEAD^ æ˜¯æˆ‘ä»¬æŠŠ HEAD å¾€å‰å›æ»šäº†ä¸€æ¬¡ï¼Œåˆ°äº† f78741f ï¼Œè¿™æ—¶å€™ 3a00030 å°±æ˜¯åé¢ä¸€æ¡æœ€æ–°çš„ç‰ˆæœ¬ï¼Œæ‰€ä»¥è¿˜æ˜¯å¯ä»¥å›æ»šåˆ°è¿™ä¸ªç‰ˆæœ¬çš„ git reset --hard 3a0003 ","date":"2022-09-13","objectID":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/:9:0","tags":["git"],"title":"é‡æ‹¾ git","uri":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/"},{"categories":["tools"],"content":" æ’¤é”€ä¿®æ”¹:checkoutæœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¯¹äºä¿®æ”¹çš„æ–‡ä»¶ï¼Œæƒ³è¦ä¸¢å¼ƒï¼Œæ¢å¤åˆ°åŸå…ˆçš„çŠ¶æ€ã€‚è¿™æ—¶å€™å¯ä»¥ä½¿ç”¨ checkout ","date":"2022-09-13","objectID":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/:10:0","tags":["git"],"title":"é‡æ‹¾ git","uri":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/"},{"categories":["tools"],"content":" åœ¨å·¥ä½œåŒºæœªæäº¤å¦‚æœæˆ‘ä»¬çš„ä¿®æ”¹åªæ˜¯åœ¨å·¥ä½œåŒºï¼Œåˆ™å¯ä»¥ç›´æ¥ä¸¢å¼ƒä¿®æ”¹å³å¯ git status . On branch master nothing to commit, working tree clean echo \"add extra line\" \u003e\u003e readme.md git status . On branch master Changes not staged for commit: (use \"git add \u003cfile\u003e...\" to update what will be committed) (use \"git checkout -- \u003cfile\u003e...\" to discard changes in working directory) modified: readme.md no changes added to commit (use \"git add\" and/or \"git commit -a\") ä»ä¸Šé¢æˆ‘ä»¬çœ‹å‡ºæ¥ï¼Œå½“å‰å·¥ä½œåŒºæœ‰ä¸€ä¸ª modified æ²¡æœ‰æäº¤åˆ°ç¼“å­˜åŒº Changes not staged for commitã€‚å¦‚æœæˆ‘ä»¬æƒ³æ”¾å¼ƒæœ¬æ¬¡ä¿®æ”¹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å‘½ä»¤ checkout git checkout readme.md git status On branch master nothing to commit, working tree clean å¯ä»¥çœ‹åˆ°ï¼Œæœ¬æ¬¡ä¿®æ”¹å·²ç»è¢«ä¸¢å¼ƒï¼Œå½“å‰åˆ†æ”¯æ˜¯å¹²å‡€çš„ã€‚ ","date":"2022-09-13","objectID":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/:10:1","tags":["git"],"title":"é‡æ‹¾ git","uri":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/"},{"categories":["tools"],"content":" å·²ç» add åˆ°ç¼“å­˜åŒºå¦‚æœä¿®æ”¹å·²ç»æäº¤åˆ°äº†ç¼“å­˜åŒºï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ reset HEAD filename å°†ç¼“å­˜åŒº(stage)é€€å›åˆ°ä¸å½“å‰åˆ†æ”¯ä¸€æ ·çš„çŠ¶æ€(HEAD)ï¼Œç„¶ååœ¨ç”¨ checkout ä¸¢å¼ƒä¿®æ”¹ echo \"add extra line\" \u003e\u003e readme.md git add readme.md git status . On branch master Changes to be committed: (use \"git reset HEAD \u003cfile\u003e...\" to unstage) modified: readme.md çœ‹åˆ°ä¸Šé¢çš„å·²ç»è¢« add åˆ°äº†ç¼“å­˜åŒºã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ reset HEAD \u003cfile\u003e å‘½ä»¤å°†å…¶ä»ç¼“å­˜åŒºæ”¾å¼ƒ ## å…ˆå°†å…¶ä»ç¼“å­˜åŒºæ”¾å¼ƒ git reset HEAD readme.md ## ç„¶ååœ¨ä»å·¥ä½œåŒºæ”¾å¼ƒ git checkout readme.md ## ç°åœ¨æŸ¥çœ‹çŠ¶æ€å·²ç»æ˜¯å¹²å‡€çš„äº† git status On branch master nothing to commit, working tree clean ","date":"2022-09-13","objectID":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/:10:2","tags":["git"],"title":"é‡æ‹¾ git","uri":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/"},{"categories":["tools"],"content":" å·²ç» commit åˆ°åˆ†æ”¯å¯¹äºå·²ç»æäº¤åˆ°åˆ†æ”¯çš„ä¿®æ”¹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ reset commit_id é€€å›åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼ˆè¿™ä¸ª commit_id æŒ‡çš„æ˜¯ä¸Šä¸€ä¸ªç‰ˆæœ¬å·ï¼‰ã€‚ echo \"add extra line3\" \u003e\u003e readme.md git add readme.md git commit -m \"add extra line3 into readme\" git log commit 18529d695e8e4ce797f7878135369a11ef658549 (HEAD -\u003e master) Author: â€œwilliamlfangâ€ \u003câ€œwilliam.lian.fang@gmail.comâ€\u003e Date: Sun Jul 24 11:07:35 2022 +0800 add extra line3 in readme commit 9205b630a3efd2b5c2ddd7ea732a53e5f0a3bd6e Author: â€œwilliamlfangâ€ \u003câ€œwilliam.lian.fang@gmail.comâ€\u003e Date: Sun Jul 24 10:54:59 2022 +0800 add extra line in readme commit 3a0003085047a83783a7fff67b3904ccd2154ff0 Author: â€œwilliamlfangâ€ \u003câ€œwilliam.lian.fang@gmail.comâ€\u003e Date: Sun Jul 24 09:05:39 2022 +0800 modify readme commit f78741f31fe3f5600a8c003aa456744668a09da2 Author: â€œwilliamlfangâ€ \u003câ€œwilliam.lian.fang@gmail.comâ€\u003e Date: Sun Jul 24 08:58:23 2022 +0800 init project and add readme æˆ‘ä»¬å‘ç°æœ¬æ¬¡ä¿®æ”¹å·²ç»åœ¨å½“å‰åˆ†æ”¯äº†ï¼Œlog å·²ç»èƒ½æŸ¥è¯¢æœ¬æ¬¡ä¿®æ”¹ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥é€€å›ä¸Šä¸€æ¬¡çš„ä¿®æ”¹ï¼Œcommit_id å¯¹åº”æ˜¯ 9205b630a3efd2b5c2ddd7ea732a53e5f0a3bd6e git reset --hard 9205b630a3efd2b5c2ddd7ea732a53e5f0a3bd6e git log commit 9205b630a3efd2b5c2ddd7ea732a53e5f0a3bd6e (HEAD -\u003e master) Author: â€œwilliamlfangâ€ \u003câ€œwilliam.lian.fang@gmail.comâ€\u003e Date: Sun Jul 24 10:54:59 2022 +0800 add extra line in readme commit 3a0003085047a83783a7fff67b3904ccd2154ff0 Author: â€œwilliamlfangâ€ \u003câ€œwilliam.lian.fang@gmail.comâ€\u003e Date: Sun Jul 24 09:05:39 2022 +0800 modify readme commit f78741f31fe3f5600a8c003aa456744668a09da2 Author: â€œwilliamlfangâ€ \u003câ€œwilliam.lian.fang@gmail.comâ€\u003e Date: Sun Jul 24 08:58:23 2022 +0800 init project and add readme ç°åœ¨å·²ç»æ²¡æœ‰ line3 çš„ä¿®æ”¹è®°å½•äº†ã€‚ å¦‚æœæ²¡æœ‰æ·»åŠ  â€“hard è¿™è¡¨ç¤ºæœ¬æ¬¡ä¿®æ”¹ä¾ç„¶ä¿ç•™åœ¨å·¥ä½œåŒº ","date":"2022-09-13","objectID":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/:10:3","tags":["git"],"title":"é‡æ‹¾ git","uri":"/2022-09-13-%E9%87%8D%E6%8B%BE-git/"},{"categories":[],"content":"åœ¨ C++ std::thread åˆ›å»ºçš„æ—¶å€™ï¼Œç»‘å®š cpu æ ¸ã€‚ //å…ˆç”³æ˜ä¸€ä¸ª thread std::thread _thr; #define FOR_EACH_ALGO(FUNC) \\ for (auto\u0026 e : _symbols) \\ { \\ auto single_eng = e.second.get(); \\ for (auto\u0026 exec : single_eng-\u003ealgos()) \\ { \\ auto algo = reinterpret_cast\u003cexec_algo_cv_alpha_t*\u003e(exec); \\ algo-\u003eFUNC(_ac); \\ } \\ } std::thread( [this]() { const auto\u0026 cfg = _shell-\u003econf(); if (cfg.has(\"auction_cpu\")) { int cpuid = std::stoi(cfg(\"auction_cpu\")); cpu_set_t cpuset; CPU_ZERO(\u0026cpuset); CPU_SET(cpuid, \u0026cpuset); int rtn = pthread_setaffinity_np(pthread_self(), sizeof(cpu_set_t), \u0026cpuset); if (rtn != 0) L_err(\"fail to call pthread_setaffinity_np, error rtn:\", rtn); else L_inf(\"succ to call pthread_setaffinity_np\"); DBG({ print_cpu_affinity(cpuid); }) } while (true) { _ac.ntime = to_ntime(microtime().now().count()); if (_ac.ntime \u003e _ac.end_ntime + 10) { FOR_EACH_ALGO(on_auction_deactivate) break; } if (_ac.ntime \u003e= _ac.insert_ntime \u0026\u0026 _ac.ntime \u003c= _ac.end_ntime \u0026\u0026 !_ac.is_triggered) { _ac.is_triggered = true; FOR_EACH_ALGO(on_auction_activate) } std::this_thread::sleep_for(std::chrono::microseconds(10)); } L_inf(\"end of engine thread, ntime:\", _ac.ntime); }).swap(_thr); // ä»ä¸»çº¿ç¨‹åˆ†ç¦» _thr.detach(); // åœ¨ææ„åœæ­¢ if (_thr.joinable()) _thr.join(); æœ‰ä¸€ä¸ªå°å·¥å…·å¯ä»¥æŸ¥çœ‹æ˜¯å¦ç»‘æ ¸æˆåŠŸ void print_cpu_affinity(int coreid) { cpu_set_t mask; long nproc; if (::sched_getaffinity(0, sizeof(cpu_set_t), \u0026mask) == -1) { L_inf(\"fail to sched_getaffinity:\", coreid); } nproc = sysconf(_SC_NPROCESSORS_ONLN); if (coreid \u003c 0) { for (int i = 0; i \u003c nproc; i++) L_inf(\"cpu afffinity core:\", i, \", is_set:\", CPU_ISSET(i, \u0026mask)); } else { L_inf(\"cpu afffinity core:\", coreid, \", is_set:\", CPU_ISSET(coreid, \u0026mask)); } } ","date":"2022-09-13","objectID":"/2022-09-13-c-thread-%E7%BA%BF%E7%A8%8B%E5%88%9B%E5%BB%BA%E6%97%B6%E7%BB%91%E6%A0%B8/:0:0","tags":["c++","thread","pthread"],"title":"c++ thread çº¿ç¨‹åˆ›å»ºæ—¶ç»‘æ ¸","uri":"/2022-09-13-c-thread-%E7%BA%BF%E7%A8%8B%E5%88%9B%E5%BB%BA%E6%97%B6%E7%BB%91%E6%A0%B8/"},{"categories":["tools"],"content":" mkdir -p ~/Downloads/docky cd ~/Downloads/docky wget -c http://archive.ubuntu.com/ubuntu/pool/universe/g/gnome-sharp2/libgconf2.0-cil_2.24.2-4_all.deb wget -c http://archive.ubuntu.com/ubuntu/pool/main/g/glibc/multiarch-support_2.27-3ubuntu1_amd64.deb wget -c http://archive.ubuntu.com/ubuntu/pool/universe/libg/libgnome-keyring/libgnome-keyring-common_3.12.0-1build1_all.deb wget -c http://archive.ubuntu.com/ubuntu/pool/universe/libg/libgnome-keyring/libgnome-keyring0_3.12.0-1build1_amd64.deb wget -c http://archive.ubuntu.com/ubuntu/pool/universe/g/gnome-keyring-sharp/libgnome-keyring1.0-cil_1.0.0-5_amd64.deb sudo apt-get install ./*.deb wget -c http://archive.ubuntu.com/ubuntu/pool/universe/d/docky/docky_2.2.1.1-1_all.deb sudo apt-get install ./docky_2.2.1.1-1_all.deb ","date":"2022-09-13","objectID":"/2022-09-13-ubuntu20-%E5%AE%89%E8%A3%85-docky/:0:0","tags":["ubuntu","docky"],"title":"ubuntu20 å®‰è£… docky","uri":"/2022-09-13-ubuntu20-%E5%AE%89%E8%A3%85-docky/"},{"categories":["tools"],"content":"Ubuntu å¯ä»¥ ping åˆ«äººï¼Œæ— æ³•ä»å¤–é¢ ping è‡ªå·±ã€‚éœ€è¦ä¿®æ”¹ç½‘ç»œè®¾ç½®ã€‚ cd /etc/netplan vim 1-network-manager-all.yaml # Let NetworkManager manage all devices on this system network: version: 2 renderer: NetworkManager ethernets: enp0s31f6: dhcp4: no addresses: [192.168.1.88/24] gateway4: 192.168.1.1 nameservers: addresses: [114.114.114.114] sudo netplan apply ","date":"2022-09-13","objectID":"/2022-09-13-ubuntu-%E5%8F%AF%E4%BB%A5-ping-%E5%88%AB%E4%BA%BA%E6%97%A0%E6%B3%95%E4%BB%8E%E5%A4%96%E9%9D%A2-ping-%E8%87%AA%E5%B7%B1/:0:0","tags":["ubuntu","ping","network","ç½‘ç»œ"],"title":"ubuntu å¯ä»¥ ping åˆ«äºº,æ— æ³•ä»å¤–é¢ ping è‡ªå·±","uri":"/2022-09-13-ubuntu-%E5%8F%AF%E4%BB%A5-ping-%E5%88%AB%E4%BA%BA%E6%97%A0%E6%B3%95%E4%BB%8E%E5%A4%96%E9%9D%A2-ping-%E8%87%AA%E5%B7%B1/"},{"categories":["tools"],"content":" â€”â€“ BEGIN LICENSE â€”â€“ Mifeng User Single User License EA7E-1184812 C0DAA9CD 6BE825B5 FF935692 1750523A EDF59D3F A3BD6C96 F8D33866 3F1CCCEA 1C25BE4D 25B1C4CC 5110C20E 5246CC42 D232C83B C99CCC42 0E32890C B6CBF018 B1D4C178 2F9DDB16 ABAA74E5 95304BEF 9D0CCFA9 8AF8F8E2 1E0A955E 4771A576 50737C65 325B6C32 817DCB83 A7394DFA 27B7E747 736A1198 B3865734 0B434AA5 â€”â€” END LICENSE â€”â€” ","date":"2022-09-13","objectID":"/2022-09-13-sublime4-%E6%B3%A8%E5%86%8C%E7%A0%81/:0:0","tags":["subl","sublime"],"title":"Sublime4 æ³¨å†Œç ","uri":"/2022-09-13-sublime4-%E6%B3%A8%E5%86%8C%E7%A0%81/"},{"categories":[],"content":"æŠŠ git æ”¹æˆ sshï¼Œè¿™æ ·å¯ä»¥ç›´æ¥ pushï¼Œè€Œä¸éœ€è¦è¾“å…¥è´¦æˆ·å’Œå¯†ç ã€‚ git remote set-url origin git@github.com:williamlfang/williamlfang.github.io.git ","date":"2022-09-13","objectID":"/2022-09-13-git-%E4%BF%AE%E6%94%B9-https-%E4%B8%BA-ssh/:0:0","tags":["git","ssh","https"],"title":"git ä¿®æ”¹ https ä¸º ssh","uri":"/2022-09-13-git-%E4%BF%AE%E6%94%B9-https-%E4%B8%BA-ssh/"},{"categories":["tools"],"content":"åœ¨ Ubuntu æœºå™¨è¿æ¥è¿œç¨‹ Windows è™šæ‹Ÿæœº ","date":"2022-09-12","objectID":"/2022-09-12-ubuntu-%E8%BF%9E%E6%8E%A5-windows-%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2/:0:0","tags":["Windows","xfreerdp","remote","desktop"],"title":"Ubuntu è¿æ¥ Windows è¿œç¨‹æ¡Œé¢","uri":"/2022-09-12-ubuntu-%E8%BF%9E%E6%8E%A5-windows-%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2/"},{"categories":["tools"],"content":" å®‰è£… FreeRDP sudo apt-get install -y freerdp2-x11 xfreerdp --help FreeRDP - A Free Remote Desktop Protocol Implementation See www.freerdp.com for more information Usage: xfreerdp [file] [options] [/v:\u003cserver\u003e[:port]] Syntax: /flag (enables flag) /option:\u003cvalue\u003e (specifies option with value) +toggle -toggle (enables or disables toggle, where '/' is a synonym of '+') /a:\u003caddin\u003e[,\u003coptions\u003e] Addin /action-script:\u003cfile-name\u003e Action script /admin Admin (or console) session +aero Enable desktop composition /app:\u003cpath\u003e or ||\u003calias\u003e Remote application program /app-cmd:\u003cparameters\u003e Remote application command-line parameters /app-file:\u003cfile-name\u003e File to open with remote application /app-guid:\u003capp-guid\u003e Remote application GUID /app-icon:\u003cicon-path\u003e Remote application icon for user interface /app-name:\u003capp-name\u003e Remote application name for user interface /app-workdir:\u003cworkspace path\u003e Remote application workspace path /assistance:\u003cpassword\u003e Remote assistance password /auto-request-control Automatically request remote assistance input control +async-channels Enable Asynchronous channels (experimental) +async-input Enable Asynchronous input +async-update Enable Asynchronous update /audio-mode:\u003cmode\u003e Audio output mode +auth-only Enable Authenticate only -authentication Disable Authentication (experimental) +auto-reconnect Enable Automatic reconnection /auto-reconnect-max-retries:\u003cretries\u003e Automatic reconnection maximum retries, 0 for unlimited [0,1000] +bitmap-cache Enable bitmap cache /bpp:\u003cdepth\u003e Session bpp (color depth) /buildconfig Print the build configuration /cert:[deny,ignore,name:\u003cname\u003e,tofu,fingerprint:\u003chash\u003e:\u003chash as hex\u003e [,fingerprint:\u003chash\u003e:\u003canother hash\u003e]] Certificate accept options. Use with care! * deny ... Automatically abort connection if the certificate does not match, no user interaction. * ignore ... Ignore the certificate checks altogether (overrules all other options) * name ... Use the alternate \u003cname\u003e instead of the certificate subject to match locally stored certificates * tofu ... Accept certificate unconditionally on first connect and deny on subsequent connections if the certificate does not match * fingerprints ... A list of certificate hashes that are accepted unconditionally for a connection /cert-deny [deprecated, use /cert:deny] Automatically abort connection for any certificate that can not be validated. /cert-ignore [deprecated, use /cert:ignore] Ignore certificate /cert-name:\u003cname\u003e [deprecated, use /cert:name:\u003cname\u003e] Certificate name /cert-tofu [deprecated, use /cert:tofu] Automatically accept certificate on first connect /client-build-number:\u003cnumber\u003e Client Build Number sent to server (influences smartcard behaviour, see [MS-RDPESC]) /client-hostname:\u003cname\u003e Client Hostname to send to server -clipboard Disable Redirect clipboard /codec-cache:[rfx|nsc|jpeg] Bitmap codec cache -compression Disable compression /compression-level:\u003clevel\u003e Compression level (0,1,2) +credentials-delegation Enable credentials delegation /d:\u003cdomain\u003e Domain -decorations Disable Window decorations /disp Display control /drive:\u003cname\u003e,\u003cpath\u003e Redirect directory \u003cpath\u003e as named share \u003cname\u003e. Hotplug support is enabled with /drive:hotplug,*. This argument provides the same function as \"Drives that I plug in later\" option in MSTSC. +drives Enable Redirect all mount points as shares /dvc:\u003cchannel\u003e[,\u003coptions\u003e] Dynamic virtual channel /dynamic-resolution Send resolution updates when the window is resized /echo Echo channel -encryption Disable Encryption (experimental) /encryption-methods:[40,][56,][128,][FIPS] RDP standard security encryption methods /f Fullscreen mode (\u003cCtrl\u003e+\u003cAlt\u003e+\u003cEnter\u003e toggles fullscreen) -fast-path Disable fast-path input/output +fipsmode Enable FIPS mode /floatbar[:sticky:[on|off],default:[visible|hidden],show: [always|fullscreen||window]] floatbar is disabled by default (when enabled defaults to sticky in fullscreen mode) -fonts Disable smooth fonts (ClearType) /frame-ack:\u003cnumber\u003e Number of frame acknowledgement /from","date":"2022-09-12","objectID":"/2022-09-12-ubuntu-%E8%BF%9E%E6%8E%A5-windows-%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2/:1:0","tags":["Windows","xfreerdp","remote","desktop"],"title":"Ubuntu è¿æ¥ Windows è¿œç¨‹æ¡Œé¢","uri":"/2022-09-12-ubuntu-%E8%BF%9E%E6%8E%A5-windows-%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2/"},{"categories":["tools"],"content":" ä½¿ç”¨ xfreerdp /w:1920 /h:1080 /u:\"Administrator\" /p:xxxxxxxxx /v:10.32.233.100:3389 ","date":"2022-09-12","objectID":"/2022-09-12-ubuntu-%E8%BF%9E%E6%8E%A5-windows-%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2/:2:0","tags":["Windows","xfreerdp","remote","desktop"],"title":"Ubuntu è¿æ¥ Windows è¿œç¨‹æ¡Œé¢","uri":"/2022-09-12-ubuntu-%E8%BF%9E%E6%8E%A5-windows-%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2/"},{"categories":["tools"],"content":"å¯¹äºé git çš„ ops ç”¨æˆ·ï¼Œå¦‚æœéœ€è¦ clone ä¸€ä¸ªé¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ·»åŠ  Deploy Keys æ¥å¼€æ”¾æƒé™ã€‚ ","date":"2022-09-10","objectID":"/2022-09-10-git-%E6%B7%BB%E5%8A%A0%E9%9D%9E%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90/:0:0","tags":["git","ops","è¿ç»´"],"title":"git æ·»åŠ éç”¨æˆ·æƒé™","uri":"/2022-09-10-git-%E6%B7%BB%E5%8A%A0%E9%9D%9E%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90/"},{"categories":["tools"],"content":"è®°å½•ä¸€ä¸‹é‚£äº›å¹´é‡Œï¼Œæˆ‘è¿½éšçš„åšå®¢ä»¬ã€‚ ","date":"2022-05-13","objectID":"/2022-05-13-%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E8%BF%BD%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BB%AC/:0:0","tags":["blog","åšå®¢","æŠ€æœ¯","æˆé•¿","linux","c++","python"],"title":"é‚£äº›å¹´æˆ‘è¿½çš„åšå®¢ä»¬","uri":"/2022-05-13-%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E8%BF%BD%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BB%AC/"},{"categories":["tools"],"content":" CS and Programming","date":"2022-05-13","objectID":"/2022-05-13-%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E8%BF%BD%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BB%AC/:1:0","tags":["blog","åšå®¢","æŠ€æœ¯","æˆé•¿","linux","c++","python"],"title":"é‚£äº›å¹´æˆ‘è¿½çš„åšå®¢ä»¬","uri":"/2022-05-13-%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E8%BF%BD%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BB%AC/"},{"categories":["tools"],"content":" Linux","date":"2022-05-13","objectID":"/2022-05-13-%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E8%BF%BD%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BB%AC/:2:0","tags":["blog","åšå®¢","æŠ€æœ¯","æˆé•¿","linux","c++","python"],"title":"é‚£äº›å¹´æˆ‘è¿½çš„åšå®¢ä»¬","uri":"/2022-05-13-%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E8%BF%BD%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BB%AC/"},{"categories":["tools"],"content":" C++","date":"2022-05-13","objectID":"/2022-05-13-%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E8%BF%BD%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BB%AC/:3:0","tags":["blog","åšå®¢","æŠ€æœ¯","æˆé•¿","linux","c++","python"],"title":"é‚£äº›å¹´æˆ‘è¿½çš„åšå®¢ä»¬","uri":"/2022-05-13-%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E8%BF%BD%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BB%AC/"},{"categories":["tools"],"content":" Python","date":"2022-05-13","objectID":"/2022-05-13-%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E8%BF%BD%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BB%AC/:4:0","tags":["blog","åšå®¢","æŠ€æœ¯","æˆé•¿","linux","c++","python"],"title":"é‚£äº›å¹´æˆ‘è¿½çš„åšå®¢ä»¬","uri":"/2022-05-13-%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E8%BF%BD%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BB%AC/"},{"categories":["tools"],"content":" R","date":"2022-05-13","objectID":"/2022-05-13-%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E8%BF%BD%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BB%AC/:5:0","tags":["blog","åšå®¢","æŠ€æœ¯","æˆé•¿","linux","c++","python"],"title":"é‚£äº›å¹´æˆ‘è¿½çš„åšå®¢ä»¬","uri":"/2022-05-13-%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E8%BF%BD%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BB%AC/"},{"categories":["tools"],"content":" Stat","date":"2022-05-13","objectID":"/2022-05-13-%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E8%BF%BD%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BB%AC/:6:0","tags":["blog","åšå®¢","æŠ€æœ¯","æˆé•¿","linux","c++","python"],"title":"é‚£äº›å¹´æˆ‘è¿½çš„åšå®¢ä»¬","uri":"/2022-05-13-%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E8%BF%BD%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BB%AC/"},{"categories":["tools"],"content":" Financial","date":"2022-05-13","objectID":"/2022-05-13-%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E8%BF%BD%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BB%AC/:7:0","tags":["blog","åšå®¢","æŠ€æœ¯","æˆé•¿","linux","c++","python"],"title":"é‚£äº›å¹´æˆ‘è¿½çš„åšå®¢ä»¬","uri":"/2022-05-13-%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E8%BF%BD%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BB%AC/"},{"categories":["tools"],"content":" å…¶ä»–","date":"2022-05-13","objectID":"/2022-05-13-%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E8%BF%BD%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BB%AC/:8:0","tags":["blog","åšå®¢","æŠ€æœ¯","æˆé•¿","linux","c++","python"],"title":"é‚£äº›å¹´æˆ‘è¿½çš„åšå®¢ä»¬","uri":"/2022-05-13-%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E8%BF%BD%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%BB%AC/"},{"categories":["tools"],"content":"ä¸Šäº¤æ‰€æä¾›äº†è¯åˆ¸ã€å¯è½¬å€ºã€ETF ç­‰å¤šä¸ªäº¤æ˜“å“ç§ã€‚ ","date":"2022-05-13","objectID":"/2022-05-13-%E4%B8%8A%E4%BA%A4%E6%89%80sse%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%E6%B1%87%E6%80%BB/:0:0","tags":["ä¸Šäº¤æ‰€","sse","äº¤æ˜“","äº¤æ˜“æ‰€","è¡Œæƒ…","ç½‘å…³"],"title":"ä¸Šäº¤æ‰€sseç›¸å…³æŠ€æœ¯æ±‡æ€»","uri":"/2022-05-13-%E4%B8%8A%E4%BA%A4%E6%89%80sse%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%E6%B1%87%E6%80%BB/"},{"categories":["tools"],"content":" ä¸Šäº¤æ‰€æŠ€æœ¯å…¬å¸ä¸Šäº¤æ‰€æŠ€æœ¯å…¬å¸ï¼ˆä¸Šè¯æ‰€ä¿¡æ¯ç½‘ç»œæœ‰é™å…¬å¸ï¼‰æ˜¯ä¸Šäº¤æ‰€æ——ä¸‹çš„æŠ€æœ¯å¼€å‘å…¬å¸ï¼Œè´Ÿè´£ä¸Šäº¤æ‰€æŠ€æœ¯å¼€å‘ã€æä¾›å¼€å‘æ–‡æ¡£ç­‰ã€‚ ","date":"2022-05-13","objectID":"/2022-05-13-%E4%B8%8A%E4%BA%A4%E6%89%80sse%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%E6%B1%87%E6%80%BB/:1:0","tags":["ä¸Šäº¤æ‰€","sse","äº¤æ˜“","äº¤æ˜“æ‰€","è¡Œæƒ…","ç½‘å…³"],"title":"ä¸Šäº¤æ‰€sseç›¸å…³æŠ€æœ¯æ±‡æ€»","uri":"/2022-05-13-%E4%B8%8A%E4%BA%A4%E6%89%80sse%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%E6%B1%87%E6%80%BB/"},{"categories":["tools"],"content":" æŠ€æœ¯æ–‡æ¡£å¯ä»¥é€šè¿‡[äº§å“æœåŠ¡] -\u003e [ä¸šåŠ¡æ–‡æ¡£]æ‰¾åˆ°é¡µé¢ï¼ŒæŸ¥æ‰¾ç›¸å…³çš„æ¥å£è¯´æ˜ä¹¦ã€‚ å¯è½¬å€ºæŠ€æœ¯å‚è€ƒï¼š[ä¸Šæµ·è¯åˆ¸äº¤æ˜“æ‰€ LDDS ç³»ç»Ÿå€ºåˆ¸ Level-2 è¡Œæƒ…æ¥å£è¯´æ˜ä¹¦](ä¸Šæµ·è¯åˆ¸äº¤æ˜“æ‰€ LDDS ç³»ç»Ÿå€ºåˆ¸ Level-2 è¡Œæƒ…æ¥å£è¯´æ˜ä¹¦) ä¸Šæµ·å¯è½¬å€ºæ¨é€çš„é€ç¬”å§”æ‰˜è‡ª2021å¹´12æœˆ1æ—¥æ—¥å˜æ›´ä¸ºåŸå§‹è®¢å•æ•°æ®ï¼Œè€Œä¸æ˜¯ä¹‹å‰çš„æ’®åˆå®Œæˆåå‰©ä½™çš„è®¢å•æ•°æ®ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªå¸‚ä»·å•ï¼ŒæŒ‰ç…§åŸæ¥çš„æ–¹å¼ï¼Œæ˜¯ç›´æ¥å®Œæˆäº†æ’®åˆï¼Œä¸å†æ¨é€è¯¥é€ç¬”å§”æ‰˜ï¼›è€Œåœ¨æ–°è½¬å€ºè¡Œæƒ…ç³»ç»Ÿï¼Œåˆ™ä¼šå…ˆæ¨é€é€ç¬”å§”æ‰˜ï¼Œç„¶åå†æ¨é€é€ç¬”æˆäº¤ã€‚ ","date":"2022-05-13","objectID":"/2022-05-13-%E4%B8%8A%E4%BA%A4%E6%89%80sse%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%E6%B1%87%E6%80%BB/:1:1","tags":["ä¸Šäº¤æ‰€","sse","äº¤æ˜“","äº¤æ˜“æ‰€","è¡Œæƒ…","ç½‘å…³"],"title":"ä¸Šäº¤æ‰€sseç›¸å…³æŠ€æœ¯æ±‡æ€»","uri":"/2022-05-13-%E4%B8%8A%E4%BA%A4%E6%89%80sse%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%E6%B1%87%E6%80%BB/"},{"categories":["tools"],"content":" ä¸Šäº¤æ‰€äº¤æ˜“è§„åˆ™","date":"2022-05-13","objectID":"/2022-05-13-%E4%B8%8A%E4%BA%A4%E6%89%80sse%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%E6%B1%87%E6%80%BB/:2:0","tags":["ä¸Šäº¤æ‰€","sse","äº¤æ˜“","äº¤æ˜“æ‰€","è¡Œæƒ…","ç½‘å…³"],"title":"ä¸Šäº¤æ‰€sseç›¸å…³æŠ€æœ¯æ±‡æ€»","uri":"/2022-05-13-%E4%B8%8A%E4%BA%A4%E6%89%80sse%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%E6%B1%87%E6%80%BB/"},{"categories":["tools"],"content":" å¸‚ä»·å•å‚è€ƒï¼šæ²ªæ·±äº¤æ˜“æ‰€å¸‚ä»·å•ã€‚ ä¸Šäº¤æ‰€å¸‚ä»·å•åŒ…æ‹¬ æœ€ä¼˜äº”æ¡£å‰©ä½™æ’¤é”€ æœ€ä¼˜äº”æ¡£å‰©ä½™è½¬é™ä»·(ä»¥æœ€åæˆäº¤ä»·ä¸ºæŠ¥å•ä»·æ ¼) ","date":"2022-05-13","objectID":"/2022-05-13-%E4%B8%8A%E4%BA%A4%E6%89%80sse%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%E6%B1%87%E6%80%BB/:2:1","tags":["ä¸Šäº¤æ‰€","sse","äº¤æ˜“","äº¤æ˜“æ‰€","è¡Œæƒ…","ç½‘å…³"],"title":"ä¸Šäº¤æ‰€sseç›¸å…³æŠ€æœ¯æ±‡æ€»","uri":"/2022-05-13-%E4%B8%8A%E4%BA%A4%E6%89%80sse%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%E6%B1%87%E6%80%BB/"},{"categories":["books"],"content":"æ¨èä¸€äº›æˆ‘å¸¸ç”¨çš„ç”µå­ä¹¦ç½‘å€ã€‚ ","date":"2022-04-30","objectID":"/2022-04-30-%E6%8E%A8%E8%8D%90%E7%94%B5%E5%AD%90%E4%B9%A6%E7%BD%91%E7%AB%99/:0:0","tags":["ç”µå­ä¹¦"],"title":"æ¨èç”µå­ä¹¦ç½‘ç«™","uri":"/2022-04-30-%E6%8E%A8%E8%8D%90%E7%94%B5%E5%AD%90%E4%B9%A6%E7%BD%91%E7%AB%99/"},{"categories":["books"],"content":" https://book-searcher.eu.org/","date":"2022-04-30","objectID":"/2022-04-30-%E6%8E%A8%E8%8D%90%E7%94%B5%E5%AD%90%E4%B9%A6%E7%BD%91%E7%AB%99/:1:0","tags":["ç”µå­ä¹¦"],"title":"æ¨èç”µå­ä¹¦ç½‘ç«™","uri":"/2022-04-30-%E6%8E%A8%E8%8D%90%E7%94%B5%E5%AD%90%E4%B9%A6%E7%BD%91%E7%AB%99/"},{"categories":["books"],"content":" ä¹çŸ¥å ‚è—ä¹¦æˆ‘æ˜¯åœ¨ä¸€æ¬¡æœç´¢ä¸€æœ¬ç”µå­ä¹¦çš„æ—¶å€™ï¼Œå‘ç°äº†ä¹çŸ¥å ‚è—ä¹¦ã€‚è¿™ä¸ªç½‘ç«™æä¾›äº†ç›¸å¯¹è¾ƒæ–°çš„ä¹¦å•ï¼Œè€Œä¸”æ”¯æŒ azw3 æ ¼å¼ã€‚ ","date":"2022-04-30","objectID":"/2022-04-30-%E6%8E%A8%E8%8D%90%E7%94%B5%E5%AD%90%E4%B9%A6%E7%BD%91%E7%AB%99/:2:0","tags":["ç”µå­ä¹¦"],"title":"æ¨èç”µå­ä¹¦ç½‘ç«™","uri":"/2022-04-30-%E6%8E%A8%E8%8D%90%E7%94%B5%E5%AD%90%E4%B9%A6%E7%BD%91%E7%AB%99/"},{"categories":["books"],"content":" æ©äº¬çš„ä¹¦æˆ¿","date":"2022-04-30","objectID":"/2022-04-30-%E6%8E%A8%E8%8D%90%E7%94%B5%E5%AD%90%E4%B9%A6%E7%BD%91%E7%AB%99/:3:0","tags":["ç”µå­ä¹¦"],"title":"æ¨èç”µå­ä¹¦ç½‘ç«™","uri":"/2022-04-30-%E6%8E%A8%E8%8D%90%E7%94%B5%E5%AD%90%E4%B9%A6%E7%BD%91%E7%AB%99/"},{"categories":["books"],"content":" kindle8å¯ä»¥é€šè¿‡baiduç½‘ç›˜ä¸‹è½½ ","date":"2022-04-30","objectID":"/2022-04-30-%E6%8E%A8%E8%8D%90%E7%94%B5%E5%AD%90%E4%B9%A6%E7%BD%91%E7%AB%99/:4:0","tags":["ç”µå­ä¹¦"],"title":"æ¨èç”µå­ä¹¦ç½‘ç«™","uri":"/2022-04-30-%E6%8E%A8%E8%8D%90%E7%94%B5%E5%AD%90%E4%B9%A6%E7%BD%91%E7%AB%99/"},{"categories":["books"],"content":" ä¹¦èˆŸæœç´¢","date":"2022-04-30","objectID":"/2022-04-30-%E6%8E%A8%E8%8D%90%E7%94%B5%E5%AD%90%E4%B9%A6%E7%BD%91%E7%AB%99/:5:0","tags":["ç”µå­ä¹¦"],"title":"æ¨èç”µå­ä¹¦ç½‘ç«™","uri":"/2022-04-30-%E6%8E%A8%E8%8D%90%E7%94%B5%E5%AD%90%E4%B9%A6%E7%BD%91%E7%AB%99/"},{"categories":["books"],"content":" ä¹¦ç±çŸ¥è¯†åº“","date":"2022-04-30","objectID":"/2022-04-30-%E6%8E%A8%E8%8D%90%E7%94%B5%E5%AD%90%E4%B9%A6%E7%BD%91%E7%AB%99/:6:0","tags":["ç”µå­ä¹¦"],"title":"æ¨èç”µå­ä¹¦ç½‘ç«™","uri":"/2022-04-30-%E6%8E%A8%E8%8D%90%E7%94%B5%E5%AD%90%E4%B9%A6%E7%BD%91%E7%AB%99/"},{"categories":["books"],"content":" è®¡ç®—æœºä¸­æ–‡ä¹¦ç±","date":"2022-04-30","objectID":"/2022-04-30-%E6%8E%A8%E8%8D%90%E7%94%B5%E5%AD%90%E4%B9%A6%E7%BD%91%E7%AB%99/:7:0","tags":["ç”µå­ä¹¦"],"title":"æ¨èç”µå­ä¹¦ç½‘ç«™","uri":"/2022-04-30-%E6%8E%A8%E8%8D%90%E7%94%B5%E5%AD%90%E4%B9%A6%E7%BD%91%E7%AB%99/"},{"categories":["books"],"content":" èµ„æºå¸","date":"2022-04-30","objectID":"/2022-04-30-%E6%8E%A8%E8%8D%90%E7%94%B5%E5%AD%90%E4%B9%A6%E7%BD%91%E7%AB%99/:8:0","tags":["ç”µå­ä¹¦"],"title":"æ¨èç”µå­ä¹¦ç½‘ç«™","uri":"/2022-04-30-%E6%8E%A8%E8%8D%90%E7%94%B5%E5%AD%90%E4%B9%A6%E7%BD%91%E7%AB%99/"},{"categories":["Tools"],"content":"Terminator æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„ Linux ç»ˆç«¯æ¨¡æ‹Ÿå™¨ã€‚ ","date":"2022-04-24","objectID":"/2022-04-24-terminator-%E9%85%8D%E7%BD%AE%E6%96%B9%E6%A1%88/:0:0","tags":["linux","terminator","onedark"],"title":"Terminator é…ç½®æ–¹æ¡ˆ","uri":"/2022-04-24-terminator-%E9%85%8D%E7%BD%AE%E6%96%B9%E6%A1%88/"},{"categories":["Tools"],"content":" é…ç½® OneDark æ–¹æ¡ˆ vim ~/.config/terminator [global_config] focus = system window_state = maximise title_hide_sizetext = True title_transmit_bg_color = \"#d30102\" enabled_plugins = TerminatorThemes, TerminalShot, LaunchpadCodeURLHandler suppress_multiple_term_dialog = True title_use_system_font = False title_font = FiraCode Nerd Font 8 [keybindings] copy = \u003cPrimary\u003ec paste = \u003cAlt\u003ev [profiles] [[default]] background_image = None background_color = \"#282c34\" background_type = transparent background_darkness = 0.85 cursor_color = \"#bbbbbb\" foreground_color = \"#abb2bf\" scrollbar_position = hidden palette = \"#000000:#eb6e67:#95ee8f:#f8c456:#6eaafb:#d886f3:#6cdcf7:#b2b2b2:#50536b:#eb6e67:#95ee8f:#f8c456:#6eaafb:#d886f3:#6cdcf7:#dfdfdf\" use_system_font = False font = FiraCode Nerd Font Mono 12 icon_bell = False show_titlebar = False copy_on_selection = True [[One dark]] background_image = None background_color = \"#282c34\" background_type = transparent background_darkness = 0.85 cursor_color = \"#bbbbbb\" foreground_color = \"#abb2bf\" scrollbar_position = hidden palette = \"#000000:#eb6e67:#95ee8f:#f8c456:#6eaafb:#d886f3:#6cdcf7:#b2b2b2:#50536b:#eb6e67:#95ee8f:#f8c456:#6eaafb:#d886f3:#6cdcf7:#dfdfdf\" use_system_font = False font = FiraCode Nerd Font Mono 12 icon_bell = False show_titlebar = False copy_on_selection = True [layouts] [[default]] [[[child1]]] parent = window0 profile = One dark type = Terminal [[[window0]]] parent = \"\" type = Window [plugins] ","date":"2022-04-24","objectID":"/2022-04-24-terminator-%E9%85%8D%E7%BD%AE%E6%96%B9%E6%A1%88/:1:0","tags":["linux","terminator","onedark"],"title":"Terminator é…ç½®æ–¹æ¡ˆ","uri":"/2022-04-24-terminator-%E9%85%8D%E7%BD%AE%E6%96%B9%E6%A1%88/"},{"categories":["tool"],"content":"ä½œä¸º IT å¼€å‘äººå‘˜ï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦äº†è§£æ–°çš„æŠ€æœ¯ï¼Œå­¦ä¹ æ–°çš„æŠ€èƒ½ã€‚ä»ä¸ªäººçš„ç»éªŒçœ‹ï¼Œæˆ‘åå‘äºé€šè¿‡ Google å’Œ YouTube è·å–æ–°ä¿¡æ¯ï¼Œä¸€æ–¹é¢æ˜¯åŸç”Ÿçš„è‹±æ–‡æ–‡æ¡£æ›´æ–°ç›¸å¯¹æ¯”è¾ƒåŠæ—¶ï¼Œå¦å¤–è¿™äº›æ¸ é“çš„åˆ†äº«èµ„æºç›¸å¯¹æ¯”è¾ƒä¼˜è´¨ã€‚ YouTube ä¸Šé¢æœ‰å¤§é‡çš„æŠ€æœ¯åˆ†äº«è§†é¢‘ã€å„ç§ä¸“ä¸šçš„ä¼šè®®è§†é¢‘ï¼ˆå¦‚CppConï¼‰ï¼Œåœ¨æœ¬ç¯‡åšæ–‡ï¼Œæˆ‘ç®€å•ä»‹ç»å‡ ç§è·å– YouTube è§†é¢‘çš„æ–¹æ³•ã€‚ ","date":"2022-04-17","objectID":"/2022-04-17-%E4%B8%8B%E8%BD%BD-youtube-%E8%A7%86%E9%A2%91%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95/:0:0","tags":["linux","chrome","youtube","youtube-dl","yt-dlp"],"title":"ä¸‹è½½ YouTube è§†é¢‘çš„å‡ ç§æ–¹æ³•","uri":"/2022-04-17-%E4%B8%8B%E8%BD%BD-youtube-%E8%A7%86%E9%A2%91%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95/"},{"categories":["tool"],"content":" AddonCropRef:https://addoncrop.com/v2/youtube-downloader/ ","date":"2022-04-17","objectID":"/2022-04-17-%E4%B8%8B%E8%BD%BD-youtube-%E8%A7%86%E9%A2%91%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95/:1:0","tags":["linux","chrome","youtube","youtube-dl","yt-dlp"],"title":"ä¸‹è½½ YouTube è§†é¢‘çš„å‡ ç§æ–¹æ³•","uri":"/2022-04-17-%E4%B8%8B%E8%BD%BD-youtube-%E8%A7%86%E9%A2%91%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95/"},{"categories":["tool"],"content":" Chrome ä¸‹è½½æ’ä»¶ä¹‹å‰æœ‰ä¸€ä¸ªéå¸¸ä¼˜ç§€çš„ YouTube è§†é¢‘ä¸‹è½½ç½‘ç«™ï¼Œsavefromï¼Œéå¸¸é—æ†¾çš„è¢«è¿«å…³é—­äº†ã€‚ä½†æ˜¯è¿™ä¸ªç½‘ç«™æä¾›äº†ä¸€ç§ä¸‹è½½ YouTube è§†é¢‘çš„æ€è·¯ï¼šå¯ä»¥é€šè¿‡æ’ä»¶çš„å½¢å¼ï¼ŒæŠŠéœ€è¦ä¸‹è½½çš„è§†é¢‘ä½œä¸ºç¼“å­˜ï¼Œè¿›è¡Œæ‹¼æ¥ä¿å­˜ä¸‹æ¥ã€‚ ä¸‹è½½Youtubeè§†é¢‘çš„å‡ ç§å¸¸ç”¨æ–¹æ³•å’Œè½¯ä»¶ æœ‰æ¯”è¾ƒè¯¦ç»†çš„ä»‹ç»ï¼š é¦–å…ˆç»™ä½ çš„Chromeå®‰è£…ä¸ŠTampermonkey ç„¶ååœ¨Greasyforkå®‰è£…æœ¬åœ°Youtubeä¸‹è½½å™¨æ¿€æ´»å³å¯ã€‚ ","date":"2022-04-17","objectID":"/2022-04-17-%E4%B8%8B%E8%BD%BD-youtube-%E8%A7%86%E9%A2%91%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95/:2:0","tags":["linux","chrome","youtube","youtube-dl","yt-dlp"],"title":"ä¸‹è½½ YouTube è§†é¢‘çš„å‡ ç§æ–¹æ³•","uri":"/2022-04-17-%E4%B8%8B%E8%BD%BD-youtube-%E8%A7%86%E9%A2%91%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95/"},{"categories":["tool"],"content":" yt-dlp å‘½ä»¤è¡Œyoutube-dl æ˜¯ä¸€ä¸ªååˆ†ä¼˜ç§€çš„å‘½ä»¤è¡Œä¸‹è½½è§†é¢‘çš„å·¥å…·ï¼Œè€Œè¿™æ¬¾ yt-dlp åˆ™æ˜¯åŸºäºå…¶è€Œå¢å¼ºåŠŸèƒ½çš„å‡çº§ç‰ˆï¼Œä½¿ç”¨èµ·æ¥ä¹Ÿå¾ˆç®€å•ã€‚ æˆ‘å†™äº†ä¸€ä¸ªç®€å•çš„ bash è„šæœ¬ï¼Œå¯ä»¥å¾ªç¯ä¸‹è½½æ•´ä¸ªè§†é¢‘åˆ—è¡¨ã€‚ #!/bin/bash url=\"https://www.youtube.com/watch?v=SbQVY-JOrgg\u0026list=PLHTh1InhhwT6VxYHtoWIvOup9gz0p95Qr\u0026index=8\u0026t=26s\" while true do yt-dlp --playlist-start 1 --yes-playlist --write-sub --sub-format \"ass/srt/best\" --convert-subs \"srt\" $url status=$? if [[ $status = 0 ]]; then exit fi done ","date":"2022-04-17","objectID":"/2022-04-17-%E4%B8%8B%E8%BD%BD-youtube-%E8%A7%86%E9%A2%91%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95/:3:0","tags":["linux","chrome","youtube","youtube-dl","yt-dlp"],"title":"ä¸‹è½½ YouTube è§†é¢‘çš„å‡ ç§æ–¹æ³•","uri":"/2022-04-17-%E4%B8%8B%E8%BD%BD-youtube-%E8%A7%86%E9%A2%91%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95/"},{"categories":["programming"],"content":"åŸºäº Linux å®ˆæŠ¤è¿›ç¨‹æœåŠ¡ systemd å®ç°äº†ç«¯å£è½¬å‘åŠŸèƒ½ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå°å‘ï¼Œä¸ºäº†ä¿è¯ç³»ç»Ÿç›‘æ§åˆ° sshï¼Œéœ€è¦ç¨‹åºé©»ç•™åœ¨ä¸»è¿›ç¨‹ï¼Œä¹Ÿå°±æ˜¯ä¸èƒ½æ·»åŠ  -f è¿™ä¸ªå‚æ•°é€‰é¡¹ã€‚ ","date":"2022-04-16","objectID":"/2022-04-16-systemd-%E5%AE%9E%E7%8E%B0%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/:0:0","tags":["linux","systemd","ssh","ç«¯å£è½¬å‘","port-forward"],"title":"systemd å®ç°ç«¯å£è½¬å‘","uri":"/2022-04-16-systemd-%E5%AE%9E%E7%8E%B0%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/"},{"categories":["programming"],"content":" é…ç½® service ## CentOS cd /usr/lib/systemd/system ## Ubuntu cd /etc/systemd/system ## åˆ›å»ºæœåŠ¡ vim port_forwarding.service [Unit] Description=PordForwaring-Daemon After=syslog.target network.target Wants=network.target [Service] Type=simple ## ä½¿ç”¨ç”¨æˆ·æ‰§è¡Œå‘½ä»¤ User=william Restart=on-failure RestartSec=5s ## æ³¨æ„ä¸èƒ½æ·»åŠ  -f çš„é€‰é¡¹ #ExecStartPre= ExecStart=/usr/bin/ssh -NC -o \"PubkeyAuthentication=yes\" -o \"StrictHostKeyChecking=false\" -o \"ServerAliveInterval 60\" -o \"ServerAliveCountMax 100\" -o \"ExitOnForwardFailure=True\" -R *:10088:localhost:22 lfang@192.168.1.178 #ExecStartPost= [Install] WantedBy=multi-user.target ","date":"2022-04-16","objectID":"/2022-04-16-systemd-%E5%AE%9E%E7%8E%B0%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/:1:0","tags":["linux","systemd","ssh","ç«¯å£è½¬å‘","port-forward"],"title":"systemd å®ç°ç«¯å£è½¬å‘","uri":"/2022-04-16-systemd-%E5%AE%9E%E7%8E%B0%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/"},{"categories":["programming"],"content":" å¯åŠ¨æœåŠ¡ systemctl daemon-reload systemctl enable port_forwarding.service systemctl start port_forwarding.service systemctl status port_forwarding.service ## æŸ¥çœ‹è¿è¡Œæ—¥å¿— journalctl -u port_forwarding.service ","date":"2022-04-16","objectID":"/2022-04-16-systemd-%E5%AE%9E%E7%8E%B0%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/:2:0","tags":["linux","systemd","ssh","ç«¯å£è½¬å‘","port-forward"],"title":"systemd å®ç°ç«¯å£è½¬å‘","uri":"/2022-04-16-systemd-%E5%AE%9E%E7%8E%B0%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/"},{"categories":[],"content":"hacking C++ æä¾›äº†å¤§é‡å­¦ä¹  C++ çš„èµ„æºé“¾æ¥ï¼Œå…¶ä¸­ List of Educational Videos æ”¶é›†äº†ç›¸å…³çš„ YouTube ç½‘ç«™è§†é¢‘ï¼Œå¹¶ä¸”å¯¹ç›¸å…³çš„å†…å®¹åšäº†åˆ†ç±»æ•´ç†ã€‚ ","date":"2022-04-11","objectID":"/2022-04-11-hacking-c-youtube-%E8%A7%86%E9%A2%91%E5%88%86%E4%BA%AB/:0:0","tags":[],"title":"hacking c++ï¼šYouTube è§†é¢‘åˆ†äº«","uri":"/2022-04-11-hacking-c-youtube-%E8%A7%86%E9%A2%91%E5%88%86%E4%BA%AB/"},{"categories":["Tools"],"content":"åœ¨ Kindle ä¸Šé¢æœ€ä¼˜çš„é˜…è¯»ä½“éªŒï¼Œé¦–é€‰è‚¯å®šæ˜¯å®˜æ–¹æ”¯æŒçš„ azw3 æ ¼å¼ã€‚ä½†æ˜¯å½“æˆ‘ä»¬éœ€è¦é˜…è¯»ä¸€äº›è®ºæ–‡æˆ–è€…ç”µå­ä¹¦ç±çš„æ—¶å€™ï¼Œå¾€å¾€å¯ä»¥è·å–å¾—åˆ°çš„åªæœ‰ PDF æ ¼å¼çš„ç”µå­ç‰ˆã€‚PDF ä¸€èˆ¬æ˜¯ä»¥ A4 æ ·å¼å­˜åœ¨ï¼Œå¯¹äºå°å±å¹•çš„ç”µå­è®¾ç½®ï¼Œå¾€å¾€é˜…è¯»ä½“éªŒä¸æ˜¯ç‰¹(hen)åˆ«(zao)å¥½(gao)ã€‚ ç›´è§‚çš„æƒ³æ³•å°±æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŸç§æ–¹å¼ï¼ŒæŠŠ A4 å¤§å°çš„ç”µå­æ–‡æ¡£ï¼Œé€šè¿‡ä¸€å®šçš„åˆ†å‰²æ–¹å¼ï¼Œè½¬åŒ–æˆé€‚åˆå°å±å¹•é˜…è¯»çš„æ ¼å¼ã€‚æ‰€è°“çš„[æŸç§æ ¼å¼]ï¼Œå…¶å®å°±æ˜¯åˆ©ç”¨äº† OCR çš„æ–‡å­—è¯†åˆ«åŠŸèƒ½ï¼Œé€šè¿‡ç®—æ³•æ•´åˆï¼Œå½¢æˆæ–°çš„ç”µå­æ–‡æ¡£ã€‚ è¿™æ¬¾å¼€æºç¥å™¨ï¼ŒK2pdfopt ï¼Œåº”è¿è€Œç”Ÿã€‚ ","date":"2022-04-08","objectID":"/2022-04-08-kindle-pdf-%E9%98%85%E8%AF%BB%E5%99%A8-k2pdfopt/:0:0","tags":["kindle","pdf"],"title":"Kindle PDF é˜…è¯»å™¨ï¼šk2pdfopt","uri":"/2022-04-08-kindle-pdf-%E9%98%85%E8%AF%BB%E5%99%A8-k2pdfopt/"},{"categories":["Tools"],"content":" å®‰è£…ç½‘ç«™ä¸Šæä¾›äº†ç¼–è¯‘å¥½çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œç›´æ¥ä¸‹è½½åˆ°æœ¬åœ°ï¼Œå³å¯ä½¿ç”¨ã€‚ ","date":"2022-04-08","objectID":"/2022-04-08-kindle-pdf-%E9%98%85%E8%AF%BB%E5%99%A8-k2pdfopt/:1:0","tags":["kindle","pdf"],"title":"Kindle PDF é˜…è¯»å™¨ï¼šk2pdfopt","uri":"/2022-04-08-kindle-pdf-%E9%98%85%E8%AF%BB%E5%99%A8-k2pdfopt/"},{"categories":["Tools"],"content":" ä½¿ç”¨ ./K2pdfopt your_file.pdf ","date":"2022-04-08","objectID":"/2022-04-08-kindle-pdf-%E9%98%85%E8%AF%BB%E5%99%A8-k2pdfopt/:2:0","tags":["kindle","pdf"],"title":"Kindle PDF é˜…è¯»å™¨ï¼šk2pdfopt","uri":"/2022-04-08-kindle-pdf-%E9%98%85%E8%AF%BB%E5%99%A8-k2pdfopt/"},{"categories":["Tools"],"content":" epub to mobi alias kindle.mobi='for book in *.epub; do echo \"Converting $book\"; ebook-convert \"$book\" \"$(basename \"$book\" .epub).mobi\"; done' alias kindle.pdf='for book in *.pdf; do echo \"Converting $book\"; yes \"\" | /home/william/k2pdfopt ${book}; done' ","date":"2022-04-08","objectID":"/2022-04-08-kindle-pdf-%E9%98%85%E8%AF%BB%E5%99%A8-k2pdfopt/:3:0","tags":["kindle","pdf"],"title":"Kindle PDF é˜…è¯»å™¨ï¼šk2pdfopt","uri":"/2022-04-08-kindle-pdf-%E9%98%85%E8%AF%BB%E5%99%A8-k2pdfopt/"},{"categories":["programming"],"content":"é€šè¿‡åœ¨ Ubuntu ç³»ç»Ÿå®‰è£… Deepinï¼Œå¯ä»¥å®ç°ä½¿ç”¨å¾®ä¿¡ã€ä¼ä¸šå¾®ä¿¡ã€QQ ç­‰å¤šæ¬¾ç¤¾äº¤å·¥å…·ã€‚ ","date":"2022-03-29","objectID":"/2022-03-29-ubuntu-%E4%BD%BF%E7%94%A8-wechat/:0:0","tags":["linux","deepin","wechat"],"title":"ubuntu ä½¿ç”¨ wechat","uri":"/2022-03-29-ubuntu-%E4%BD%BF%E7%94%A8-wechat/"},{"categories":["programming"],"content":" å®‰è£… Deepin å¥—ä»¶è®¿é—®å®˜ç½‘deepin-wineï¼Œå¯ä»¥å‘ç°å¾ˆå¤šçš„å®è—å·¥å…·ã€‚ é¦–æ¬¡ä½¿ç”¨éœ€è¦å…ˆæ·»åŠ ä»“åº“ wget -O- https://deepin-wine.i-m.dev/setup.sh | sh åé¢å°±å¯ä»¥ç›´æ¥å®‰è£…éœ€è¦çš„è½¯ä»¶äº†ï¼Œå…·ä½“çš„åç§°å¯ä»¥ä»åˆ—è¡¨è·å–å¾—åˆ°ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…å¾®ä¿¡ apt install com.qq.weixin.deepin ","date":"2022-03-29","objectID":"/2022-03-29-ubuntu-%E4%BD%BF%E7%94%A8-wechat/:1:0","tags":["linux","deepin","wechat"],"title":"ubuntu ä½¿ç”¨ wechat","uri":"/2022-03-29-ubuntu-%E4%BD%BF%E7%94%A8-wechat/"},{"categories":["programming"],"content":" å¾®ä¿¡å­—ä½“ä¸ºæ–¹æ¡†ï¼ˆæ˜¾ç¤ºä¸æ­£å¸¸ï¼‰","date":"2022-03-29","objectID":"/2022-03-29-ubuntu-%E4%BD%BF%E7%94%A8-wechat/:2:0","tags":["linux","deepin","wechat"],"title":"ubuntu ä½¿ç”¨ wechat","uri":"/2022-03-29-ubuntu-%E4%BD%BF%E7%94%A8-wechat/"},{"categories":["programming"],"content":" ç»ˆææ–¹æ³•å‘ç°ä¹‹å‰çš„æ–¹æ³•éƒ½æ˜¯ä¸å¯¹çš„ï¼Œéœ€è¦è¿™æ ·å¤„ç†ã€‚ä¸»è¦æ˜¯å‚è€ƒäº†è¿™ç¯‡åšå®¢ï¼šå…³äºUbuntu 20.04 å®‰è£…Deepin Wine Wechatåè¾“å…¥æ¡†ä¸­æ–‡æ–¹æ¡†ã€‚ ## 1. å…ˆæŸ¥çœ‹ä½¿ç”¨çš„å­—ä½“ vim ~/.deepinwine/Deepin-WeChat/system.reg ## æŸ¥æ‰¾ä½¿ç”¨çš„å­—ä½“ï¼Œå‘ç°éœ€è¦ä½¿ç”¨ SimSun \"MS Shell Dlg\"=\"SimSun\" \"MS Shell Dlg 2\"=\"Tahoma\" ## 2. é‚£å°±ä¸‹è½½ä¸€ä»½ç›¸å…³çš„å­—ä½“ ## SimSun: https://github.com/micmro/Stylify-Me/blob/main/.fonts/SimSun.ttf wget https://github.com/micmro/Stylify-Me/blob/main/.fonts/SimSun.ttf cp SimSun.ttf ~/.deepinwine/Deepin-WeChat/drive_c/windows/Fonts/ ## 3. æ‰§è¡Œæ³¨å†Œè¡¨ WINEPREFIX=~/.deepinwine/Deepin-WeChat/ deepin-wine regedit ~/.deepinwine/Deepin-WeChat/system.reg ## 4. é‡å¯wechatå³å¯è§£å†³ ç»¼åˆä¸Šè¿°ï¼Œå†™äº†ä¸€ä¸ªç®€å•çš„è„šæœ¬ ## ============================================================= ## æ€æ‰æŸä¸ªæŒ‡å®šçš„è¿›ç¨‹ ## killx program_name killx () { list=$(ps aux | grep -i $1| grep -v color | awk '{print $2}') if [ -n \"$list\" ]; then echo \"Killing... $1\" echo $list | xargs kill -9 else echo \"Not running $1\" fi } ## ============================================================= ## ============================================================= wechat() { killx wechat killx wine cp ~/SimSun.ttf ~/.deepinwine/Deepin-WeChat/drive_c/windows/Fonts/ ## wine çš„å¯æ‰§è¡Œå›¾æ ‡ä½äº ## /opt/apps/com.qq.weixin.deepin/entries/applications WINEPREFIX=~/.deepinwine/Deepin-WeChat/ deepin-wine regedit ~/.deepinwine/Deepin-WeChat/system.reg /opt/apps/com.qq.weixin.deepin/files/run.sh \u0026 } ## ============================================================= ","date":"2022-03-29","objectID":"/2022-03-29-ubuntu-%E4%BD%BF%E7%94%A8-wechat/:2:1","tags":["linux","deepin","wechat"],"title":"ubuntu ä½¿ç”¨ wechat","uri":"/2022-03-29-ubuntu-%E4%BD%BF%E7%94%A8-wechat/"},{"categories":["programming"],"content":" æ— æ•ˆæ–¹æ³•éœ€è¦æˆ‘ä»¬ä¿®æ”¹é»˜è®¤çš„ç³»ç»Ÿå­—ä½“ cd /opt/deepinwine/tools/ ll total 2.1M drwxr-xr-x 2 root root 4.0K Mar 29 00:18 . drwxr-xr-x 4 root root 4.0K Oct 24 2020 .. -rwxr-xr-x 1 root root 2.1K Dec 9 19:25 add_hotkeys -rwxr-xr-x 1 root root 112K Feb 23 2016 app-uninstaller.exe -rwxr-xr-x 1 root root 15K Dec 20 14:44 fontconfig -rwxr-xr-x 1 root root 714 Dec 9 19:25 get_tray_window -rwxr-xr-x 1 root root 6.3K Dec 9 19:25 kill.sh -rwxr-xr-x 1 root root 1.1K Dec 9 19:25 log.sh -rwxr-xr-x 1 root root 898 Dec 9 19:25 map_device.sh -rwxr-xr-x 1 root root 19K Dec 20 14:44 QQGameRunner -rwxr-xr-x 1 root root 808 Dec 9 19:25 register_font.sh -rwxr-xr-x 1 root root 22K Mar 29 00:13 run.sh -rwxr-xr-x 1 root root 12K Mar 29 00:13 run_v2.sh -rwxr-xr-x 1 root root 13K Mar 29 00:13 run_v3.sh -rwxr-xr-x 1 root root 14K Mar 29 00:18 run_v4.sh -rwxr-xr-x 1 root root 13K Dec 9 19:25 sendkeys.exe -rwxr-xr-x 1 root root 2.4K Dec 9 19:25 sendkeys.sh -rwxr-xr-x 1 root root 1.5K Dec 9 19:25 SetDpi.sh -rwxr-xr-x 1 root root 3.1K Feb 22 2016 uninstall.sh -rwxr-xr-x 1 root root 1.9M Dec 20 14:44 updater è¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹ #å®‰è£…éœ€è¦çš„å­—ä½“ sudo apt-get install -y ttf-wqy-microhei sudo apt-get install -y ttf-wqy-zenhei sudo apt-get install -y xfonts-wqy #è§£å†³å¾®ä¿¡æ— æ³•æŸ¥çœ‹å‘é€å›¾ç‰‡é—®é¢˜ sudo apt install libjpeg68:i386 #å‚è€ƒï¼šhttps://github.com/wszqkzqk/deepin-wine-ubuntu/issues/136 #ç»ˆæè§£å†³æ–¹æ¡ˆ #ä¸Šè¿°æ–¹å¼ç•¥å¾®æœ‰ä¸€äº›ç¼ºé™·ï¼Œä¿®å¤å¦‚ä¸‹ï¼š #åœ¨run.sh/v2/v3/v4çš„å¼€å¤´ï¼Œæ·»åŠ å¦‚ä¸‹ï¼š export LC_ALL=zh_CN.UTF-8 å¦‚æœä»¥ä¸Šæ­¥éª¤è¿˜æ˜¯ä¸è¡Œï¼Œåˆ™å¯ä»¥å°è¯•ä¸‹é¢çš„æ–¹æ³•ï¼š ## åˆ° https://github.com/qiuhuachuan/fonts/blob/main/MSYH.TTC ä¸‹è½½å­—ä½“ wget https://github.com/qiuhuachuan/fonts/blob/main/MSYH.TTC ## æ‹·è´åˆ°æŒ‡å®šä½ç½® cp MSYH.TTC ~/.deepinwine/Deepin-WeChat/drive_c/windows/Fonts/msyh.ttc ## å°†å­—ä½“æ³¨å†Œåˆ° Wine vim ~/.deepinwine/Deepin-WeChat/font.reg ## å¤åˆ¶ä¸€ä¸‹å†…å®¹ REGEDIT4 [HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows NT\\CurrentVersion\\FontSubstitutes] \"MS Shell Dlg\"=\"msyh\" \"MS Shell Dlg 2\"=\"msyh\" [HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows NT\\CurrentVersion\\FontLink\\SystemLink] \"Lucida Sans Unicode\"=\"msyh.ttc\" \"Microsoft Sans Serif\"=\"msyh.ttc\" \"MS Sans Serif\"=\"msyh.ttc\" \"Tahoma\"=\"msyh.ttc\" \"Tahoma Bold\"=\"msyhbd.ttc\" \"msyh\"=\"msyh.ttc\" \"Arial\"=\"msyh.ttc\" \"Arial Black\"=\"msyh.ttc\" ## åœ¨å‘½ä»¤è¡Œæ‰§è¡Œä»¥ä¸‹æ“ä½œ ## å¦‚æœæç¤ºæœ‰ wine ç¨‹åºåœ¨æ‰§è¡Œï¼Œéœ€è¦å…¨éƒ¨killæ‰ WINEPREFIX=~/.deepinwine/Deepin-WeChat/ deepin-wine regedit ~/.deepinwine/Deepin-WeChat/font.reg ## ç°åœ¨é‡æ–°è¿è¡Œå¾®ä¿¡å°±å¯ä»¥æ˜¾ç¤ºä¸­æ–‡å­—ä½“äº† ","date":"2022-03-29","objectID":"/2022-03-29-ubuntu-%E4%BD%BF%E7%94%A8-wechat/:2:2","tags":["linux","deepin","wechat"],"title":"ubuntu ä½¿ç”¨ wechat","uri":"/2022-03-29-ubuntu-%E4%BD%BF%E7%94%A8-wechat/"},{"categories":["programming"],"content":"vim ç´ æœ‰ã€Œç¼–è¾‘å™¨ä¹‹ç¥ã€çš„ç§°å‘¼ã€‚å¯¹äº ã€ŒLinux-erã€ï¼Œvim æ˜¯æˆ‘ä»¬æ—¥å¸¸å†™ä»£ç çš„å¾—åŠ›åŠ©æ‰‹ã€‚ å½“ç„¶ï¼Œè¿™ä¸ªã€ŒåŠ©æ‰‹ã€å¹¶éé‚£ä¹ˆã€Œå¬è¯ã€ï¼Œæœ‰æ—¶è¿˜å¾ˆã€Œé«˜å†·ã€ã€‚æ®è¯´ SO ä¸Šé¢å…³äº Vim é—®ç­”æœ€æ´»è·ƒçš„ä¸€ä¸ªå¸–å­ï¼Œæ˜¯å¦‚ä½•é€€å‡ºã€‚ æˆ‘æ›¾ç»ä¹Ÿæ˜¯ä¸€åå°ç™½ã€‚ä»ä¸€å¼€å§‹çš„ã€Œævimã€å¿ƒæ€ï¼Œé€æ¸å˜æˆã€Œçˆ±ä¸é‡Šæ‰‹ã€ï¼Œè¿™è¿‡ç¨‹ä¸­æ‰€ç»å†çš„æ›²æŠ˜ä¸å°½å…¶æ•°ã€‚ä¸ºäº†è®©è‡ªå·±æ›´åŠ ç†Ÿæ‚‰ Vimï¼Œä¹Ÿä¸ºäº†åæ¥è€…æœ‰æ‰€å‚æ•°ï¼Œæˆ‘å†³å®šä»¥åšå®¢çš„å½¢å¼ï¼Œè®°å½•è‡ªå·±åœ¨ä½¿ç”¨ Vim è¿‡ç¨‹ä¸­æ‰€æ€æ‰€æƒ³ã€æ‰€æ„Ÿæ‰€æ‚Ÿï¼Œå¸Œæœ›å¯¹è‡ªå·±æœ‰æ‰€æ€»ç»“ï¼Œå¯¹ä»–äººæœ‰æ‰€å¯å‘ã€‚ æ–‡ä¸­ä¸»è¦ä»¥ä½¿ç”¨å·¥å…·çš„å®è·µä¸ºå¯¼å‘ï¼Œä»‹ç»ç›¸å…³çš„æ’ä»¶ä¸é…ç½®ã€‚ ","date":"2022-03-17","objectID":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/:0:0","tags":["linux","vim","plugin","ide","tmux","zsh"],"title":"vim æ‰“æ€ªä¹‹æ—…","uri":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/"},{"categories":["programming"],"content":" Refä¹‹æ‰€ä»¥å…ˆæŠŠå‚è€ƒèµ„æºç›¸å…³çš„è¿æ¥æ”¾åœ¨å‰é¢ï¼Œæ˜¯å› ä¸ºæˆ‘åœ¨ä¿®ç‚¼ Vim çš„é“è·¯ä¸Šï¼Œå¾—åˆ°äº†è¿™äº›å‰è¾ˆé«˜æ‰‹çš„æŒ‡ç‚¹ä¸å¯å‘ã€‚åœ¨è¿™é‡Œè¡¨ç¤ºè¯šæŒšçš„æ„Ÿè°¢ï¼ æ‰€éœ€å³æ‰€è·ï¼šåƒ IDE ä¸€æ ·ä½¿ç”¨ vimï¼šè¿™ç¯‡åšæ–‡å¯ä»¥è¯´æ˜¯æˆ‘çš„å¯è’™ä¹‹å…‰äº†ï¼Œä»éå¸¸ä½¿ç”¨çš„è§’åº¦æŒ‡å¯¼å¦‚ä½•é…ç½® Vimï¼Œä½¿ä¹‹æˆä¸ºä¸€ä¸ªå¾—åŠ›çš„å·¥å…·ã€‚æˆ‘çš„å¤§éƒ¨åˆ†é…ç½®éƒ½å‚è€ƒäº†è¿™ä¸ªç¥ä½œã€‚åœ¨æ­¤å‘ä½œè€…è¡¨ç¤ºæ•¬æ„ï¼ ","date":"2022-03-17","objectID":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/:1:0","tags":["linux","vim","plugin","ide","tmux","zsh"],"title":"vim æ‰“æ€ªä¹‹æ—…","uri":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/"},{"categories":["programming"],"content":" æ‰“å¼€å¤§æ–‡ä»¶ \" ref:https://vim.fandom.com/wiki/Faster_loading_of_large_files \" å¤„ç† vim æ‰“å¼€å¤§æ–‡ä»¶è¾ƒæ…¢çš„é—®é¢˜ \" file is large from 10mb let g:LargeFile = 1024 * 1024 * 10 \"10MB augroup LargeFile au! autocmd BufReadPre * let f=getfsize(expand(\"\u003cafile\u003e\")) | if f \u003e g:LargeFile || f == -2 | call LargeFile() | endif augroup END function! LargeFile() \" no syntax highlighting etc set eventignore+=FileType \" save memory when other file is viewed setlocal bufhidden=unload \" is read-only (write with :w new_filename) setlocal buftype=nowrite \" no undo possible setlocal undolevels=-1 \" display message autocmd VimEnter * echo \"The file is larger than \" . (g:LargeFile / 1024 / 1024) . \" MB, so some options are changed (see .vimrc for details).\" endfunction ","date":"2022-03-17","objectID":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/:2:0","tags":["linux","vim","plugin","ide","tmux","zsh"],"title":"vim æ‰“æ€ªä¹‹æ—…","uri":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/"},{"categories":["programming"],"content":" YouCompleteMe(YCM)å¯¹äºç»å¸¸ä½¿ç”¨ Vim ç¼–è¾‘ C++ é¡¹ç›®ï¼Œæˆ‘ä»¬éœ€è¦ä¸€æ¬¾å¾—åŠ›çš„è‡ªåŠ¨è¡¥å…¨å·¥å…·ã€‚ ","date":"2022-03-17","objectID":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/:3:0","tags":["linux","vim","plugin","ide","tmux","zsh"],"title":"vim æ‰“æ€ªä¹‹æ—…","uri":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/"},{"categories":["programming"],"content":" ä½¿ç”¨ Plug å®‰è£…ï¼ˆå¤§æ¦‚æœ‰ä¸è¡Œï¼‰ Plug 'Valloric/YouCompleteMe', { 'do': './install.sh --go-completer --js-completer', 'on': [] } ","date":"2022-03-17","objectID":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/:3:1","tags":["linux","vim","plugin","ide","tmux","zsh"],"title":"vim æ‰“æ€ªä¹‹æ—…","uri":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/"},{"categories":["programming"],"content":" ä½¿ç”¨ git å®‰è£…(å¯è¡Œæ–¹æ¡ˆ) ","date":"2022-03-17","objectID":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/:3:2","tags":["linux","vim","plugin","ide","tmux","zsh"],"title":"vim æ‰“æ€ªä¹‹æ—…","uri":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/"},{"categories":["programming"],"content":" é…ç½®","date":"2022-03-17","objectID":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/:3:3","tags":["linux","vim","plugin","ide","tmux","zsh"],"title":"vim æ‰“æ€ªä¹‹æ—…","uri":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/"},{"categories":["programming"],"content":" NerdTree","date":"2022-03-17","objectID":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/:4:0","tags":["linux","vim","plugin","ide","tmux","zsh"],"title":"vim æ‰“æ€ªä¹‹æ—…","uri":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/"},{"categories":["programming"],"content":" Seiya: é€æ˜åŒ–èƒŒæ™¯ Plug 'miyakogi/seiya.vim' \"ä½¿ç”¨å‘½ä»¤:SeiyaEnable,SeiyaDisable let g:seiya_auto_enable=1 \"é»˜è®¤å¯åŠ¨ seiya ","date":"2022-03-17","objectID":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/:5:0","tags":["linux","vim","plugin","ide","tmux","zsh"],"title":"vim æ‰“æ€ªä¹‹æ—…","uri":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/"},{"categories":["programming"],"content":" tagbar","date":"2022-03-17","objectID":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/:6:0","tags":["linux","vim","plugin","ide","tmux","zsh"],"title":"vim æ‰“æ€ªä¹‹æ—…","uri":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/"},{"categories":["programming"],"content":" Vim-Tmux è¡¥å…¨ æ’ä»¶ï¼štmux-complete.vim åŠŸèƒ½ï¼šå…è®¸ç”¨æˆ·åœ¨ç¼–è¾‘ vim æ–‡ä»¶çš„æ—¶å€™ï¼Œè‡ªåŠ¨è¡¥å…¨ Tmux å‡ºç°çš„å­—æ®µ ","date":"2022-03-17","objectID":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/:7:0","tags":["linux","vim","plugin","ide","tmux","zsh"],"title":"vim æ‰“æ€ªä¹‹æ—…","uri":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/"},{"categories":["programming"],"content":" å®‰è£… Plug 'prabirshrestha/async.vim' Plug 'prabirshrestha/asyncomplete.vim' Plug 'wellle/tmux-complete.vim' let g:tmuxcomplete#asyncomplete_source_options = { \\ 'name': 'tmuxcomplete', \\ 'whitelist': ['*'], \\ 'config': { \\ 'splitmode': 'words', \\ 'filter_prefix': 1, \\ 'show_incomplete': 1, \\ 'sort_candidates': 0, \\ 'scrollback': 0, \\ 'truncate': 0 \\ } \\ } \"\" è®¾ç½®ï¼šè§£å†³ enter ä¸èƒ½æ–°èµ·ä¸€è¡Œçš„é—®é¢˜ let g:tmuxcomplete#trigger = 'omnifunc' imap \u003cc-space\u003e \u003cPlug\u003e(asyncomplete_force_refresh) inoremap \u003cexpr\u003e \u003cCR\u003e pumvisible() ? asyncomplete#close_popup() . \"\\\u003cCR\u003e\" : \"\\\u003cCR\u003e\" ","date":"2022-03-17","objectID":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/:7:1","tags":["linux","vim","plugin","ide","tmux","zsh"],"title":"vim æ‰“æ€ªä¹‹æ—…","uri":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/"},{"categories":["programming"],"content":" Devicons ## é¦–å…ˆéœ€è¦å®‰è£… nerd-fond git clone https://github.com/ryanoasis/nerd-fonts.git cd nerd-fonts bash ./install.sh ## éœ€è¦è®¾ç½® Terminator çš„å­—ä½“ä¸º FiraCode Nerd Font Mono ## ç„¶åå®‰è£…æ’ä»¶å³å¯æ˜¾ç¤º Plug 'ryanoasis/vim-devicons' ","date":"2022-03-17","objectID":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/:8:0","tags":["linux","vim","plugin","ide","tmux","zsh"],"title":"vim æ‰“æ€ªä¹‹æ—…","uri":"/2022-03-17-vim-%E6%89%93%E6%80%AA%E4%B9%8B%E6%97%85/"},{"categories":["programming"],"content":"Sublim4 æ›´æ–°äº†ä¸€äº›åŠŸèƒ½ï¼Œéœ€è¦é‡æ–°åˆ¶ä½œä¸€ä¸ªç ´è§£ç‰ˆã€‚ ","date":"2022-03-14","objectID":"/2022-03-14-subl4-%E8%AE%BE%E7%BD%AE/:0:0","tags":["subl4"],"title":"subl4 è®¾ç½®","uri":"/2022-03-14-subl4-%E8%AE%BE%E7%BD%AE/"},{"categories":["programming"],"content":" ç ´è§£Patch-Sublime-License-Message Open sublime_text.exe in any hex editor. Search HEX-template -\u003e B2690031C9E8E0A5170084C07410488D0DFBFE68004883C428E9025517009048 Replace it to -\u003e B2690031C9909090909090909090909090909090909090909090909090909048 Save. This is nop call function for show message. This is not hacking software! Working on 28.05.2021 UPDATED!!! For Linux (Tested on Arch Linux) Search HEX-template -\u003e 50befcd82000baab10210031ffe8bd79180084c07416488b05b9ed4a00bea7ae210031ff31d231c94158ffe058 Replace it to -\u003e 909090909090909090909090909090909090909090909090909090909090909090909090909090909090909090 Save. Working on 10.02.2021 for Sublime Text Build 4113 ","date":"2022-03-14","objectID":"/2022-03-14-subl4-%E8%AE%BE%E7%BD%AE/:1:0","tags":["subl4"],"title":"subl4 è®¾ç½®","uri":"/2022-03-14-subl4-%E8%AE%BE%E7%BD%AE/"},{"categories":["programming"],"content":" ç¦æ­¢æ›´æ–° ## vim /etc/hosts 127.0.0.1 www.sublimetext.com 127.0.0.1 license.sublimehq.com 127.0.0.1 45.55.255.55 127.0.0.1 45.55.41.223 127.0.0.1 www.sublimetext.com 127.0.0.1 sublimetext.com 127.0.0.1 sublimehq.com 127.0.0.1 license.sublimehq.com 127.0.0.1 45.55.255.55 127.0.0.1 45.55.41.223 0.0.0.0 license.sublimehq.com 0.0.0.0 45.55.255.55 0.0.0.0 45.55.41.223 ","date":"2022-03-14","objectID":"/2022-03-14-subl4-%E8%AE%BE%E7%BD%AE/:2:0","tags":["subl4"],"title":"subl4 è®¾ç½®","uri":"/2022-03-14-subl4-%E8%AE%BE%E7%BD%AE/"},{"categories":["programming"],"content":"ã€Œé»‘å®¢ã€ä¼¼ä¹ä¸æ˜¯ä¸€ä¸ªå¥½è¯ã€‚æˆ‘ä»¬å¾€å¾€æœ›æ–‡ç”Ÿä¹‰ï¼Œä»¥ä¸ºå¸¦ç€ã€Œé»‘ã€å­—ï¼Œè¿™ä¸ªç§°å‘¼ä¾¿ä¸æ˜¯ä»€ä¹ˆå–„èŒ¬ã€‚è€Œç°å®ä¸­ï¼Œå„è·¯åª’ä½“ä¹Ÿç•¥æœ‰åè§çš„æŠ¥é“ä»¥è¿™ä¸ªæ——å­åšæ©æŠ¤çš„å„ç§ã€Œé»‘æ–™ã€ï¼Œè¿™å¯¼è‡´æˆ‘ä»¬ä»¥ä¸ºã€Œé»‘å®¢ã€çœŸçš„æŒºã€Œé»‘ã€ã€‚ å…¶å®ï¼Œã€Œé»‘å®¢ã€æ˜¯ä¸€ä¸ªè‹±è¯‘è¯ï¼Œè¯æ ¹æ˜¯ ã€Œhackã€ã€‚åŸæœ¬çš„æ„æ€æ˜¯ã€Œå¸¦æœ‰æ”»å‡»æ€§çš„åˆ›é€ ã€ï¼Œå³é€šè¿‡æ‹†è§£å¤æ‚äº‹ç‰©ä»¥è·å¾—æ›´å…¨é¢çš„è®¤è¯†ï¼Œå¹¶åŠ ä»¥æ”¹é€ ï¼Œä½¿ç”¨ç¬¦åˆè‡ªå·±çš„ä½¿ç”¨ç›®çš„ã€‚è€Œè¿™ä¸ªè¢«æ”¹é€ çš„åŠŸèƒ½ï¼Œå¾€å¾€ä¹Ÿç‰©å“åŸæœ‰çš„åŠŸèƒ½ä¸å°½ç›¸åŒã€‚æ•…è°“ä¹‹ã€Œç ´åæ€§åˆ›é€ ã€ã€‚ä¼ æ’­åª’ä½“å¤§è‚†æ¸²æŸ“çš„ï¼Œå…¶å®æ˜¯å¦å¤–ä¸€ç§æ´»åŠ¨ï¼Œã€Œcrackã€ï¼Œå³ã€Œæ¶æ„çš„ç ´åã€çªƒå–åˆ©ç›Šã€ç­‰ã€‚å¾ˆæ˜æ˜¾ï¼Œè¿™ä¸¤è€…çš„è¯æ€§å®Œå…¨ç›¸åã€‚ The basic difference is this: hackers build things, crackers break them. åœ¨è®¡ç®—æœºé¢†åŸŸï¼Œã€Œé»‘å®¢ã€ä¸ä»…ä»…æŒ‡ä»£ä¸€ç¾¤ç‰¹æ®Šèº«ä»½çš„äººï¼Œè¿˜è¡¨ç¤ºç”±è¿™ç¾¤äººæ‰€ç»„åˆè€Œæˆçš„æ–‡åŒ–æ°›å›´ã€‚ã€Œé»‘å®¢ã€æˆé•¿äºäº’è”ç½‘åˆ†äº«çš„æ—¶ä»£ï¼Œå—ç›Šäºå¼€æºè½¯ä»¶è¿åŠ¨ï¼Œå¯¹æŠ€æœ¯ç—´è¿·ï¼Œé’¦ä½©å¤§ç‰›ï¼Œæ¨å´‡å…±äº«çš„ç²¾ç¥ã€‚åœ¨å½“å‰ï¼Œã€Œé»‘å®¢ã€ç²¾ç¥å·²ç»æ¸—é€åˆ°ç¤¾ä¼šç”Ÿæ´»çš„å„ä¸ªé¢†åŸŸã€‚ ä»Šå¤©åˆšå¥½åœ¨ç½‘ä¸Šçœ‹åˆ° ESR å¤šå¹´å‰å†™çš„åšå®¢ï¼Œè®¨è®ºæ˜¯ä»€ä¹ˆæ˜¯ã€Œé»‘å®¢ã€ï¼Œæ€æ ·æˆä¸ºä¸€ååˆæ ¼ä¸”ä¼˜ç§€çš„ã€Œé»‘å®¢ã€ï¼Œæ”¶ç›Šè‰¯å¤šï¼ ","date":"2022-03-14","objectID":"/2022-03-14-%E6%88%90%E4%B8%BA-hacker/:0:0","tags":["hacker","learning"],"title":"æˆä¸º hacker","uri":"/2022-03-14-%E6%88%90%E4%B8%BA-hacker/"},{"categories":["programming"],"content":" ä»€ä¹ˆæ˜¯é»‘å®¢é»‘å®¢æ–‡ä»¶èµ·æºäºä¸Šä¸–çºªå…­ä¸ƒåå¹´ä»£ï¼Œä¸äº’è”ç½‘åˆ†äº«ã€å›é€†ã€åˆ›æ–°ã€åˆ›é€ ç­‰æ—¶ä»£ç‰¹å¾èä¸ºä¸€ä½“ï¼š There is a community, a shared culture, of expert programmers and networking wizards that traces its history back through decades to the first time-sharing minicomputers and the earliest ARPAnet experiments. The members of this culture originated the term â€˜hackerâ€™. Hackers built the Internet. Hackers made the Unix operating system what it is today. Hackers make the World Wide Web work. If you are part of this culture, if you have contributed to it and other people in it know who you are and call you a hacker, youâ€™re a hacker. é»‘å®¢å·²ç»ä¸å†å±€é™è®¡ç®—æœºé¢†åŸŸï¼Œå·²ç»æˆä¸ºäººä»¬çš„ä¸€ç§ç²¾ç¥ The hacker mind-set is not confined to this software-hacker culture. There are people who apply the hacker attitude to other things, like electronics or music â€” actually, you can find it at the highest levels of any science or art. Software hackers recognize these kindred spirits elsewhere and may call them â€˜hackersâ€™ too â€” and some claim that the hacker nature is really independent of the particular medium the hacker works in. But in the rest of this document we will focus on the skills and attitudes of software hackers, and the traditions of the shared culture that originated the term â€˜hackerâ€™. å†æ¬¡å¼ºè°ƒï¼Œé»‘å®¢ä¸ã€Œå®³å®¢ã€ä¸åŒï¼š There is another group of people who loudly call themselves hackers, but arenâ€™t. These are people (mainly adolescent males) who get a kick out of breaking into computers and phreaking the phone system. Real hackers call these people â€˜crackersâ€™ and want nothing to do with them. Real hackers mostly think crackers are lazy, irresponsible, and not very bright, and object that being able to break security doesnâ€™t make you a hacker any more than being able to hotwire cars makes you an automotive engineer. Unfortunately, many journalists and writers have been fooled into using the word â€˜hackerâ€™ to describe crackers; this irritates real hackers no end. The basic difference is this: hackers build things, crackers break them. ","date":"2022-03-14","objectID":"/2022-03-14-%E6%88%90%E4%B8%BA-hacker/:1:0","tags":["hacker","learning"],"title":"æˆä¸º hacker","uri":"/2022-03-14-%E6%88%90%E4%B8%BA-hacker/"},{"categories":["programming"],"content":" é»‘å®¢ç²¾ç¥ To follow the path: look to the master, follow the master, walk with the master, see through the master, become the master. The world is full of fascinating problems waiting to be solved No problem should ever have to be solved twice Boredom and drudgery are evil Freedom is good Attitude is no substitute for competence ","date":"2022-03-14","objectID":"/2022-03-14-%E6%88%90%E4%B8%BA-hacker/:2:0","tags":["hacker","learning"],"title":"æˆä¸º hacker","uri":"/2022-03-14-%E6%88%90%E4%B8%BA-hacker/"},{"categories":["programming"],"content":" å¦‚ä½•æˆä¸ºé»‘å®¢1. Learn how to program. 2. Get one of the open-source Unixes and learn to use and run it. 3. Learn how to use the World Wide Web and write HTML. 4. If you donâ€™t have functional English, learn it. ","date":"2022-03-14","objectID":"/2022-03-14-%E6%88%90%E4%B8%BA-hacker/:3:0","tags":["hacker","learning"],"title":"æˆä¸º hacker","uri":"/2022-03-14-%E6%88%90%E4%B8%BA-hacker/"},{"categories":["programming"],"content":" Ref: ESR: How To Become A Hacker Peter Norvig: Teach Yourself Programming in Ten Years ","date":"2022-03-14","objectID":"/2022-03-14-%E6%88%90%E4%B8%BA-hacker/:4:0","tags":["hacker","learning"],"title":"æˆä¸º hacker","uri":"/2022-03-14-%E6%88%90%E4%B8%BA-hacker/"},{"categories":["programming"],"content":"æœ€è¿‘åœ¨çœ‹è¿™æœ¬ç»å…¸ä¹¦ç±ï¼Œå¯è°“æ˜¯è¨€ç®€æ„èµ…ï¼Œå´å¥å¥æçº²æŒˆé¢†ï¼Œè¯»åéå¸¸æœ‰æ”¶è·ã€‚æ‰€ä»¥å†³å®šå†™ä¸€ç¯‡è¯»ä¹¦ç¬”è®°ï¼Œä»¥è¡¨æ•¬æ„ï¼ ","date":"2022-03-13","objectID":"/2022-03-13-the-practice-of-programming-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:0:0","tags":["programming","style","design","c","c++"],"title":"The Practice of Programming è¯»ä¹¦ç¬”è®°","uri":"/2022-03-13-the-practice-of-programming-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["programming"],"content":" Chap.4 Interfaces/æ¥å£","date":"2022-03-13","objectID":"/2022-03-13-the-practice-of-programming-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:1:0","tags":["programming","style","design","c","c++"],"title":"The Practice of Programming è¯»ä¹¦ç¬”è®°","uri":"/2022-03-13-the-practice-of-programming-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["programming"],"content":" prototype/åŸå‹ Itâ€™s not usually until youâ€™ve build and used a version of the program that you understand the issues well enough to get the design right. åœ¨çœŸå®çš„è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä»ä¸šåŠ¡éƒ¨é—¨æ¥åˆ°å¼€å‘éœ€æ±‚ã€‚ç†æƒ³çš„æƒ…å†µæ˜¯ï¼šè¯¥éœ€æ±‚æ˜¯æ˜ç¡®ã€ä¸”å¯ä»¥éªŒè¯çš„ã€‚ç„¶è€Œå¾ˆå¤šçš„æ—¶å€™ï¼Œå¾€å¾€ä¸šåŠ¡äººå‘˜å¹¶ä¸æ˜¯ç‰¹åˆ«æ¸…æ¥šè‡ªå·±çš„æƒ³æ³•ï¼Œæˆ‘ä»¬åªæœ‰åœ¨ä¸€æ¬¡æ¬¡åœ°ä¸ä»–ä»¬çš„æ²Ÿé€šä¸­ï¼Œæ‰èƒ½å‘ç°çœŸæ­£çš„ä¸šåŠ¡éœ€æ±‚ï¼Œå¹¶é€æ­¥åœ¨è„‘æµ·é‡Œå½¢æˆä¸€ä¸ªåˆæ­¥çš„å¼€å‘åŸå‹ï¼Œæˆ‘ä»¬å¯¹ä¸šåŠ¡çš„ç†è§£ä¹Ÿæ˜¯åœ¨è¿™ä¸ªä¸æ–­å°è¯•çš„è¿‡ç¨‹ä¸­æ¸æ¸æ¸…æ¥šï¼Œå†³å®šéœ€è¦é‡‡ç”¨å“ªç§æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼Œè®¾è®¡æ€æ ·çš„æ¨¡å¼æ¥æ›´å¥½çš„å®ç°éœ€è¦ã€‚ prototype è¿™ä¸ªå•è¯åŸæ¥æœ‰è‰ç¨¿çš„æ„æ€ï¼Œç”¨åœ¨è¿™é‡Œä»£è¡¨å¯¹éœ€æ±‚é€æ­¥æ¢ç´¢å’Œé€æ­¥é è¿‘çš„è¿‡ç¨‹ã€‚ ","date":"2022-03-13","objectID":"/2022-03-13-the-practice-of-programming-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:1:1","tags":["programming","style","design","c","c++"],"title":"The Practice of Programming è¯»ä¹¦ç¬”è®°","uri":"/2022-03-13-the-practice-of-programming-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["programming"],"content":" Ref: exercises from the book Writing Clean Code and the Practice of Programming ","date":"2022-03-13","objectID":"/2022-03-13-the-practice-of-programming-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:2:0","tags":["programming","style","design","c","c++"],"title":"The Practice of Programming è¯»ä¹¦ç¬”è®°","uri":"/2022-03-13-the-practice-of-programming-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Linux"],"content":"è®¾ç½® coredump ä¿å­˜çš„æ–‡ä»¶è·¯å¾„ã€‚ ## echo åé¢å†…å®¹æœ€å¥½ä¸è¦å¸¦ä¸Šå¼•å·ï¼Œæœ‰çš„ç³»ç»Ÿä¼šæŠŠå¼•å·ä¹Ÿå¸¦å…¥ ## é€šè¿‡è®¾ç½® core æ–‡ä»¶çš„åç§°ä»¥åŠè·¯å¾„ï¼Œç¨‹åº coredump çš„æ—¶å€™å°±ä¼šåœ¨æŒ‡å®šè·¯å¾„æŒ‰ç…§æŒ‡å®šçš„è§„åˆ™å‘½åç”Ÿæˆ core æ–‡ä»¶ã€‚ ## å¯ä»¥åœ¨ core_pattern æ¨¡æ¿ä¸­ä½¿ç”¨å˜é‡è§ä¸‹é¢çš„åˆ—è¡¨ï¼š ## - %% å•ä¸ª % å­—ç¬¦ ## - %p æ‰€ dump è¿›ç¨‹çš„è¿›ç¨‹ ID ## - %u æ‰€ dump è¿›ç¨‹çš„å®é™…ç”¨æˆ· ID ## - %g æ‰€ dump è¿›ç¨‹çš„å®é™…ç»„ ID ## - %s å¯¼è‡´æœ¬æ¬¡ core dump çš„ä¿¡å· ## - %t core dump çš„æ—¶é—´ (ç”± 1970 å¹´ 1 æœˆ 1 æ—¥è®¡èµ·çš„ç§’æ•°) ## - %h ä¸»æœºå ## - %e ç¨‹åºæ–‡ä»¶å ## ä¸´æ—¶ä¿®æ”¹ echo /usr/core_log/core_%e_%t_%p \u003e /proc/sys/kernel/core_pattern ## æ°¸ä¹…ä¿®æ”¹åœ¨ /etc/sysctl.conf ## åœ¨è¯¥æ–‡ä»¶çš„æœ€ååŠ ä¸Šä¸¤è¡Œï¼š kernel.core_pattern = /var/core_log/core_%e_%t_%p kernel.core_uses_pid = 0 ## å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œä½¿ä¿®æ”¹ç»“æœé©¬ä¸Šç”Ÿæ•ˆã€‚ /usr/sbin/sysctl -p ## ä¸´æ—¶ä¿®æ”¹ ulimit-c unlimited ## æ°¸ä¹…ä¿®æ”¹ï¼šæ‰“å¼€ /etc/security/limits.conf æ–‡ä»¶ï¼Œåœ¨è¯¥æ–‡ä»¶çš„æœ€ååŠ ä¸Šä¸¤è¡Œ ## é…ç½®å¥½åï¼Œæ”¾å›åŸç›®å½•ï¼Œé‡å¯ rebootã€‚ ## ä¸‹é¢æ˜¯æˆ‘çš„é…ç½® @root soft core unlimited @root hard core unlimited gdb æ‰“å¼€ core æ–‡ä»¶æ—¶ï¼Œæœ‰æ˜¾ç¤ºæ²¡æœ‰è°ƒè¯•ä¿¡æ¯ï¼Œå› ä¸ºä¹‹å‰ç¼–è¯‘çš„æ—¶å€™æ²¡æœ‰å¸¦ä¸Š -g é€‰é¡¹ï¼Œæ²¡æœ‰è°ƒè¯•ä¿¡æ¯æ˜¯æ­£å¸¸çš„ï¼Œå®é™…ä¸Šå®ƒä¹Ÿä¸å½±å“è°ƒè¯• core æ–‡ä»¶ã€‚å› ä¸ºè°ƒè¯• core æ–‡ä»¶æ—¶ï¼Œç¬¦å·ä¿¡æ¯éƒ½æ¥è‡ªç¬¦å·è¡¨ï¼Œç”¨ä¸åˆ°è°ƒè¯•ä¿¡æ¯ã€‚ æŸ¥çœ‹å †æ ˆä½¿ç”¨ bt æˆ–è€… where å‘½ä»¤ æ­¤æ—¶ï¼Œframe addr(å¸§æ•°) æˆ–è€…ç®€å†™å¦‚ä¸Šï¼Œf 1 è·³è½¬åˆ° core å †æ ˆçš„ç¬¬ 1 å¸§ã€‚å› ä¸ºç¬¬ 0 å¸§æ˜¯ libc çš„ä»£ç ï¼Œå·²ç»ä¸æ˜¯æˆ‘ä»¬è‡ªå·±ä»£ç äº†ã€‚ å½“ç„¶ï¼Œç°å®ç¯å¢ƒä¸­ï¼Œcoredump çš„åœºæ™¯è‚¯å®šè¿œæ¯”è¿™ä¸ªå¤æ‚ï¼Œéƒ½æ˜¯é€»è¾‘éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ‰¾åˆ° coredump çš„ä½ç½®ï¼Œå†ç»“åˆä»£ç ä»¥åŠ core æ–‡ä»¶æ¨æµ‹ coredump çš„åŸå› ã€‚ ","date":"2022-03-10","objectID":"/2022-03-10-%E8%AE%BE%E7%BD%AE-coredump-%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84/:0:0","tags":["coredump"],"title":"è®¾ç½® coredump æ–‡ä»¶è·¯å¾„","uri":"/2022-03-10-%E8%AE%BE%E7%BD%AE-coredump-%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84/"},{"categories":["Programming","Trading"],"content":"åœ¨é‡‘èå¸‚åœºäº¤æ˜“ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è·å–ä¸¤ç±»è¡Œæƒ…ï¼š åŸºäºè®¢å•ã€æˆäº¤çš„é€ç¬”è¡Œæƒ… å¯¹è®¢å•è–„è¿›è¡Œåˆ‡ç‰‡å¾—åˆ°çš„å¿«ç…§è¡Œæƒ… æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä»¥ä¸Šæ•°æ®å¤åŸè®¢å•è–„ã€Œorderbookã€ã€‚ ","date":"2022-03-09","objectID":"/2022-03-09-xeng-%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/:0:0","tags":["orderbook","HFT"],"title":"xeng è®¾è®¡ä¸å®ç°","uri":"/2022-03-09-xeng-%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/"},{"categories":["Programming","Trading"],"content":" åˆ©ç”¨ TtickByTick","date":"2022-03-09","objectID":"/2022-03-09-xeng-%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/:1:0","tags":["orderbook","HFT"],"title":"xeng è®¾è®¡ä¸å®ç°","uri":"/2022-03-09-xeng-%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/"},{"categories":["Programming","Trading"],"content":" åˆ©ç”¨ Snapshot","date":"2022-03-09","objectID":"/2022-03-09-xeng-%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/:2:0","tags":["orderbook","HFT"],"title":"xeng è®¾è®¡ä¸å®ç°","uri":"/2022-03-09-xeng-%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/"},{"categories":["Programming","Trading"],"content":" Talk is cheap sliu: è¿™æ ·å•Šï¼Œå°±æ˜¯ä¹‹å‰æ¯ä¸€ä¸ªæ²¡æœ‰tradeçš„ä»·ä½ä¸Šï¼Œæˆ‘ä»¬æœ¬æ¥ç®—äº†ä¸€ä¸ªmax(snap1_vol-snap2_vol,0)è§†ä½œcxlï¼Œç°åœ¨æ–°åŠ ä¸€ä¸ªmax(snap2_vol-snap1_vol,0)è§†ä½œorderå§ è¿™æ ·ä¸€æ¥ï¼Œå‡å¦‚ä¸€ä¸ªä»·ä½çš„orderä»10åˆ°äº†20ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ç”¨ä¸€ä¸ª10çš„orderå»æ¶ˆä¸€ä¸‹outstanding ","date":"2022-03-09","objectID":"/2022-03-09-xeng-%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/:2:1","tags":["orderbook","HFT"],"title":"xeng è®¾è®¡ä¸å®ç°","uri":"/2022-03-09-xeng-%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/"},{"categories":["Programming","Trading"],"content":" Show me code è®¡ç®—ä¸¤ä¸ª snaps1ã€snaps2 ä¹‹é—´çš„ vwap è®¾ $\\Delta Volume = Volume_2 - Volume_1$ å¦‚æœ $\\Delta Volume = 0$ï¼Œ sliu: è®¡ç®— cxl çš„è®¢å•ï¼Œåˆ·æ–°ä¸€ä¸‹obï¼Œç„¶åç”¨ cxl å™¢ï¼æœ‰ä¸€ä¸ªç‚¹ï¼Œæˆ‘å¿½ç•¥äº†ï¼Œå¦‚æœå®Œå…¨æ²¡æœ‰Turnoverï¼Œä½†æ˜¯æŒ‚å•è¶…è¿‡äº†æˆ‘ä»¬çš„outstandingï¼Œå…¶å®ä¹Ÿåº”è¯¥æ’®åˆçš„ å¦åˆ™$\\Delta Volume \\neq 0$ï¼Œéœ€è¦è®¡ç®— vwap $$ \\begin{align} vwap \u0026= \\frac{\\Delta Turnover}{\\Delta Volume} \\newline \u0026= \\frac{Turnover_2 - Turnover_1}{Volume_2 - Volume_1}\\end{align} $$ æˆ‘ä»¬å¯ä»¥å¯¹æ¯” vwap ä¸ snaps1.ap1ï¼Œæ¥åˆ¤æ–­è¿™æ˜¯ä¸»åŠ¨ä¹°æ–¹å‘è¿˜æ˜¯ä¸»åŠ¨å–æ–¹å‘ï¼ˆç”¨æ¥æå– snap1 çš„ä»·æ ¼ï¼‰ã€‚åŒºåˆ†ä¸»åŠ¨ä¹°/ä¸»åŠ¨å–çš„ç›®çš„ï¼Œåœ¨äºæ‰¾åˆ°å“ªäº›æ˜¯ full_tradedï¼Œå“ªäº›æ˜¯ partial_traded çš„æƒ…å†µ if $vwap \\gt snaps1.ap1$ï¼Œåˆ¤æ–­ä¸ºä¸»åŠ¨ä¹°ï¼Œéœ€è¦æ‰¾åˆ°å–å•åºåˆ—ï¼ˆsnaps.ask_pxï¼‰: full ï¼šä» snaps1.ask_px[0] å¼€å§‹ç›´åˆ° snaps1.ask_px[i] \u003c vwap partï¼šsnaps1.ask_px[j] \u003e vwap ä¸”ä¸åœ¨ snap2.ask_px é‡Œé¢çš„ï¼Œä» snaps1.ask_px[j] \u003e vwap å¼€å§‹å¤„ç†ï¼Œé‡åˆ° snaps2.ask_px[j] \u003e= snaps1.ask_px[i] ä¸” snaps2.ask_qty[j] != 0 å°±åœæ­¢æœç´¢ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œä½¿ç”¨æœ€åé‡åˆ°çš„ snaps2.ask_qty[j] else if $snaps1.bp1 \\lt vwap \\lt snaps.ap1$ï¼Œç‰¹æ®Šæƒ…å†µï¼Œå‘ç°åºåˆ—éƒ½æ˜¯ç©ºçš„ï¼Œä½¿ç”¨ snap1.bp1 ä¸ snaps.ap1ï¼Œç„¶åè½¬åŒ–æˆç¬¬ä¸€ç§æƒ…å†µå¤„ç† else if $vwap \\lt snaps1.bp1$ï¼Œåˆ¤æ–­ä¸ºä¸»åŠ¨å–ï¼Œéœ€è¦æ‰¾åˆ°ä¹°å•åºåˆ—ï¼ˆsnaps1.bid_pxï¼‰: full ï¼šä» snaps1.bid_px[i] \u003c vwap å¼€å§‹ç›´åˆ° snaps1.bid_px[0] partï¼šsnaps1.ask_px[j] \u003e vwap ä¸”ä¸åœ¨ snap2.ask_px é‡Œé¢çš„ï¼Œä» snaps1.bid_px[j] \u003c vwap å¼€å§‹å¤„ç†ï¼Œé‡åˆ° snaps2.bid_px[j] \u003c= snaps1.bid_px[i] ä¸” snaps2.bid_qty[j] != 0 å°±åœæ­¢æœç´¢ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œä½¿ç”¨æœ€åé‡åˆ°çš„ snaps2.bid_qty[j] æˆ‘ä»¬çŸ¥é“ï¼Œ å¯¹äº full_trade çš„åºåˆ—ï¼Œå·²ç»æ¨ç®—å‡º trade ä¸ cxl çš„æƒ…å†µ (solve_equation) ä½†æ˜¯å¯¹äº part_trade çš„åºåˆ—ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä½¿ç”¨ snaps2 ä¸Šé¢çš„åŒä¸€ä¸ªä»·æ ¼æ¡£ä½çš„ qty æ¥è®¡ç®—ä» snaps1 å˜æˆ snaps2 è¿‡ç¨‹ä¸­å‘ç”Ÿçš„ cxl_qty æ ‡è®°ä¸º part_snaps_qty_vecï¼Œä¸”è®°å½• if (part_snaps_qty_vec.empty()) { rsp.cxl_qty = std::max(qty_vec[i] - rsp.trade_qty, 0); } else { rsp.cxl_qty = std::max(qty_vec[i] - rsp.trade_qty - part_snaps_qty_vec[i], 0); } è¿™æ ·ï¼Œæˆ‘ä»¬ä¸€å…±æœ‰ using px_qty_t = std::pair\u003cdouble/*px*/, int/*qty*/\u003e; std::vector\u003cpx_qty_t\u003e full_vec; std::vector\u003cpx_qty_t\u003e part_vec; // NOTE[20220317 14:57:42]: ç”¨æ¥ç¡®å®šå¯¹åº”ä»·ä½ä¸Šé¢çš„ cxl æ•°é‡ std::vector\u003cint\u003e part_snaps_qty_vec; double full_vwap {.0}; int full_idx { 0}; int part_vwap {.0}; int part_idx { 0}; è™šæ‹Ÿçš„ rsp æ•°æ®ç»“æ„ä¸º struct fake_rsp_t { double px {.0}; int order_qty {0}; // è®¢å•çš„æŒ‚å•æ•°é‡ï¼Œéœ€è¦ä¹˜ä»¥ q è¡¨ç¤ºè¿™ä¸ªè®¢å•æœ‰å¤šå°‘æ¦‚ç‡æ’åœ¨æˆ‘ä»¬è®¢å•å‰é¢ int trade_qty {0}; // int cxl_qty {0}; // int leaves_qty {0}; // å‰é¢ä¸€ä¸ª snaps å‰©ä½™çš„æ•°é‡ï¼Œè¡¨ç¤ºä¸€å®šä¼šæ’åœ¨æˆ‘ä»¬è®¢å•å‰é¢çš„æ•°é‡ bool is_long {false}; friend std::ostream\u0026 operator\u003c\u003c(std::ostream\u0026 os, const fake_rsp_t\u0026 rsp) { os \u003c\u003c \"px:\" \u003c\u003c rsp.px \u003c\u003c \", order_qty:\" \u003c\u003c rsp.order_qty \u003c\u003c \", trade_qty:\" \u003c\u003c rsp.trade_qty \u003c\u003c \", cxl_qty:\" \u003c\u003c rsp.cxl_qty \u003c\u003c \", leaves_qty:\" \u003c\u003c rsp.leaves_qty \u003c\u003c std::endl; return os; } }; æ’®åˆ æ’®åˆçš„å‰åŠéƒ¨åˆ†å°±æ˜¯ç”Ÿæˆè¿™äº›ä¸œè¥¿æ¥å’Œoutstandingæ’®åˆ ååŠéƒ¨åˆ†æ˜¯æˆ‘ä»¬è‡ªå·±çš„orderè¿›æ¥ï¼Œå…ˆå’Œæ–°obæ’®åˆï¼Œç”Ÿæˆrspå’Œoutstandingæ’®åˆ å¦‚æœå®Œäº†è¿˜æœ‰å‰©çš„ï¼Œå°±è®¡ç®—ä¸€ä¸ªwaitç„¶åè¿›å…¥outstanding é‚£ä¸ªæ—¶å€™çš„waitå°±æ˜¯max{0, vol_1 - trade - cxl} + max{0, vol_2 - max{0, vol_1 - trade - cxl}} * q max{0, vol_1 - trade - cxl} + max{0, vol_2 - max{0, vol_1 - trade - cxl}} * q é‡Œé¢å…¶å® max{0, vol_2 - max{0, vol_1 - trade - cxl}} å°±æ˜¯ä½ è¿™é‡Œçš„orderå§ lfangï¼šleaves_qty ç›¸å½“äºè¡¨ç¤ºä¸Šæ¬¡è¿˜å‰©å¤šå°‘è‚¯å®šæ’åœ¨æˆ‘ä»¬è®¢å•å‰é¢ï¼Œç„¶åå†ç”¨ä¸€ä¸ª q çš„æ¦‚ç‡è¡¨ç¤ºåœ¨æ–° snaps2 ä¸Šé¢çš„è®¢å•æ’åœ¨å‰é¢çš„å¯èƒ½æ€§ æ‰€ä»¥ wait_qty = rsp.leaves_qty + rsp.order_qty * q ","date":"2022-03-09","objectID":"/2022-03-09-xeng-%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/:2:2","tags":["orderbook","HFT"],"title":"xeng è®¾è®¡ä¸å®ç°","uri":"/2022-03-09-xeng-%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/"},{"categories":["Programming","Trading"],"content":" Ref How to manage a local order book correctly Open a stream to wss://stream.binance.com:9443/ws/bnbbtc@depth. Buffer the events you receive from the stream. Get a depth snapshot from https://api.binance.com/api/v3/depth?symbol=BNBBTC\u0026limit=1000 . Drop any event where u is \u003c= lastUpdateId in the snapshot. The first processed event should have U \u003c= lastUpdateId+1 AND u \u003e= lastUpdateId+1. While listening to the stream, each new eventâ€™s U should be equal to the previous eventâ€™s u+1. The data in each event is the absolute quantity for a price level. If the quantity is 0, remove the price level. Receiving an event that removes a price level that is not in your local order book can happen and is normal. ","date":"2022-03-09","objectID":"/2022-03-09-xeng-%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/:3:0","tags":["orderbook","HFT"],"title":"xeng è®¾è®¡ä¸å®ç°","uri":"/2022-03-09-xeng-%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/"},{"categories":["Programming"],"content":"so that NERDTree always opens in the current folder. set autochdir let NERDTreeChDirMode=2 nnoremap \u003cleader\u003en :NERDTree .\u003cCR\u003e With the 1st line, the working directory is always the one where the active buffer is located. With the 2nd line, I make sure the working directory is set correctly. With the 3rd line, I hit \u003cleader\u003en to open NERDTree. ","date":"2022-01-12","objectID":"/2022-01-12-nerdtree-%E8%87%AA%E5%8A%A8%E5%88%87%E6%8D%A2%E5%88%B0%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95/:0:0","tags":["Linux","vim","nerdtree"],"title":"NerdTree è‡ªåŠ¨åˆ‡æ¢åˆ°å½“å‰ç›®å½•","uri":"/2022-01-12-nerdtree-%E8%87%AA%E5%8A%A8%E5%88%87%E6%8D%A2%E5%88%B0%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95/"},{"categories":["Programming"],"content":"cin ä¸è¦æ˜æ–‡æ˜¾ç¤º","date":"2021-11-20","objectID":"/2021-11-20-linux-c-%E9%9A%90%E8%97%8F-cin-%E8%BE%93%E5%85%A5/","tags":["Linux","c++"],"title":"Linux c++ éšè— cin è¾“å…¥","uri":"/2021-11-20-linux-c-%E9%9A%90%E8%97%8F-cin-%E8%BE%93%E5%85%A5/"},{"categories":["Programming"],"content":"é€šè¿‡éšè—å®ç°ï¼Œå¯ä»¥å¾ˆå¥½çš„é¿å…æ‰§è¡Œå‘½ä»¤è¢«ç›‘æ§åˆ°ã€‚ ","date":"2021-11-20","objectID":"/2021-11-20-linux-c-%E9%9A%90%E8%97%8F-cin-%E8%BE%93%E5%85%A5/:0:0","tags":["Linux","c++"],"title":"Linux c++ éšè— cin è¾“å…¥","uri":"/2021-11-20-linux-c-%E9%9A%90%E8%97%8F-cin-%E8%BE%93%E5%85%A5/"},{"categories":["Programming"],"content":" mymain #include \u003ciostream\u003e #include \u003cstring\u003e #include \u003ctermios.h\u003e #include \u003cunistd.h\u003e using namespace std; int main() { termios oldt; tcgetattr(STDIN_FILENO, \u0026oldt); termios newt = oldt; newt.c_lflag \u0026= ~ECHO; tcsetattr(STDIN_FILENO, TCSANOW, \u0026newt); string passwd; getline(cin, passwd); cout \u003c\u003c passwd \u003c\u003c endl; return 0; }//main ","date":"2021-11-20","objectID":"/2021-11-20-linux-c-%E9%9A%90%E8%97%8F-cin-%E8%BE%93%E5%85%A5/:1:0","tags":["Linux","c++"],"title":"Linux c++ éšè— cin è¾“å…¥","uri":"/2021-11-20-linux-c-%E9%9A%90%E8%97%8F-cin-%E8%BE%93%E5%85%A5/"},{"categories":["Programming"],"content":" myssh #include \u003cstdio.h\u003e #include \u003cstdlib.h\u003e #include \u003csys/types.h\u003e #include \u003cunistd.h\u003e #include \u003cstring\u003e #include \u003ciostream\u003e #include \u003ctermios.h\u003e using namespace std; int main(void) { // ------------------------------------------------------------------- termios oldt; tcgetattr(STDIN_FILENO, \u0026oldt); termios newt = oldt; newt.c_lflag \u0026= ~ECHO; tcsetattr(STDIN_FILENO, TCSANOW, \u0026newt); std::string passwd; std::cout \u003c\u003c \"welcome: \"; getline(cin, passwd); std::string answer; for (const auto\u0026 e : {\"************\"}) answer += e; if (passwd != answer) { std::cout \u003c\u003c \"Bye!\" \u003c\u003c std::endl; return -1; } std::cout \u003c\u003c std::endl; tcsetattr(STDIN_FILENO, TCSANOW, \u0026oldt); // ------------------------------------------------------------------- std::string cmd; // std::cout \u003c\u003c cmd \u003c\u003c std::endl; system(cmd.c_str()); } ","date":"2021-11-20","objectID":"/2021-11-20-linux-c-%E9%9A%90%E8%97%8F-cin-%E8%BE%93%E5%85%A5/:2:0","tags":["Linux","c++"],"title":"Linux c++ éšè— cin è¾“å…¥","uri":"/2021-11-20-linux-c-%E9%9A%90%E8%97%8F-cin-%E8%BE%93%E5%85%A5/"},{"categories":["Programming"],"content":" mysync #include \u003cstdio.h\u003e #include \u003cstdlib.h\u003e #include \u003csys/types.h\u003e #include \u003cunistd.h\u003e #include \u003cstring\u003e #include \u003ciostream\u003e #include \u003ctermios.h\u003e using namespace std; int main(int argc, char* argv[]) { // ------------------------------------------------------------------- termios oldt; tcgetattr(STDIN_FILENO, \u0026oldt); termios newt = oldt; newt.c_lflag \u0026= ~ECHO; tcsetattr(STDIN_FILENO, TCSANOW, \u0026newt); std::string passwd; std::cout \u003c\u003c \"welcome: \"; getline(cin, passwd); std::string answer; for (const auto\u0026 e : {\"************\"}) answer += e; if (passwd != answer) { std::cout \u003c\u003c \"Bye!\" \u003c\u003c std::endl; return -1; } std::cout \u003c\u003c std::endl; tcsetattr(STDIN_FILENO, TCSANOW, \u0026oldt); // ------------------------------------------------------------------- std::string srcpath; std::cout \u003c\u003c \"srcpath: \"; std::cin \u003e\u003e srcpath; std::string destpath; std::cout \u003c\u003c \"destpath: \"; std::cin \u003e\u003e destpath; std::cout \u003c\u003c std::endl; std::string cmd; system(cmd.c_str()); } ","date":"2021-11-20","objectID":"/2021-11-20-linux-c-%E9%9A%90%E8%97%8F-cin-%E8%BE%93%E5%85%A5/:3:0","tags":["Linux","c++"],"title":"Linux c++ éšè— cin è¾“å…¥","uri":"/2021-11-20-linux-c-%E9%9A%90%E8%97%8F-cin-%E8%BE%93%E5%85%A5/"},{"categories":["Programming"],"content":"ç”±äº Realtek 2.5Gb ç½‘å¡æ¯”è¾ƒæ–°ï¼ŒCentOS æ— æ³•è¯†åˆ«å‡ºæ¥ï¼Œéœ€è¦å•ç‹¬æ‰‹åŠ¨å®‰è£…ã€‚","date":"2021-11-13","objectID":"/2021-11-13-centos-%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85-realtek-%E7%BD%91%E5%8D%A1/","tags":["CentOS","Realtek","ç½‘å¡","å†…æ ¸"],"title":"Centos æ‰‹åŠ¨å®‰è£… Realtek ç½‘å¡","uri":"/2021-11-13-centos-%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85-realtek-%E7%BD%91%E5%8D%A1/"},{"categories":["Programming"],"content":"ç”±äº CentOS7 æ— æ³•è¯†åˆ«æœ€æ–°çš„ Realtek ç½‘å¡ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡å•ç‹¬å®‰è£…ä¸€ä¸ªå†…æ ¸ç¨‹åºæ‰èƒ½ä½¿ç”¨ç½‘å¡ã€‚ ","date":"2021-11-13","objectID":"/2021-11-13-centos-%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85-realtek-%E7%BD%91%E5%8D%A1/:0:0","tags":["CentOS","Realtek","ç½‘å¡","å†…æ ¸"],"title":"Centos æ‰‹åŠ¨å®‰è£… Realtek ç½‘å¡","uri":"/2021-11-13-centos-%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85-realtek-%E7%BD%91%E5%8D%A1/"},{"categories":["Programming"],"content":" å®‰è£…ä¾èµ– elrepo-release-7.0-5.el7.elrepo.noarch.rpm kernel-3.10.0-1160.el7.x86_64.rpm kmod-r8125-9.003.05-1.el7_8.elrepo.x86_64.rpm linux-firmware-20200421-79.git78c0348.el7.noarch.rpm rpm -Uvh .*rpm reboot ","date":"2021-11-13","objectID":"/2021-11-13-centos-%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85-realtek-%E7%BD%91%E5%8D%A1/:1:0","tags":["CentOS","Realtek","ç½‘å¡","å†…æ ¸"],"title":"Centos æ‰‹åŠ¨å®‰è£… Realtek ç½‘å¡","uri":"/2021-11-13-centos-%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85-realtek-%E7%BD%91%E5%8D%A1/"},{"categories":["Programming"],"content":" è¯†åˆ«ç½‘å¡ nmtui Reference è¿™ä¸ªæ›´ç®€å•ï¼šCentoså®‰è£…æ‹“å±•PCIeç½‘å¡é©±åŠ¨ è¶…è´´å¿ƒï¼‰Centos7 å®‰è£… 2.5G ç½‘å¡é©±åŠ¨ï¼ˆRealtek 3000ï¼‰_éŸ³ç¨‹çš„åšå®¢ CentOS æ·»åŠ ç½‘å¡ æ²¡æœ‰å¯¹åº”ç½‘å¡é…ç½®æ–‡ä»¶è§£å†³æ–¹æ³• ","date":"2021-11-13","objectID":"/2021-11-13-centos-%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85-realtek-%E7%BD%91%E5%8D%A1/:2:0","tags":["CentOS","Realtek","ç½‘å¡","å†…æ ¸"],"title":"Centos æ‰‹åŠ¨å®‰è£… Realtek ç½‘å¡","uri":"/2021-11-13-centos-%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85-realtek-%E7%BD%91%E5%8D%A1/"},{"categories":["Programming"],"content":"python æœ¬åœ°å®‰è£… requirements.txt","date":"2021-08-23","objectID":"/2021-08-23-python-%E6%9C%AC%E5%9C%B0%E5%AE%89%E8%A3%85-requirements.txt/","tags":["Linux","python","pip"],"title":"python æœ¬åœ°å®‰è£… requirements.txt","uri":"/2021-08-23-python-%E6%9C%AC%E5%9C%B0%E5%AE%89%E8%A3%85-requirements.txt/"},{"categories":["Programming"],"content":" # pip download -r requirements.txt # pip install --no-index --find-links=./ -r requirements.txt pybind11 pandas requests clickhouse_driver==0.2.1 paramiko loguru xlrd==1.2.0 clickhouse-cli ","date":"2021-08-23","objectID":"/2021-08-23-python-%E6%9C%AC%E5%9C%B0%E5%AE%89%E8%A3%85-requirements.txt/:0:0","tags":["Linux","python","pip"],"title":"python æœ¬åœ°å®‰è£… requirements.txt","uri":"/2021-08-23-python-%E6%9C%AC%E5%9C%B0%E5%AE%89%E8%A3%85-requirements.txt/"},{"categories":["Programming"],"content":"Centos å®‰è£…ä¸ä½¿ç”¨ clickhouse æ•°æ®åº“","date":"2021-08-20","objectID":"/2021-08-20-clickhouse-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/","tags":["Linux","Centos","clickhouse","ch","æ•°æ®åº“"],"title":"Clickhouse å®‰è£…ä¸ä½¿ç”¨","uri":"/2021-08-20-clickhouse-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["Programming"],"content":"Clickhouse æ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„åˆ—å¼å­˜å‚¨æ•°æ®åº“ã€‚ å®‰è£…å‚è€ƒå®˜ç½‘å®‰è£…é¡µé¢ã€‚ ","date":"2021-08-20","objectID":"/2021-08-20-clickhouse-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:0:0","tags":["Linux","Centos","clickhouse","ch","æ•°æ®åº“"],"title":"Clickhouse å®‰è£…ä¸ä½¿ç”¨","uri":"/2021-08-20-clickhouse-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["Programming"],"content":" æºä»£ç å®‰è£…å¯ä»¥é€šè¿‡ä¸‹è½½æºä»£ç çš„æ–¹å¼è¿›è¡Œå®‰è£…ï¼Œç½‘å€ï¼š # export LATEST_VERSION=`curl https://api.github.com/repos/ClickHouse/ClickHouse/tags 2\u003e/dev/null | grep -Eo '[0-9]+\\.[0-9]+\\.[0-9]+\\.[0-9]+' | head -n 1` export LATEST_VERSION=21.8.4.51 wget https://repo.clickhouse.tech/tgz/stable/clickhouse-common-static-${LATEST_VERSION}.tgz wget https://repo.clickhouse.tech/tgz/stable/clickhouse-common-static-dbg-${LATEST_VERSION}.tgz wget https://repo.clickhouse.tech/tgz/stable/clickhouse-server-${LATEST_VERSION}.tgz wget https://repo.clickhouse.tech/tgz/stable/clickhouse-client-${LATEST_VERSION}.tgz tar -xzvf clickhouse-common-static-$LATEST_VERSION.tgz sudo bash clickhouse-common-static-$LATEST_VERSION/install/doinst.sh tar -xzvf clickhouse-common-static-dbg-$LATEST_VERSION.tgz sudo bash clickhouse-common-static-dbg-$LATEST_VERSION/install/doinst.sh tar -xzvf clickhouse-server-$LATEST_VERSION.tgz sudo bash clickhouse-server-$LATEST_VERSION/install/doinst.sh sudo /etc/init.d/clickhouse-server start tar -xzvf clickhouse-client-$LATEST_VERSION.tgz sudo bash clickhouse-client-$LATEST_VERSION/install/doinst.sh é…ç½® server çš„é…ç½®æ–‡ä»¶ä½äºï¼š/etc/clickhouse-server config.xml users.xml client ","date":"2021-08-20","objectID":"/2021-08-20-clickhouse-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:1:0","tags":["Linux","Centos","clickhouse","ch","æ•°æ®åº“"],"title":"Clickhouse å®‰è£…ä¸ä½¿ç”¨","uri":"/2021-08-20-clickhouse-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["Programming"],"content":" è®¾ç½®è®¿é—® IPé»˜è®¤åªèƒ½åœ¨æœ¬æœºè®¿é—®ï¼Œå¯ä»¥ä¿®æ”¹ /etc/clickhouse-server/config.xml \u003c!-- Default values - try listen localhost on IPv4 and IPv6. --\u003e \u003c!-- \u003clisten_host\u003e::1\u003c/listen_host\u003e \u003clisten_host\u003e127.0.0.1\u003c/listen_host\u003e --\u003e \u003c!-- Default values - try listen localhost on IPv4 and IPv6. --\u003e \u003clisten_host\u003e::1\u003c/listen_host\u003e \u003clisten_host\u003e0.0.0.0\u003c/listen_host\u003e ","date":"2021-08-20","objectID":"/2021-08-20-clickhouse-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:2:0","tags":["Linux","Centos","clickhouse","ch","æ•°æ®åº“"],"title":"Clickhouse å®‰è£…ä¸ä½¿ç”¨","uri":"/2021-08-20-clickhouse-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["Programming"],"content":" æ·»åŠ  admin ç®¡ç†å‘˜å–æ¶ˆç”¨æˆ·ç®¡ç†çš„æ³¨é‡Šï¼š \u003c!-- User can create other users and grant rights to them. --\u003e \u003c!-- \u003caccess_management\u003e1\u003c/access_management\u003e --\u003e \u003c!-- User can create other users and grant rights to them. --\u003e \u003caccess_management\u003e1\u003c/access_management\u003e ## ä½¿ç”¨ default è´¦æˆ·ç™»å½•å¹¶åˆ›å»ºå…¶ä»–ç”¨æˆ· clickhouse-client -h 127.0.0.1 -u default --password ilove ## åˆ›å»ºè´¦æˆ· CREATE USER lfang IDENTIFIED WITH plaintext_password BY 'XIA...qq' DEFAULT ROLE ALL; ## æƒé™ GRANT all ON default to lfang; ## ä½¿ç”¨æ–°è´¦æˆ·ç™»å½•ï¼Œå¯ä»¥çœ‹åˆ°æ•°æ®åº“äº† clickhouse-client -h 127.0.0.1 -u lfang --password data101 :) show databases; SHOW DATABASES Query id: 005f9f65-7183-4dcc-b3b6-5187685c168c â”Œâ”€nameâ”€â”€â”€â”€â” â”‚ default â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ 1 rows in set. Elapsed: 0.003 sec. ä½¿ç”¨ clickhouse-client -h 127.0.0.1 -u default --password ilove ~/anaconda3/bin/python3 -m pip install clickhouse-cli ~/anaconda3/bin/clickhouse-cli -h 127.0.0.1 -p8123 -u default -Pilove ~/anaconda3/bin/clickhouse-cli -h 192.168.1.101 -p8123 -u default -Pilove show databases; æŠ€å·§","date":"2021-08-20","objectID":"/2021-08-20-clickhouse-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/:3:0","tags":["Linux","Centos","clickhouse","ch","æ•°æ®åº“"],"title":"Clickhouse å®‰è£…ä¸ä½¿ç”¨","uri":"/2021-08-20-clickhouse-%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"},{"categories":["Programming"],"content":"Linux è§£å‹ zip é‡åˆ°ä¸­æ–‡ä¹±ç çš„è§£å†³æ–¹æ³•ã€‚","date":"2021-08-11","objectID":"/2021-08-11-linux-%E8%A7%A3%E5%8E%8B-zip-%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81/","tags":["Linux","ubuntu","zip","è§£å‹","ä¹±ç ","ä¸­æ–‡"],"title":"Linux è§£å‹ zip ä¸­æ–‡ä¹±ç ","uri":"/2021-08-11-linux-%E8%A7%A3%E5%8E%8B-zip-%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81/"},{"categories":["Programming"],"content":" ä¸€æ‹›è§£å†³ unar ","date":"2021-08-11","objectID":"/2021-08-11-linux-%E8%A7%A3%E5%8E%8B-zip-%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81/:1:0","tags":["Linux","ubuntu","zip","è§£å‹","ä¹±ç ","ä¸­æ–‡"],"title":"Linux è§£å‹ zip ä¸­æ–‡ä¹±ç ","uri":"/2021-08-11-linux-%E8%A7%A3%E5%8E%8B-zip-%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81/"},{"categories":["Programming"],"content":" æ— æ•ˆæ–¹æ³•windowsä¸­å‹ç¼©çš„zipåŒ…ï¼Œå¦‚æœå«æœ‰ä¸­æ–‡ï¼Œåœ¨linuxä¸‹è§£å‹æ—¶ä¼šå‡ºç°ä¹±ç ï¼Œåˆšæ‰å°±å‡ºç°äº†è¿™ä¸ªé—®é¢˜ã€‚ æœå¾—ä¸€ä¸ªå¸–å­ï¼Œ è§£å†³äº†ä¹±ç é—®é¢˜ã€‚å¸–å­æ¥æºï¼š http://www.ubuntuchina.com/viewthread.php?tid=7356ã€‚ ubuntu linux å‹ç¼©æ–‡ä»¶zipä¸­æ–‡ä¹±ç é—®é¢˜åœ¨windowsä¸Šå‹ç¼©çš„æ–‡ä»¶ï¼Œæ˜¯ä»¥ç³»ç»Ÿé»˜è®¤ç¼–ç ä¸­æ–‡æ¥å‹ç¼©æ–‡ä»¶ã€‚ç”±äºzipæ–‡ä»¶ä¸­æ²¡æœ‰å£°æ˜å…¶ç¼–ç ï¼Œæ‰€ä»¥linuxä¸Šçš„unzipä¸€èˆ¬ä»¥é»˜è®¤ç¼–ç è§£å‹ï¼Œä¸­æ–‡æ–‡ä»¶åä¼šå‡ºç°ä¹±ç ã€‚ è™½ç„¶2005å¹´å°±æœ‰äººæŠŠè¿™æŠ¥å‘Šä¸ºbug, ä½†æ˜¯info-zipçš„å®˜æ–¹ç½‘ç«™æ²¡æœ‰æŠŠè‡ªåŠ¨è¯†åˆ«ç¼–ç åˆ—å…¥è®¡åˆ’ï¼Œå¯èƒ½ä»–ä»¬ä¸è®¤ä¸ºè¿™æ˜¯ä¸ªé—®é¢˜ã€‚Sunå¯¹javaä¸­å­˜åœ¨Nå¹´çš„zipç¼–ç é—®é¢˜ï¼Œé‡‡ç”¨äº†åŒæ ·çš„å¤„ç†æ–¹å¼ã€‚ æœ‰2ç§æ–¹å¼è§£å†³é—®é¢˜ï¼š é€šè¿‡unzipè¡Œå‘½ä»¤è§£å‹ï¼ŒæŒ‡å®šå­—ç¬¦é›† unzip -O CP936 xxx.zip (ç”¨GBK, GB18030ä¹Ÿå¯ä»¥) æœ‰è¶£çš„æ˜¯unzipçš„manualä¸­å¹¶æ— è¿™ä¸ªé€‰é¡¹çš„è¯´æ˜, unzip â€“helpå¯¹è¿™ä¸ªå‚æ•°æœ‰ä¸€è¡Œç®€å•çš„è¯´æ˜ã€‚ åœ¨ç¯å¢ƒå˜é‡ä¸­ï¼ŒæŒ‡å®šunzipå‚æ•°ï¼Œæ€»æ˜¯ä»¥æŒ‡å®šçš„å­—ç¬¦é›†æ˜¾ç¤ºå’Œè§£å‹æ–‡ä»¶ /etc/environmentä¸­åŠ å…¥2è¡Œ UNZIP=\"-O CP936\" ZIPINFO=\"-O CP936\" è¿™æ ·Gnomeæ¡Œé¢çš„å½’æ¡£æ–‡ä»¶ç®¡ç†å™¨(file-roller)å¯ä»¥æ­£å¸¸ä½¿ç”¨unzipè§£å‹ä¸­æ–‡ï¼Œä½†æ˜¯file-rolleræœ¬èº«å¹¶ä¸èƒ½è®¾ç½®ç¼–ç ä¼ é€’ç»™unzipã€‚ é‡‡ç”¨äº†ä¸Šé¢çš„ç¬¬ä¸€ä¸ªæ–¹æ³•ï¼Œé—®é¢˜è§£å†³ã€‚ å¦ä¸€æ–¹æ³•ä¸ºé‡‡ç”¨javaçš„jarå‘½ä»¤è§£å‹zipåŒ… JAR è§£å‹ jar xvf file.name ","date":"2021-08-11","objectID":"/2021-08-11-linux-%E8%A7%A3%E5%8E%8B-zip-%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81/:2:0","tags":["Linux","ubuntu","zip","è§£å‹","ä¹±ç ","ä¸­æ–‡"],"title":"Linux è§£å‹ zip ä¸­æ–‡ä¹±ç ","uri":"/2021-08-11-linux-%E8%A7%A3%E5%8E%8B-zip-%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81/"},{"categories":["Programming"],"content":"Rstudio with ldap","date":"2021-08-11","objectID":"/2021-08-11-rstudio-server-with-ldap/","tags":["Rstudio","ldap"],"title":"Rstudio server with ldap","uri":"/2021-08-11-rstudio-server-with-ldap/"},{"categories":["Programming"],"content":"To install Rstudio in CentOS system, we need to run following commands: wget https://download2.rstudio.org/server/centos7/x86_64/rstudio-server-rhel-1.4.1717-x86_64.rpm yum install rstudio-server-rhel-1.4.1717-x86_64.rpm sudo rstudio-server restart sudo cp /etc/pam.d/login /etc/pam.d/rstudio ","date":"2021-08-11","objectID":"/2021-08-11-rstudio-server-with-ldap/:0:0","tags":["Rstudio","ldap"],"title":"Rstudio server with ldap","uri":"/2021-08-11-rstudio-server-with-ldap/"},{"categories":["Programming"],"content":"ä½¿ç”¨ frp é…åˆ godday å®ç°å†…ç½‘æœåŠ¡ç›´æ¥è§£ææˆäºŒçº§åŸŸåã€‚ godday åŸŸåè§£ægodaddy æä¾›äº†æ³›åŸŸåè§£æï¼Œå³é€šè¿‡äºŒçº§åŸŸåå³å¯åŒ¹é…åœ¨æœåŠ¡å™¨ç‰¹å®šç«¯å£è¿è¡Œçš„åå°æœåŠ¡ï¼Œå¦‚ 8080 å¯¹åº”çš„ gitlab ç«¯å£æœåŠ¡ã€‚ ä½¿ç”¨ godaddy çš„ DNS Management é¢æ¿ï¼Œå¢åŠ ä¸€æ¡åŸŸå ç±»å‹ åç§° å€¼ TTL æ“ä½œ A @ Parked 600 ç§’ ç¼–è¾‘ A * 80.251.219.73 999999999 ç§’ godaddy åŸŸåè§£æ vps å¼€å¯ 80,443,7500 ç«¯å£ä¸ºäº†èƒ½å¤Ÿåœ¨æµè§ˆå™¨æ”¯æŒç›´æ¥æ‰“å¼€ç½‘é¡µåœ°å€ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ vps ä¸Šè¿è¡Œçš„ frp 80 ç«¯å£å»è‡ªåŠ¨åŒ¹é…ç›¸å…³çš„è½¬å‘ç«¯å£ã€‚è¿™æ ·ï¼Œåœ¨å®¢æˆ·ç«¯ï¼Œåªéœ€è¦è®°ä½ç›¸åº”çš„äºŒçº§åŸŸåå³å¯ã€‚ systemctl start firewalld.service ## http firewall-cmd --zone=public --add-port=80/tcp --permanent ## https firewall-cmd --zone=public --add-port=443/tcp --permanent ## frp ç®¡ç†ç«¯å£ firewall-cmd --zone=public --add-port=7500/tcp --permanent systemctl stop firewalld.service frps è®¾ç½®åœ¨æœåŠ¡å™¨ä¸Šé¢ï¼Œè®¾ç½® frps.ini [common] # A literal address or host name for IPv6 must be enclosed # in square brackets, as in \"[::1]:80\", \"[ipv6-host]:http\" or \"[ipv6-host%zone]:80\" bind_addr = 0.0.0.0 bind_port = 7000 # udp port to help make udp hole to penetrate nat #bind_udp_port = 9001 # udp port used for kcp protocol, it can be same with 'bind_port' # if not set, kcp is disabled in frps #kcp_bind_port = 9000 # specify which address proxy will listen for, default value is same with bind_addr # proxy_bind_addr = 127.0.0.1 # if you want to support virtual host, you must set the http port for listening (optional) # Note: http port and https port can be same with bind_port vhost_http_port = 80 vhost_https_port = 433 # response header timeout(seconds) for vhost http server, default is 60s # vhost_http_timeout = 60 # set dashboard_addr and dashboard_port to view dashboard of frps # dashboard_addr's default value is same with bind_addr # dashboard is available only if dashboard_port is set dashboard_addr = 0.0.0.0 dashboard_port = 7500 # dashboard user and passwd for basic auth protect, if not set, both default value is admin dashboard_user = ********* dashboard_pwd = ********* # dashboard assets directory(only for debug mode) # assets_dir = ./static # console or real logFile path like ./frps.log #log_file = ./frps.log # trace, debug, info, warn, error log_level = trace log_max_days = 3 # disable log colors when log_file is console, default is false disable_log_color = false # auth token token = ********* # heartbeat configure, it's not recommended to modify the default value # the default value of heartbeat_timeout is 90 # heartbeat_timeout = 90 # only allow frpc to bind ports you list, if you set nothing, there won't be any limit #allow_ports = 5000-5010,8080 # pool_count in each proxy will change to max_pool_count if they exceed the maximum value max_pool_count = 10 # max ports can be used for each client, default value is 0 means no limit max_ports_per_client = 0 # if subdomain_host is not empty, you can set subdomain when type is http or https in frpc's configure file # when subdomain is test, the host used by routing is test.frps.com subdomain_host = williamlfang.com # if tcp stream multiplexing is used, default is true tcp_mux = true # custom 404 page for HTTP requests # custom_404_page = /path/to/404.html [plugin.user-manager] #addr = 127.0.0.1:9000 #path = /handler #ops = Login [plugin.port-manager] #addr = 127.0.0.1:9001 #path = /handler #ops = NewProxy ç„¶åè¿è¡Œ nohup ./frps -c frps.ini \u0026 ç°åœ¨ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥ç™»å½•ç½‘å€ï¼šhttp://frp.williamlfang.com:7500/ ï¼Œå¯è§†åŒ–çš„ç®¡ç† frp çª—å£äº†ã€‚ frpç®¡ç†ç•Œé¢ frpc è®¾ç½®åœ¨å®¢æˆ·ç«¯è®¾ç½® frpc [common] server_addr = frp.williamlfang.com server_port = 7000 token = [ssh135] type = tcp local_ip = 192.168.1.135 local_port = 22 remote_port = 6135 [ssh199] type = tcp local_ip = 192.168.1.199 local_port = 22 remote_port = 6199 [ssh135_gitlab] type = http local_ip = 192.168.1.135 local_port = 58080 subdomain = gitlab [ssh135_docker] type = http local_ip = 192.168.1.135 local_port = 5000 subdomain = docker [ssh135_docker_web] type = http local_ip = 192.168.1.135 local_port = 5001 subdomain = dockerweb è¿™é‡Œçš„å…³é”®æ­¥éª¤æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦æŠŠè¿œç¨‹çš„ ``server_addrè®¾ç½®æˆfrp.williamlfang.comï¼Œè¿™ä¸ªæ˜¯ä¸€çº§åŸŸåï¼Œç„¶åé€šè¿‡åº•ä¸‹çš„äºŒçº§åŸŸå gitlab` æ‰¾åˆ°å¯¹åº”çš„ç«¯å£æœåŠ¡ã€‚ å¯ä»¥è¯•ç€æ‰“å¼€ http://gitlab.williamlfang.com/ï¼Œå‘ç°ä¸éœ€è¦è®°ä½ç«¯å£ï¼Œå³å¯è®¿é—®æœåŠ¡å™¨çš„ gitlab æœåŠ¡é¡¹ç›®äº†ã€‚ gitlab å¦‚ä½• cloneç”±äº gitlab æ˜¯å¤„ç†å½“å‰å†…éƒ¨ç½‘ç»œï¼Œæ— æ³•ç›´æ¥é€šè¿‡ ssh è¿›è¡Œ git cloneï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®š https çš„å½¢å¼ï¼ŒæŠŠç›¸åº”çš„ç«¯å£è½¬å‘å‡ºæ¥ã€‚è¿™é‡Œï¼Œhttp://192","date":"2020-09-11","objectID":"/archives/2020-09-11-frp-%E5%AE%9E%E7%8E%B0%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90/:0:0","tags":["frp","godaddy","å†…ç½‘","ç©¿é€","ç«¯å£","åŸŸå","è§£æ","ç½‘ç«™"],"title":"frp å®ç°åŸŸåè§£æ","uri":"/archives/2020-09-11-frp-%E5%AE%9E%E7%8E%B0%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90/"},{"categories":["Programming"],"content":"ä¾¯æ·è€å¸ˆåœ¨çº¿æ•™å­¦ï¼šC++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹çš„è¯¾å ‚ç¬”è®°ã€‚ ä»‹ç»","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:0:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" è¯¾ç¨‹ç›®æ ‡ä¾¯æ·è€å¸ˆåœ¨æ•´ä¸ªè¯¾ç¨‹çš„è®²æˆè¿‡ç¨‹ä¸­ï¼Œä¸€ç›´éƒ½éå¸¸å¼ºè°ƒã€Œå¤§æ°”çš„ç¼–ç¨‹ä¹ æƒ¯ã€ï¼Œå³ä»å®è§‚è®¾è®¡ã€å…¨å±€æŠŠæ¡ï¼Œç„¶åå†ä»å¾®è§‚ç¼–å†™ã€è®¤çœŸè°ƒè¯•çš„ç¼–ç¨‹é£æ ¼ã€‚è¿™ä¸€ç‚¹éå¸¸é‡è¦ï¼Œå°¤å…¶å¯¹äºå¤§å‹çš„è½¯ä»¶å·¥ç¨‹ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦åœ¨å¤§å±€ä¸Šè¿›è¡Œæ·±åº¦çš„æ€è€ƒä¸è®¾è®¡ï¼Œå¹¶ä¸”åœ¨ç»†èŠ‚ä¸Šæ³¨é‡å“è´¨ï¼Œæ‰èƒ½ç¼–å†™å‡ºç¨³å¥è€ŒæŒç»­è¿è¡Œçš„ç¨‹åºã€‚ ","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:1:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" ç°ä»£ C++ç°ä»£c++ ä» C++11 å¼€å§‹ï¼Œäººä»¬å¼€å§‹è®¤è¯†åˆ°è¿™ä¸ªå¤è€çš„ç¼–ç¨‹è¯­è¨€ä¼¼ä¹ç„•å‘å‡ºæ–°çš„ç”Ÿå‘½ï¼Œæ—¢æ³¨é‡ç¨‹åºçš„è¿è¡Œæ•ˆç‡ï¼ˆä¸å¦¥åï¼‰ã€ä¹Ÿå¼€å§‹å…³æ³¨ç¨‹åºçŒ¿çš„ç¼–ç¨‹æ•ˆç‡ï¼Œæä¾›äº†æ›´å¤šçš„ã€æ›´åŠ çµæ´»çš„ç¼–ç¨‹è¯­è¨€å†…å®¹çš„ç‰¹å¾ï¼Œå¦‚ autoã€lambdaã€thread å¤šçº¿ç¨‹ç­‰ï¼Œæ—¨åœ¨ä¸ºç¨‹åºçŒ¿æä¾›æ›´åŠ å‹å¥½çš„ç¼–ç¨‹ç¯å¢ƒã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¸¸å¸¸è¯´ï¼ŒC++11 æ˜¯ç°ä»£åŒ–çš„ C++ å‡çº§ç‰ˆã€‚ æˆ‘åŸæ¥çš„å¤§å­¦æœ¬ç§‘å­¦ä¹ çš„æ˜¯ c ç¼–ç¨‹è¯­è¨€ï¼Œåé¢ä½¿ç”¨çš„ä¸»è¦ä¹Ÿæ˜¯é¢å‘è¿‡ç¨‹çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¦‚ Rã€Matlabã€‚ä»æ€ç»´æ–¹å¼æ¥çœ‹ï¼Œè¿™ç§é¢å‘è¿‡ç¨‹çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ€ç»´çš„é€»è¾‘æ€§æ›´å¼ºï¼Œè¦æ±‚ä½¿ç”¨è€…èƒ½å¤Ÿå®ç°æŠŠè§£å†³é—®é¢˜çš„æ€è·¯æƒ³æ¸…æ¥šï¼Œç„¶åå®‰è£…ä¸€å®šçš„é€»è¾‘æµç¨‹è¿›è¡Œç¼–å†™ç›¸åº”çš„ç¨‹åºå¤„ç†è¿‡ç¨‹ã€‚ç›¸åï¼Œå¯¹äºé¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¦‚ C++ã€Javaï¼Œåˆ™æ˜¯æ€ç»´çš„æŠ½è±¡æ€§æ›´å¼ºï¼Œéœ€è¦æŠŠå…·ä½“çš„é—®é¢˜æŠ½è±¡æˆå¯å¤„ç†çš„å¯¹è±¡ï¼Œç„¶åå†èµ‹äºˆå¯¹è±¡ä¸€å®šçš„å¯æ“ä½œçš„é€»è¾‘ã€‚ æˆ‘ä»¬æ— æ³•è¯´åˆ°åº•æ˜¯é¢å‘è¿‡ç¨‹çš„ç¼–ç¨‹è¯­è¨€ã€è¿˜æ˜¯é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œå“ªç§æ›´å¥½ã€‚æˆ‘ä»¬åªèƒ½è¯´ï¼Œä¸åŒçš„åº”ç”¨åœºæ™¯ä¸‹ï¼Œä¸åŒçš„ç¼–ç¨‹è¯­è¨€å„æœ‰åˆ©å¼Šã€‚ä»è¿™å‡ å¹´ C++ è¯­è¨€çš„å‘å±•è½¨è¿¹ä¸Šçœ‹ï¼Œæˆ‘ä»¬æ›´å‘ç°å…¶ä¸ä»…ä»…æ˜¯ä½œä¸ºä¸€é—¨ç¼–ç¨‹è¯­è¨€å·¥å…·ä½¿ç”¨ï¼Œæ›´æ˜¯ä¸ºç¨‹åºå‘˜æä¾›äº†ä¸€ç§ç†è§£è®¡ç®—æœºçš„æ€ç»´æ–¹å¼ï¼Œé‚£å°±æ˜¯ä»åº•å±‚ç¡¬ä»¶æ˜ å°„æŠ½è±¡çš„å¯¹è±¡ã€ä»¥ç¼–è¯‘å™¨çš„æ€è€ƒæ–¹å¼æ¥ç†è§£ç¨‹åºçš„è¿è¡Œæ–¹å¼ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ›´å¥½çš„ç†è§£æˆ‘ä»¬æ‰€å†™çš„ç¨‹åºæ˜¯å¦‚ä½•åœ¨è®¡ç®—æœºå†…éƒ¨å·¥ä½œï¼Œæ˜¯å¦‚ä½•ä¸€æ­¥ä¸€æ­¥çš„æ‰§è¡Œæˆ‘ä»¬è®¾è®¡çš„ç®—æ³•æ­¥éª¤ã€‚å› æ­¤ï¼Œ C++11 ä¹Ÿæˆä¸ºäº†æˆ‘ç›®å‰ä¸»è¦çš„å¼€å‘è¯­è¨€ã€‚ c-vs-c++ å¤´æ–‡ä»¶éœ€è¦æä¾›ã€Œå¤´æ–‡ä»¶ä¿æŠ¤ã€(header guard) #ifndef __CLASS_NAME__H__ #define __CLASS_NAME__H__ ... #endif // __CLASS_NAME__H__ ç±»è®¾è®¡çš„ 6 å¤§é‡‘åˆš æ„é€ å‡½æ•° ææ„å‡½æ•° æ‹·è´æ„é€  æ‹·è´èµ‹å€¼ ç§»åŠ¨æ„é€  ç§»åŠ¨èµ‹å€¼ c++ é¢å‘å¯¹è±¡çš„ç¼–ç¨‹é£æ ¼æŒ‡ä¸¤ä¸ªæ–¹é¢çš„æ„æ€ï¼š ã€Œobject-basedã€ï¼šå³ä»¥å¯¹è±¡ä½œä¸ºæ“ä½œçš„åŸºæœ¬å•ä½: class with pointer member Class without pointer member ã€Œobject-orientedã€ï¼šå³æœ‰ä¸åŒçš„ç±»æ„æˆçš„å±‚æ¬¡ä½“ç³»: inheritanceï¼šè¡¨ç¤º ã€Œis-aã€ compositionï¼šè¡¨ç¤º ã€Œhas-aã€ delegationï¼š oop ","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:2:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" compositioncomposition æ¨¡å¼ä¸‹ï¼Œcontainer ä¸ component çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä¸€æ ·çš„ã€‚ ","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:3:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" æ„é€ ä¸ææ„é¡ºåº æ„é€ ç”±å†…å‘å¤– ææ„ç”±å¤–å‘å†… composition ","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:3:1","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" delegation(pImpl) Body-handle pImplï¼špointer-to-implementation composition by reference åœ¨ delegation æ¨¡å¼ä¸‹ï¼Œbody ä¸ handle çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä¸ä¸€æ ·çš„ï¼Œhandle æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œç‹¬ç«‹äº body ä¹‹å¤–ã€‚ delegation ","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:4:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" inheritanceinheritance ","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:5:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" æ„é€ ä¸ææ„é¡ºåº æ„é€ ç”±å†…å‘å¤– ææ„ç”±å¤–å‘å†… inheritance æ„é€ å‡½æ•°","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:5:1","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" åˆå§‹åŒ–åˆ—è¡¨initializer-list å…ˆäºå…¶ä»–æ„é€ ï¼Œèƒ½å¤Ÿä¿è¯æ„é€ å‡½æ•°çš„å®ç°ï¼Œè¿™å°¤å…¶å¯¹äºç±»ç»§æ‰¿ï¼Œå¯èƒ½ä¿è¯åŸºç±»åˆå§‹åŒ–ã€‚ class Strategy { public: Strategy(std::string id): strategyid(id) // åˆå§‹åŒ–åˆ—è¡¨ { } }; ","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:6:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" æ„é€ å‡½æ•°æ”¾åœ¨ privateä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä¼šæŠŠå„ç§å½¢å¼çš„æ„é€ å‡½æ•°(ctor)æ”¾åœ¨ public å£°æ˜èŒƒå›´å†…ï¼Œè¡¨ç¤ºå¤–éƒ¨å¯ä»¥è°ƒç”¨æ„é€ å‡½æ•°ã€‚ä½†æ˜¯ï¼Œä¹Ÿä¸€ç§è®¾è®¡æ¨¡å¼å«åš Singletonï¼Œåªå…è®¸é€šè¿‡å‡½æ•°è°ƒç”¨æ¥å®ç°æ„é€ å‡½æ•°ï¼Œè¿™æ—¶ï¼Œè¦æ±‚æˆ‘ä»¬æŠŠæ„é€ å‡½æ•°æ”¾åœ¨ private èŒƒå›´å†…ã€‚ ctor-singleton ææ„å‡½æ•°å¯¹äºåŠ¨æ€å†…å­˜åˆ†é…çš„æˆå‘˜å˜é‡ï¼Œéœ€è¦åœ¨ææ„å‡½æ•°ä¸­è¿›è¡Œé‡Šæ”¾ã€‚ dtor-string æˆå‘˜å‡½æ•°","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:7:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" const æˆå‘˜å‡½æ•°const-member-function const ç”¨åœ¨ç±»çš„æˆå‘˜å‡½æ•°æ—¶ï¼Œè¡¨ç¤ºè¯¥æˆå‘˜å‡½æ•°è°ƒç”¨æ—¶ä¸ä¼šæ”¹å˜ç±»æˆå‘˜å˜é‡çš„å€¼ã€‚ä»ç¼–è¯‘å™¨çš„è§’åº¦æ¥çœ‹ï¼Œå…¶å®æ˜¯åšäº†ä¸€æ¬¡ã€Œæ‰¿è¯ºã€ã€‚å› æ­¤ï¼Œå¦‚æœæ˜¯å¯¹äº const ç±»å¯¹è±¡çš„å®ä¾‹ï¼Œå…¶å®æ˜¯çº¦å®šäº†æ•´ä¸ªç±»ä¸ä¼šæ”¹å˜æˆå‘˜å˜é‡ï¼Œè¿™æ—¶å»è°ƒç”¨æ²¡æœ‰æ·»åŠ consté™å®šçš„æˆå‘˜å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨å£°æ˜ç±»å®ä¾‹çš„æ—¶å€™ï¼Œæ˜æ˜è¯´å¥½äº†ä¸ä¼šæ”¹å˜ï¼Œä½†æ˜¯è°ƒç”¨éconstæˆå‘˜å‡½æ•°ï¼Œåˆ™æœ‰å¯èƒ½ç ´åè¿™ä¸ªçº¦å®šï¼Œå› æ­¤ç¼–è¯‘å™¨ä¸ä¼šé€šè¿‡ã€‚ æ€»ç»“ä¸€ä¸‹ï¼Œå°±æ˜¯ï¼š å¦‚æœæˆå‘˜å‡½æ•°è‚¯å®šä¸ä¼šä¿®æ”¹æˆå‘˜å˜é‡çš„ï¼Œå°½é‡æ·»åŠ  const é™å®šã€‚ ","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:8:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" pass-by-value vs pass-by-referenceä¸¤ç§ä¼ é€’å‚æ•°çš„æ–¹å¼ï¼š pass-by-valueï¼šéœ€è¦æŠŠå‚æ•°å‹å…¥ heapï¼Œå³å¤åˆ¶åä¼ é€’ç»™å‡½æ•° pass-by-referenceï¼šç›´æ¥ä¼ å…¥å¼•ç”¨ï¼Œä¸éœ€è¦é¢å¤–çš„å¼€é”€ã€‚å¦‚æœéœ€è¦é™å®šä¸ä¼šä¿®æ”¹å‚æ•°ï¼Œæœ€å¥½å¢åŠ  pass-by-reference-to-constï¼Œå³ void func(const int \u0026arg); // ä¼ å…¥å¸¸é‡å¼•ç”¨ å¯ä»¥è¿™æ ·ç†è§£ï¼Œã€Œä¼ å…¥å¼•ç”¨ç›¸å½“äºä¼ å…¥æŒ‡é’ˆã€ï¼Œå› ä¸ºåœ¨åº•å±‚å¼•ç”¨æ˜¯æŒ‡é’ˆã€‚ pass-by-value-vs-pass-by-reference ","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:9:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" return-by-value vs return-by-referencereturn-by-value-vs-return-by-reference éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œreturn-by-reference è¦æ±‚å˜é‡åœ¨å‡½æ•°è°ƒç”¨ç»“æŸåï¼Œä¸ä¼šè¢«é”€æ¯ï¼Œæ˜¯åœ¨å †æ ˆä¸­ä»ç„¶å­˜åœ¨çš„å˜é‡ã€‚ return-by-value-vs-return-by-reference ","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:10:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" friend å‹å…ƒå‡½æ•°å¯¹äºç±»å£°æ˜çš„ç§æœ‰å˜é‡ï¼Œä¸€èˆ¬è§„å®šå¤–éƒ¨å‡½æ•°æ—¶æ— æ³•è·å–çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç¼–å†™getterå‡½æ•°ã€‚ä½†æ˜¯ï¼Œå¦‚æœæŠŠä¸€ä¸ªå‡½æ•°å£°æ˜ä¸ºè¿™ä¸ªç±»çš„friendï¼Œåˆ™å…è®¸ç›´æ¥è·å–ç±»çš„ç§æœ‰å˜é‡ã€‚è¿™æ ·åšæœ‰ä¸€å®šçš„æ–¹ä¾¿æ€§ï¼Œä½†ä¹Ÿæ˜¯æœ‰ä¸€å®šçš„å±é™©ï¼Œæ¯•ç«Ÿæˆ‘ä»¬æŠŠç±»ç§æœ‰å˜é‡å°è£…èµ·æ¥çš„ç›®çš„ï¼Œå°±æ˜¯ä¸æƒ³è®©å¤–éƒ¨å‡½æ•°ç›´æ¥ä¼¸æ‰‹è¿›æ¥æ“ä½œã€‚ friend å¦å¤–ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„ï¼Œç›¸åŒç±»ä¹‹é—´ç”Ÿæˆçš„å®ä¾‹ã€çˆ¶ç±»ä¸ä¹‹ç±»ä¹‹é—´ï¼Œäº’ä¸ºfriendã€‚ friend ","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:11:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" operator overloadingåœ¨ c++ é‡Œï¼Œæœ‰ä¸¤ç§ overloading: operator overloading function overloading æ‰€è°“çš„ overloadingï¼Œå°±æ˜¯å¯¹åŸæ¥è¯­ä¹‰çš„é‡æ–°å®šä¹‰ï¼Œä½¿ä¹‹èƒ½å¤Ÿä½œç”¨äºæ–°çš„å¯¹è±¡ã€‚ operator-overloading operator-overloading ","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:12:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" virtual å‡½æ•°åœ¨ c++ ä¸­ï¼Œå­ç±»ç»§æ‰¿çˆ¶ç±»çš„å‡½æ•°ï¼Œå®é™…ä¸Šæ˜¯ç»§æ‰¿äº†å‡½æ•°çš„è°ƒç”¨æƒã€‚ pure k ","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:13:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" converion function ä¸éœ€è¦æŒ‡å®šè¿”å›ç±»å‹ï¼Œå› ä¸º operator å·²ç»çŸ¥é“äº† ç±»å‹å¯ä»¥æ˜¯ä»»æ„çš„ï¼ŒåŒ…æ‹¬ build-in ã€user-defined-type conversion-function ","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:14:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" explicit","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:15:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" pointer-like-classç±»å¯¹è±¡å¯ä»¥åƒæ“ä½œæŒ‡é’ˆä¸€æ ·è¿›è¡Œè¿ç®—ç¬¦é‡è½½ã€‚ pointer-like-class ","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:16:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" function-like-class","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:17:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" member templateåœ¨ç±»æ¨¡æ¿é‡Œé¢ï¼Œæˆå‘˜å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªæ¨¡æ¿å‡½æ•°ã€‚ member-template å†…å­˜åˆ†é…ä¸ç®¡ç†stack-heap ","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:18:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" Stack","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:19:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" Heap","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:20:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ å…¨å±€å˜é‡ é™æ€å˜é‡ å±€éƒ¨å˜é‡ global-object static-object heap-object ","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:21:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" nekw å…ˆåˆ†é…å†…å­˜å¤§å°ï¼Œç„¶åè°ƒç”¨æ„é€ å‡½æ•° void *mem = operator new( sizeof(Complex) ); // åˆ†é…å†…å­˜ Complex *p = static_cast\u003cComplex*\u003emem; // ç±»å‹è½¬åŒ– p-\u003eComplex(); // è°ƒç”¨æ„é€ å‡½æ•° åœ¨åº•å±‚å®ç°æœºåˆ¶ä¸Šï¼Œnew ä¹Ÿæ˜¯è°ƒç”¨äº† mallocã€‚ä½†æ˜¯ä¸å½“åˆçš„ malloc åªåˆ†é…å†…å­˜ã€ä¸è°ƒç”¨æ„é€ å‡½æ•°ä¸åŒï¼Œnew åŒæ—¶è¿˜ä¿è¯äº†ç±»çš„æ„é€ å‡½æ•°ä¼šè¢«è°ƒç”¨ï¼Œä»¥è¿›è¡Œåˆå§‹åŒ–æ“ä½œã€‚ new ","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:22:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" delete å…ˆè°ƒç”¨ææ„å‡½æ•°ï¼Œç„¶ååˆ é™¤å†…å­˜å¤§å° delete ","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:23:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":" array: new, deletenew å’Œ delete ä¸€å®šè¦é…å¯¹å‡ºç° å•ä¸ª new å¯¹åº”å•ä¸ª delete array new å¯¹åº” array-deleteï¼Œå¦åˆ™ä¼šå‡ºç°åªæ˜¯ææ„äº†ç¬¬ä¸€ä¸ªç±»ï¼Œè€Œåé¢çš„å¯¹è±¡æ²¡æœ‰å®Œå…¨ææ„ï¼Œå¯¼è‡´å†…å­˜æ³„éœ²ã€‚ auto p = new Complex[3]; delete[] p; array-new-delete staticé™æ€é™å®šåªæœ‰åœ¨ç¬¬ä¸€æ¬¡åˆå§‹åŒ–çš„æ—¶å€™è¿›è¡Œå†…å­˜åˆ†é…ï¼Œä»¥åæ‰€æœ‰çš„ç±»å®ä¾‹éƒ½å¯ä»¥å…±äº«è¿™ä¸ªé™æ€å˜é‡ã€‚ class A { public: static double m_data; static double get_data() { return m_data; } }; double A::mdata = 10; // å˜é‡å®šä¹‰ï¼Œæ‰€æœ‰å®ä¾‹å…±åŒä½¿ç”¨ è°ƒç”¨ static å‡½æ•°çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š é€šè¿‡ç±»è°ƒç”¨ï¼šA::get_data()ï¼Œéœ€è¦æŒ‡å®šç±»ä½œç”¨åŸŸ é€šè¿‡å®ä¾‹è°ƒç”¨ï¼ša.get_data() static ç±»æ¨¡æ¿æ¨èå†™ç±»æ¨¡æ¿çš„æ–¹æ³•ï¼š å…ˆæŒ‰ç…§æŸä¸ªç‰¹å®šç‰ˆæœ¬çš„ç±»è¿›è¡Œè®¾è®¡ã€ç¼–å†™ã€è°ƒè¯• å¾…ä»¥ä¸Šç‰¹å®šç‰ˆæœ¬çš„ç±»å®Œæˆåï¼Œä½¿ç”¨ template ç±»å‹è¿›è¡Œæ›¿ä»£ class-template namespace using directive using namespace std; using declaration using std::cout; using aliasï¼š using hiorder = hicloud::OrderData; namespace æ ‡å‡†åº“:std STL C++11 æ–°ç‰¹å¾","date":"2020-06-26","objectID":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/:24:0","tags":["c++","é¢å‘å¯¹è±¡","ç¼–ç¨‹","ä¾¯æ·"],"title":"ä¾¯æ·: C++ é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹","uri":"/archives/2020-06-26-%E4%BE%AF%E6%8D%B7--c++-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B/"},{"categories":["Programming"],"content":"loguru æ˜¯ä¸€æ¬¾è½»é‡çº§çš„ã€€ï½ƒ++ æ—¥å¿—æ¨¡å—ï¼Œæä¾›äº†å¤šç§æ ¼å¼çš„æ—¥å¿—è¾“å‡ºï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ fmtlib çš„æ ¼å¼åŒ–ã€‚ æ€»ç»“ï¼š å¦‚æœä½¿ç”¨ fmtlibï¼Œåˆ™éœ€è¦åœ¨ç¼–è¯‘é™æ€åº“çš„æ—¶å€™ï¼Œè®¾ç½® include ä¹‹å‰æ·»åŠ  #define LOGURU_USE_FMTLIB 1 #include \"loguru.hpp\" ç¼–è¯‘å¯æ‰§è¡Œçš„æ—¶å€™ï¼Œéœ€è¦ç¡®ä¿å…ˆé“¾æ¥ loguruï¼Œç„¶ååœ¨é“¾æ¥ fmt target_link_libraries(ctpmd PRIVATE thostmduserapi_se # NanoLog # fmt loguru fmt ## ç¡®å®š fmt æ˜¯åœ¨åé¢ yaml-cpp ) loguru å®‰è£…ç”±äºæˆ‘ä»¬åé¢éœ€è¦ä½¿ç”¨ fmtlib æ¨¡å—ç”¨äºæ›´å¥½çš„è¾“å‡ºæ—¥å¿—ï¼Œæ‰€ä»¥éœ€è¦å…ˆè¿›è¡Œå®‰è£…ã€‚ ","date":"2020-03-23","objectID":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/:0:0","tags":["c++","log","loguru","æ—¥å¿—"],"title":"C++æ—¥å¿—æ¨¡å—:loguru","uri":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/"},{"categories":["Programming"],"content":" å®‰è£… fmtlib cd ~/Downloads git clone git@github.com:fmtlib/fmt.git mkdir build cd build sudo cmake .. sudo make sudo install ","date":"2020-03-23","objectID":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/:1:0","tags":["c++","log","loguru","æ—¥å¿—"],"title":"C++æ—¥å¿—æ¨¡å—:loguru","uri":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/"},{"categories":["Programming"],"content":" å®‰è£… logurué¦–å…ˆï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªé¡¹ç›®æ‹·è´åˆ°æœ¬åœ°ï¼Œç„¶åå†é€šè¿‡ä¿®æ”¹ç›¸åº”çš„æ¨¡å—ã€‚ git clone git@github.com:emilk/loguru.git å®šåˆ¶ loguruç”±äºè¿™ä¸ªæä¾›äº†æºä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å…¬å¸çš„æ—¥å¿—è®°å½•éœ€è¦ï¼Œè¿›è¡Œå®šåˆ¶åŒ–é…ç½®ã€‚ ","date":"2020-03-23","objectID":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/:2:0","tags":["c++","log","loguru","æ—¥å¿—"],"title":"C++æ—¥å¿—æ¨¡å—:loguru","uri":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/"},{"categories":["Programming"],"content":" ä¿®æ”¹æ—¥å¿—å¤´æ–‡ä»¶ // vim loguru.cpp // 1. ä¿®æ”¹æ—¥å¿—è¡¨å¤´çš„æ˜¾ç¤º // #define LOGURU_PREAMBLE_WIDTH (53 + LOGURU_THREADNAME_WIDTH + LOGURU_FILENAME_WIDTH) #define LOGURU_PREAMBLE_WIDTH (57 + LOGURU_THREADNAME_WIDTH + LOGURU_FILENAME_WIDTH) ","date":"2020-03-23","objectID":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/:3:0","tags":["c++","log","loguru","æ—¥å¿—"],"title":"C++æ—¥å¿—æ¨¡å—:loguru","uri":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/"},{"categories":["Programming"],"content":" ä¿®æ”¹ micro ç²¾ç¡®çš„æ—¶é—´æˆ³ // vim loguru.cpp //## 2. å¢åŠ  micro æ—¶é—´æˆ³ void write_date_time(char* buff, size_t buff_size) { auto now = system_clock::now(); long long ms_since_epoch = duration_cast\u003cmicroseconds\u003e(now.time_since_epoch()).count(); time_t sec_since_epoch = time_t(ms_since_epoch / 1000000); tm time_info; localtime_r(\u0026sec_since_epoch, \u0026time_info); snprintf(buff, buff_size, \"%04d%02d%02d_%02d%02d%02d.%06lld\", 1900 + time_info.tm_year, 1 + time_info.tm_mon, time_info.tm_mday, time_info.tm_hour, time_info.tm_min, time_info.tm_sec, ms_since_epoch % 1000000); } ","date":"2020-03-23","objectID":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/:4:0","tags":["c++","log","loguru","æ—¥å¿—"],"title":"C++æ—¥å¿—æ¨¡å—:loguru","uri":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/"},{"categories":["Programming"],"content":" æ‰“å° micro æ—¶é—´æˆ³ // vim loguru.cpp // æ‰“å° micro æ—¶é—´æˆ³ static void print_preamble(char* out_buff, size_t out_buff_size, Verbosity verbosity, const char* file, unsigned line) { if (out_buff_size == 0) { return; } out_buff[0] = '\\0'; if (!g_preamble) { return; } long long ms_since_epoch = duration_cast\u003cmicroseconds\u003e(system_clock::now().time_since_epoch()).count(); time_t sec_since_epoch = time_t(ms_since_epoch / 1000000); tm time_info; localtime_r(\u0026sec_since_epoch, \u0026time_info); auto uptime_ms = duration_cast\u003cmilliseconds\u003e(steady_clock::now() - s_start_time).count(); auto uptime_sec = uptime_ms / 1000.0; char thread_name[LOGURU_THREADNAME_WIDTH + 1] = {0}; get_thread_name(thread_name, LOGURU_THREADNAME_WIDTH + 1, true); if (s_strip_file_path) { file = filename(file); } char level_buff[6]; const char* custom_level_name = get_verbosity_name(verbosity); if (custom_level_name) { snprintf(level_buff, sizeof(level_buff) - 1, \"%s\", custom_level_name); } else { snprintf(level_buff, sizeof(level_buff) - 1, \"% 4d\", verbosity); } long pos = 0; if (g_preamble_date \u0026\u0026 pos \u003c out_buff_size) { pos += snprintf(out_buff + pos, out_buff_size - pos, \"%04d-%02d-%02d \", 1900 + time_info.tm_year, 1 + time_info.tm_mon, time_info.tm_mday); } if (g_preamble_time \u0026\u0026 pos \u003c out_buff_size) { pos += snprintf(out_buff + pos, out_buff_size - pos, \"%02d:%02d:%02d.%06lld \", time_info.tm_hour, time_info.tm_min, time_info.tm_sec, ms_since_epoch % 1000000); } if (g_preamble_uptime \u0026\u0026 pos \u003c out_buff_size) { //pos += snprintf(out_buff + pos, out_buff_size - pos, \"(%8.3fs) \", // uptime_sec); pos += snprintf(out_buff + pos, out_buff_size - pos, \"(%9.3fs) \", uptime_sec); } if (g_preamble_thread \u0026\u0026 pos \u003c out_buff_size) { pos += snprintf(out_buff + pos, out_buff_size - pos, \"[%-*s]\", LOGURU_THREADNAME_WIDTH, thread_name); } if (g_preamble_file \u0026\u0026 pos \u003c out_buff_size) { char shortened_filename[LOGURU_FILENAME_WIDTH + 1]; snprintf(shortened_filename, LOGURU_FILENAME_WIDTH + 1, \"%s\", file); pos += snprintf(out_buff + pos, out_buff_size - pos, \"%*s:%-5u \", LOGURU_FILENAME_WIDTH, shortened_filename, line); } if (g_preamble_verbose \u0026\u0026 pos \u003c out_buff_size) { pos += snprintf(out_buff + pos, out_buff_size - pos, \"%4s\", level_buff); } if (g_preamble_pipe \u0026\u0026 pos \u003c out_buff_size) { pos += snprintf(out_buff + pos, out_buff_size - pos, \"| \"); } } ","date":"2020-03-23","objectID":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/:5:0","tags":["c++","log","loguru","æ—¥å¿—"],"title":"C++æ—¥å¿—æ¨¡å—:loguru","uri":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/"},{"categories":["Programming"],"content":" ä¿®æ”¹å‡½æ•°è¿è¡Œæ—¶é—´è®¡æ•°å™¨ // vim loguru.cpp // 3.ä¿®æ”¹å‡½æ•°è¿è¡Œæ—¶é—´ #if LOGURU_VERBOSE_SCOPE_ENDINGS auto duration_sec = (now_ns() - _start_time_ns) / 1e9; #if LOGURU_USE_FMTLIB //auto buff = textprintf(\"{:.{}f} s: {:s}\", duration_sec, LOGURU_SCOPE_TIME_PRECISION, _name); auto buff = textprintf(\"[{:.{}f} s]: {:s}\", duration_sec, LOGURU_SCOPE_TIME_PRECISION, _name); #else //auto buff = textprintf(\"%.*f s: %s\", LOGURU_SCOPE_TIME_PRECISION, duration_sec, _name); auto buff = textprintf(\"[%.*f s: %s]\", LOGURU_SCOPE_TIME_PRECISION, duration_sec, _name); #endif ","date":"2020-03-23","objectID":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/:6:0","tags":["c++","log","loguru","æ—¥å¿—"],"title":"C++æ—¥å¿—æ¨¡å—:loguru","uri":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/"},{"categories":["Programming"],"content":" å¢åŠ  fmtlib æ”¯æŒ // vim loguru.hpp // å¢åŠ  fmt æ”¯æŒ #define LOGURU_USE_FMTLIB 1 #include \"loguru.hpp\" #ifndef LOGURU_SCOPE_TIME_PRECISION // Resolution of scope timers. 3=ms, 6=us, 9=ns // #define LOGURU_SCOPE_TIME_PRECISION 3 #define LOGURU_SCOPE_TIME_PRECISION 6 #endif #ifndef LOGURU_FILENAME_WIDTH // Width of the column containing the file name // #define LOGURU_FILENAME_WIDTH 23 #define LOGURU_FILENAME_WIDTH 18 #endif #ifndef LOGURU_THREADNAME_WIDTH // Width of the column containing the thread name // #define LOGURU_THREADNAME_WIDTH 16 #define LOGURU_THREADNAME_WIDTH 12 #endif ç¼–è¯‘é™æ€åº“ ## CMakeLists.txt project(loguru) cmake_minimum_required(VERSION 3.10) set(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -o3\") set(LIBRARY_OUTPUT_PATH ${CMAKE_SOURCE_DIR}/) add_library(loguru STATIC loguru.cpp) target_link_libraries(loguru fmt) æˆ‘çš„é…ç½®æ–¹æ¡ˆ","date":"2020-03-23","objectID":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/:7:0","tags":["c++","log","loguru","æ—¥å¿—"],"title":"C++æ—¥å¿—æ¨¡å—:loguru","uri":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/"},{"categories":["Programming"],"content":" loguru.hpp /* Loguru logging library for C++, by Emil Ernerfeldt. www.github.com/emilk/loguru If you find Loguru useful, please let me know on twitter or in a mail! Twitter: @ernerfeldt Mail: emil.ernerfeldt@gmail.com Website: www.ilikebigbits.com # License This software is in the public domain. Where that dedication is not recognized, you are granted a perpetual, irrevocable license to copy, modify and distribute it as you see fit. # Inspiration Much of Loguru was inspired by GLOG, https://code.google.com/p/google-glog/. The choice of public domain is fully due Sean T. Barrett and his wonderful stb libraries at https://github.com/nothings/stb. # Version history * Version 0.1.0 - 2015-03-22 - Works great on Mac. * Version 0.2.0 - 2015-09-17 - Removed the only dependency. * Version 0.3.0 - 2015-10-02 - Drop-in replacement for most of GLOG * Version 0.4.0 - 2015-10-07 - Single-file! * Version 0.5.0 - 2015-10-17 - Improved file logging * Version 0.6.0 - 2015-10-24 - Add stack traces * Version 0.7.0 - 2015-10-27 - Signals * Version 0.8.0 - 2015-10-30 - Color logging. * Version 0.9.0 - 2015-11-26 - ABORT_S and proper handling of FATAL * Version 1.0.0 - 2016-02-14 - ERROR_CONTEXT * Version 1.1.0 - 2016-02-19 - -v OFF, -v INFO etc * Version 1.1.1 - 2016-02-20 - textprintf vs strprintf * Version 1.1.2 - 2016-02-22 - Remove g_alsologtostderr * Version 1.1.3 - 2016-02-29 - ERROR_CONTEXT as linked list * Version 1.2.0 - 2016-03-19 - Add get_thread_name() * Version 1.2.1 - 2016-03-20 - Minor fixes * Version 1.2.2 - 2016-03-29 - Fix issues with set_fatal_handler throwing an exception * Version 1.2.3 - 2016-05-16 - Log current working directory in loguru::init(). * Version 1.2.4 - 2016-05-18 - Custom replacement for -v in loguru::init() by bjoernpollex * Version 1.2.5 - 2016-05-18 - Add ability to print ERROR_CONTEXT of parent thread. * Version 1.2.6 - 2016-05-19 - Bug fix regarding VLOG verbosity argument lacking (). * Version 1.2.7 - 2016-05-23 - Fix PATH_MAX problem. * Version 1.2.8 - 2016-05-26 - Add shutdown() and remove_all_callbacks() * Version 1.2.9 - 2016-06-09 - Use a monotonic clock for uptime. * Version 1.3.0 - 2016-07-20 - Fix issues with callback flush/close not being called. * Version 1.3.1 - 2016-07-20 - Add LOGURU_UNSAFE_SIGNAL_HANDLER to toggle stacktrace on signals. * Version 1.3.2 - 2016-07-20 - Add loguru::arguments() * Version 1.4.0 - 2016-09-15 - Semantic versioning + add loguru::create_directories * Version 1.4.1 - 2016-09-29 - Customize formating with LOGURU_FILENAME_WIDTH * Version 1.5.0 - 2016-12-22 - LOGURU_USE_FMTLIB by kolis and LOGURU_WITH_FILEABS by scinart * Version 1.5.1 - 2017-08-08 - Terminal colors on Windows 10 thanks to looki * Version 1.6.0 - 2018-01-03 - Add LOGURU_RTTI and LOGURU_STACKTRACES settings * Version 1.7.0 - 2018-01-03 - Add ability to turn off the preamble with loguru::g_preamble * Version 1.7.1 - 2018-04-05 - Add function get_fatal_handler * Version 1.7.2 - 2018-04-22 - Fix a bug where large file names could cause stack corruption (thanks @ccamporesi) * Version 1.8.0 - 2018-04-23 - Shorten long file names to keep preamble fixed width * Version 1.9.0 - 2018-09-22 - Adjust terminal colors, add LOGURU_VERBOSE_SCOPE_ENDINGS, add LOGURU_SCOPE_TIME_PRECISION, add named log levels * Version 2.0.0 - 2018-09-22 - Split loguru.hpp into loguru.hpp and loguru.cpp * Version 2.1.0 - 2019-09-23 - Update fmtlib + add option to loguru::init to NOT set main thread name. # Compiling Just include \u003cloguru.hpp\u003e where you want to use Loguru. Then, in one .cpp file #include \u003cloguru.cpp\u003e Make sure you compile with -std=c++11 -lstdc++ -lpthread -ldl # Usage For details, please see the official documentation at emilk.github.io/loguru #include \u003cloguru.hpp\u003e int main(int argc, char* argv[]) { loguru::init(argc, argv); // Put every log message in \"everything.log\": loguru::add_file(\"everything.log\", loguru::Append, loguru::Verbosity_MAX); LOG_F(INFO, \"The magic number is %d\", 42); } */ #if defined(LOGURU_IMPLEMENTATIO","date":"2020-03-23","objectID":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/:8:0","tags":["c++","log","loguru","æ—¥å¿—"],"title":"C++æ—¥å¿—æ¨¡å—:loguru","uri":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/"},{"categories":["Programming"],"content":" loguru.cpp #ifndef _WIN32 // Disable all warnings from gcc/clang: #pragma GCC diagnostic push #pragma GCC diagnostic ignored \"-Wpragmas\" #pragma GCC diagnostic ignored \"-Wc++98-compat\" #pragma GCC diagnostic ignored \"-Wc++98-compat-pedantic\" #pragma GCC diagnostic ignored \"-Wexit-time-destructors\" #pragma GCC diagnostic ignored \"-Wformat-nonliteral\" #pragma GCC diagnostic ignored \"-Wglobal-constructors\" #pragma GCC diagnostic ignored \"-Wgnu-zero-variadic-macro-arguments\" #pragma GCC diagnostic ignored \"-Wmissing-prototypes\" #pragma GCC diagnostic ignored \"-Wpadded\" #pragma GCC diagnostic ignored \"-Wsign-compare\" #pragma GCC diagnostic ignored \"-Wsign-conversion\" #pragma GCC diagnostic ignored \"-Wunknown-pragmas\" #pragma GCC diagnostic ignored \"-Wunused-macros\" #pragma GCC diagnostic ignored \"-Wzero-as-null-pointer-constant\" #else #ifdef _MSC_VER #pragma warning(push) #pragma warning(disable:4018) #endif // _MSC_VER #endif #define LOGURU_USE_FMTLIB 1 #include \"loguru.hpp\" #ifndef LOGURU_HAS_BEEN_IMPLEMENTED #define LOGURU_HAS_BEEN_IMPLEMENTED // #define LOGURU_PREAMBLE_WIDTH (53 + LOGURU_THREADNAME_WIDTH + LOGURU_FILENAME_WIDTH) #define LOGURU_PREAMBLE_WIDTH (57 + LOGURU_THREADNAME_WIDTH + LOGURU_FILENAME_WIDTH) #undef min #undef max #include \u003calgorithm\u003e #include \u003catomic\u003e #include \u003cchrono\u003e #include \u003ccstdarg\u003e #include \u003ccstdio\u003e #include \u003ccstdlib\u003e #include \u003ccstring\u003e #include \u003cmutex\u003e #include \u003cregex\u003e #include \u003cstring\u003e #include \u003cthread\u003e #include \u003cvector\u003e #ifdef _WIN32 #include \u003cdirect.h\u003e #define localtime_r(a, b) localtime_s(b, a) // No localtime_r with MSVC, but arguments are swapped for localtime_s #else #include \u003csignal.h\u003e #include \u003csys/stat.h\u003e // mkdir #include \u003cunistd.h\u003e // STDERR_FILENO #endif #ifdef __linux__ #include \u003clinux/limits.h\u003e // PATH_MAX #elif !defined(_WIN32) #include \u003climits.h\u003e // PATH_MAX #endif #ifndef PATH_MAX #define PATH_MAX 1024 #endif #ifdef __APPLE__ #include \"TargetConditionals.h\" #endif // TODO: use defined(_POSIX_VERSION) for some of these things? #if defined(_WIN32) || defined(__CYGWIN__) #define LOGURU_PTHREADS 0 #define LOGURU_WINTHREADS 1 #ifndef LOGURU_STACKTRACES #define LOGURU_STACKTRACES 0 #endif #elif defined(__rtems__) || defined(__ANDROID__) || defined(__FreeBSD__) #define LOGURU_PTHREADS 1 #define LOGURU_WINTHREADS 0 #ifndef LOGURU_STACKTRACES #define LOGURU_STACKTRACES 0 #endif #else #define LOGURU_PTHREADS 1 #define LOGURU_WINTHREADS 0 #ifndef LOGURU_STACKTRACES #define LOGURU_STACKTRACES 1 #endif #endif #if LOGURU_STACKTRACES #include \u003ccxxabi.h\u003e // for __cxa_demangle #include \u003cdlfcn.h\u003e // for dladdr #include \u003cexecinfo.h\u003e // for backtrace #endif // LOGURU_STACKTRACES #if LOGURU_PTHREADS #include \u003cpthread.h\u003e #if defined(__FreeBSD__) #include \u003cpthread_np.h\u003e #include \u003csys/thr.h\u003e #elif defined(__OpenBSD__) #include \u003cpthread_np.h\u003e #endif #ifdef __linux__ /* On Linux, the default thread name is the same as the name of the binary. Additionally, all new threads inherit the name of the thread it got forked from. For this reason, Loguru use the pthread Thread Local Storage for storing thread names on Linux. */ #define LOGURU_PTLS_NAMES 1 #endif #endif #if LOGURU_WINTHREADS #ifndef _WIN32_WINNT #define _WIN32_WINNT 0x0502 #endif #define WIN32_LEAN_AND_MEAN #define NOMINMAX #include \u003cwindows.h\u003e #endif #ifndef LOGURU_PTLS_NAMES #define LOGURU_PTLS_NAMES 0 #endif namespace loguru { using namespace std::chrono; #if LOGURU_WITH_FILEABS struct FileAbs { char path[PATH_MAX]; char mode_str[4]; Verbosity verbosity; struct stat st; FILE* fp; bool is_reopening = false; // to prevent recursive call in file_reopen. decltype(steady_clock::now()) last_check_time = steady_clock::now(); }; #else typedef FILE* FileAbs; #endif struct Callback { std::string id; log_handler_t callback; void* user_data; Verbosity verbosity; // Does not change! close_handler_t close; flush_handler_t flush; unsigned indentation; }; using CallbackVec = std::vector\u003cCallback\u003e; using StringPair = std::pair\u003cstd::string, std::string\u003e; using Strin","date":"2020-03-23","objectID":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/:9:0","tags":["c++","log","loguru","æ—¥å¿—"],"title":"C++æ—¥å¿—æ¨¡å—:loguru","uri":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/"},{"categories":["Programming"],"content":" CMakeLists.txt project(loguru) cmake_minimum_required(VERSION 3.10) set(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -o3\") set(LIBRARY_OUTPUT_PATH ${CMAKE_SOURCE_DIR}/) add_library(loguru STATIC loguru.cpp) target_link_libraries(loguru fmt) ","date":"2020-03-23","objectID":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/:10:0","tags":["c++","log","loguru","æ—¥å¿—"],"title":"C++æ—¥å¿—æ¨¡å—:loguru","uri":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/"},{"categories":["Programming"],"content":" demo . â”œâ”€â”€ build â”œâ”€â”€ CMakeLists.txt â””â”€â”€ main.cpp 1 directory, 2 files ","date":"2020-03-23","objectID":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/:11:0","tags":["c++","log","loguru","æ—¥å¿—"],"title":"C++æ—¥å¿—æ¨¡å—:loguru","uri":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/"},{"categories":["Programming"],"content":" main.cpp #include \u003cchrono\u003e #include \u003cthread\u003e #define LOGURU_USE_FMTLIB 1 #include \"loguru.hpp\" void sleep_ms(int ms) { VLOG_F(2, \"Sleeping for %d ms\", ms); std::this_thread::sleep_for(std::chrono::milliseconds(ms)); } void foo() { LOG_SCOPE_F(INFO, \"foo\"); for (int i = 0; i \u003c 10; ++i) { LOG_F(INFO, \"%d\", i); LOG_F(INFO, \"foo for loop\"); } } void complex_calculation() { LOG_SCOPE_F(INFO, \"complex_calculation\"); LOG_F(INFO, \"Starting time machine...\"); sleep_ms(200); LOG_F(WARNING, \"The flux capacitor is not getting enough power!\"); sleep_ms(400); LOG_F(INFO, \"Lighting strike!\"); VLOG_F(1, \"Found 1.21 gigawatts...\"); sleep_ms(400); std::thread([](){ loguru::set_thread_name(\"complex_calculation\"); LOG_F(ERROR, \"We ended up in 1985!\"); }).join(); } #include \u003ciostream\u003e int main(int argc, char* argv[]) { loguru::init(argc, argv); loguru::add_file(\"everything.log\", loguru::Append, loguru::Verbosity_MAX); LOG_F(INFO, \"Hello from main.cpp!\"); complex_calculation(); std::string s = \"hello\"; LOG_F(INFO, \"{}\", s); // foo(); ","date":"2020-03-23","objectID":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/:11:1","tags":["c++","log","loguru","æ—¥å¿—"],"title":"C++æ—¥å¿—æ¨¡å—:loguru","uri":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/"},{"categories":["Programming"],"content":" CMakeLists.txt project(demo) cmake_minimum_required(VERSION 3.10) set(CMAKE_CXX_STANDARD 17) set(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -lpthread -ldl -lrt\") include_directories(../) link_directories(../) add_executable(demo ./main.cpp) target_link_libraries(demo loguru fmt) ","date":"2020-03-23","objectID":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/:11:2","tags":["c++","log","loguru","æ—¥å¿—"],"title":"C++æ—¥å¿—æ¨¡å—:loguru","uri":"/archives/2020-03-23-c++%E6%97%A5%E5%BF%97%E6%A8%A1%E5%9D%97-loguru/"},{"categories":["Programming"],"content":"è¿™ä¸ªæ•™ç¨‹å°†ç³»ç»Ÿä»‹ç»å¦‚ä½•å®ç°åŸºäº solarflare ç½‘å¡æŠ€æœ¯è¿›è¡Œé«˜é¢‘äº¤æ˜“ç³»ç»Ÿå¼€å‘ã€‚ OpenOnload æŠ€æœ¯","date":"2019-12-11","objectID":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/:0:0","tags":["solarflare","openonload","ç½‘ç»œç¼–ç¨‹"],"title":"Solarflareç½‘å¡å¼€å‘ï¼šopenonload å®‰è£…ä¸è°ƒè¯•","uri":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/"},{"categories":["Programming"],"content":" å›ºä»¶ä¿¡æ¯å¯ä»¥é€šè¿‡å‘½ä»¤æŸ¥çœ‹å½“å‰çš„ç½‘å¡è¿æ¥æƒ…å†µ ip address 1: lo: \u003cLOOPBACK,UP,LOWER_UP\u003e mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever 2: enp5s0: \u003cBROADCAST,MULTICAST,UP,LOWER_UP\u003e mtu 1500 qdisc pfifo_fast state UP group default qlen 1000 link/ether 4c:ed:fb:c2:25:67 brd ff:ff:ff:ff:ff:ff inet 192.168.1.115/24 brd 192.168.1.255 scope global noprefixroute dynamic enp5s0 valid_lft 1496sec preferred_lft 1496sec inet6 fe80::6804:b02d:fb9f:19b0/64 scope link noprefixroute valid_lft forever preferred_lft forever 3: enp1s0f0: \u003cNO-CARRIER,BROADCAST,MULTICAST,UP\u003e mtu 1500 qdisc mq state DOWN group default qlen 1000 link/ether 00:0f:53:5d:d3:90 brd ff:ff:ff:ff:ff:ff 4: enp1s0f1: \u003cBROADCAST,MULTICAST,UP,LOWER_UP\u003e mtu 1500 qdisc mq state UP group default qlen 1000 link/ether 00:0f:53:5d:d3:91 brd ff:ff:ff:ff:ff:ff inet 192.168.1.112/24 brd 192.168.1.255 scope global noprefixroute dynamic enp1s0f1 valid_lft 1544sec preferred_lft 1544sec inet6 fe80::20f:53ff:fe5d:d391/64 scope link valid_lft forever preferred_lft forever 5: virbr0: \u003cNO-CARRIER,BROADCAST,MULTICAST,UP\u003e mtu 1500 qdisc noqueue state DOWN group default qlen 1000 link/ether 52:54:00:c5:0a:77 brd ff:ff:ff:ff:ff:ff inet 192.168.122.1/24 brd 192.168.122.255 scope global virbr0 valid_lft forever preferred_lft forever 6: virbr0-nic: \u003cBROADCAST,MULTICAST\u003e mtu 1500 qdisc pfifo_fast master virbr0 state DOWN group default qlen 1000 link/ether 52:54:00:c5:0a:77 brd ff:ff:ff:ff:ff:ff å‚å•†çš„MACåœ°å€å‰å››ä½æ˜¯00:0Fï¼Œä»¥æ­¤åˆ¤æ–­å“ªä¸ªç½‘å¡ä¸ºSolarflareçš„ç½‘å¡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºä»¥ä¸‹ä¸¤ä¸ªç½‘å¡ä¸º Solarflare enp1s0f0 enp1s0f1 æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å‘½ä»¤æŸ¥çœ‹å…·ä½“çš„ç½‘å¡ä¿¡æ¯ ## éœ€è¦å…ˆå®‰è£… openonload ethtool -i enp1s0f1 driver: sfc version: 4.15.0.1012 firmware-version: 4.7.1.1001 rx1 tx1 expansion-rom-version: bus-info: 0000:01:00.1 supports-statistics: yes supports-test: yes supports-eeprom-access: no supports-register-dump: yes supports-priv-flags: yes ##ä¸‹è½½é©±åŠ¨ OpenOnload åŸå…ˆæ˜¯ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„å¼€å‘é¡¹ç›®å­˜åœ¨ï¼Œåœ¨å®˜ç½‘å¯ä»¥è·å–ç›¸å…³çš„èµ„è®¯ï¼Œæˆ–è€…ç›´æ¥è¿›å…¥ä¸‹è½½ç½‘é¡µè·å–æŒ‡å®šç‰ˆæœ¬çš„é©±åŠ¨ã€‚ https://www.openonload.org/download/ Index of /download/ ../ ppc/ 15-Feb-2016 11:19 - sfnettest/ 29-Oct-2013 15:45 - sfptpd_reverse_ptp_preview/ 18-Aug-2017 10:59 - sysjitter/ 30-May-2017 17:08 - efx_ioctl_timesync.h 23-Jun-2016 16:50 10271 openonload-201502-ChangeLog.txt 01-Mar-2015 11:34 65722 openonload-201502-README.txt 01-Mar-2015 11:34 3011 openonload-201502-ReleaseNotes.txt 01-Mar-2015 11:34 11998 openonload-201502-u1-ChangeLog.txt 30-Mar-2015 16:35 67171 openonload-201502-u1-README.txt 30-Mar-2015 16:35 3030 openonload-201502-u1-ReleaseNotes.txt 30-Mar-2015 16:35 14761 openonload-201502-u1.tgz 30-Mar-2015 16:35 3061647 openonload-201502-u1.tgz.md5 30-Mar-2015 16:35 59 openonload-201502-u2-ChangeLog.txt 04-Jun-2015 16:52 70484 openonload-201502-u2-README.txt 04-Jun-2015 16:52 3161 openonload-201502-u2-ReleaseNotes.txt 04-Jun-2015 16:52 16556 openonload-201502-u2.tgz 04-Jun-2015 16:52 3081875 openonload-201502-u2.tgz.md5 04-Jun-2015 16:52 59 openonload-201502-u3-ChangeLog.txt 19-Aug-2015 15:54 70604 openonload-201502-u3-README.txt 19-Aug-2015 15:54 3161 openonload-201502-u3-ReleaseNotes.txt 19-Aug-2015 15:54 16967 openonload-201502-u3.tgz 19-Aug-2015 15:54 3276190 openonload-201502-u3.tgz.md5 19-Aug-2015 15:54 59 openonload-201502.tgz 01-Mar-2015 11:34 3056445 openonload-201502.tgz.md5 01-Mar-2015 11:34 56 openonload-201509-ChangeLog.txt 06-Oct-2015 16:26 79017 openonload-201509-README.txt 06-Oct-2015 16:26 3145 openonload-201509-ReleaseNotes.txt 06-Oct-2015 16:26 10035 openonload-201509-u1-ChangeLog.txt 01-Feb-2016 15:51 84338 openonload-201509-u1-README.txt 01-Feb-2016 15:51 3171 openonload-201509-u1-ReleaseNotes.txt 01-Feb-2016 15:51 12329 openonload-201509-u1.tgz 01-Feb-2016 15:51 3367951 openonload-201509-u1.tgz.md5 01-Feb-2016 15:51 59 openonload-201509.tgz 06-Oct-2015 16:26 3328928 openonload-201509.tgz.md5 06-Oct-2015 16:26 56 openonload-201606-ChangeLog.txt 30-Jun-2016 17:","date":"2019-12-11","objectID":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/:1:0","tags":["solarflare","openonload","ç½‘ç»œç¼–ç¨‹"],"title":"Solarflareç½‘å¡å¼€å‘ï¼šopenonload å®‰è£…ä¸è°ƒè¯•","uri":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/"},{"categories":["Programming"],"content":" å®‰è£… ## è¿›å…¥ç›¸åº”çš„æ–‡ä»¶å¤¹ cd openonload-201811/ ## æºä»£ç å­˜æ”¾ cd scripts/ ll total 240K drwxr-xr-x. 6 fl fl 4.0K Dec 3 2018 . drwxr-xr-x. 7 fl fl 243 Dec 9 03:39 .. -rwxr-xr-x. 1 fl fl 154 Apr 12 2018 check_binary_presence -rwxr-xr-x. 1 fl fl 329 Apr 12 2018 check_header_presence -rwxr-xr-x. 1 fl fl 358 Apr 12 2018 check_library_presence -rwxr-xr-x. 1 fl fl 573 Apr 12 2018 check_prototype -rwxr-xr-x. 1 fl fl 2.2K Nov 8 2018 libc_compat.sh -rwxr-xr-x. 1 fl fl 1.4K Apr 12 2018 mmake -rwxr-xr-x. 1 fl fl 16K Nov 8 2018 mmakebuildtree -rwxr-xr-x. 1 fl fl 15K Nov 8 2018 mmaketool -rwxr-xr-x. 1 fl fl 13K Nov 9 2018 onload drwxr-xr-x. 2 fl fl 75 Oct 26 2018 onload_apps -rwxr-xr-x. 1 fl fl 6.0K Nov 8 2018 onload_build -rwxr-xr-x. 1 fl fl 27K Dec 3 2018 onload_install -rwxr-xr-x. 1 fl fl 19K Jul 16 2018 onload_iptables -rwxr-xr-x. 1 fl fl 8.2K Nov 8 2018 onload_metrics drwxr-xr-x. 2 fl fl 4.0K Dec 3 2018 onload_misc drwxr-xr-x. 2 fl fl 4.0K Nov 9 2018 onload_profiles -rwxr-xr-x. 1 fl fl 2.2K Jul 16 2018 onload_rpmtest -rwxr-xr-x. 1 fl fl 3.3K Nov 8 2018 onload_tcpdump -rwxr-xr-x. 1 fl fl 8.0K Nov 9 2018 onload_tool -rwxr-xr-x. 1 fl fl 748 Apr 12 2018 sfcaffinity -rwxr-xr-x. 1 fl fl 30K Apr 12 2018 sfcaffinity_config -rw-r--r--. 1 fl fl 15K Apr 12 2018 sfcaffinity.py -rwxr-xr-x. 1 fl fl 6.5K Apr 12 2018 sfcirqaffinity -rw-r--r--. 1 fl fl 4.6K Apr 12 2018 sfcmask.py drwxr-xr-x. 2 fl fl 108 Dec 3 2018 sh -rwxr-xr-x. 1 fl fl 1.1K Apr 12 2018 zf_debug ## æ­å»ºç¯å¢ƒ locate crti.o LIBRARY_PATH=/usr/lib64:$LIBRARY_PATH export LIBRARY_PATH ./onload_build ## æ‰§è¡Œå®‰è£… ./onload_install #åŠ è½½ onload onload_tool reload ## å¼€å¯ rx1 tx1 æ¨¡å¼ ## Refï¼š https://support.solarflare.com/docs/SF-103837-CD ## Adapters Software Support sfboot --adapter=enp1s0f1 firmware-variant=ultra-low-latency ## éœ€è¦é‡å¯ sudo reboot now ## æŸ¥çœ‹å³å¯æ˜¾ç¤º ethtool -i enp1s0f1 driver: sfc version: 4.15.0.1012 firmware-version: 6.2.7.1001 rx1 tx1 expansion-rom-version: bus-info: 0000:01:00.1 supports-statistics: yes supports-test: yes supports-eeprom-access: no supports-register-dump: yes supports-priv-flags: yes ","date":"2019-12-11","objectID":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/:2:0","tags":["solarflare","openonload","ç½‘ç»œç¼–ç¨‹"],"title":"Solarflareç½‘å¡å¼€å‘ï¼šopenonload å®‰è£…ä¸è°ƒè¯•","uri":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/"},{"categories":["Programming"],"content":" å¸è½½ #unload onload onload_tool unload #remove sfc modprobe â€“r sfc #if found any sfc rpm, then remove them rpm -qa | grep sfc rpm -e *sfc*.rpm #unintall onload ./onload_misc/onload_uninstall ","date":"2019-12-11","objectID":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/:3:0","tags":["solarflare","openonload","ç½‘ç»œç¼–ç¨‹"],"title":"Solarflareç½‘å¡å¼€å‘ï¼šopenonload å®‰è£…ä¸è°ƒè¯•","uri":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/"},{"categories":["Programming"],"content":" ä½¿ç”¨OpenOnloadæœ‰ä¸¤ç§æ¨¡å¼ã€‚ Spinningæ¨¡å¼ï¼ˆbusy-waitï¼‰ä¸­ï¼ŒåŠ é€Ÿè¿›ç¨‹çš„æ¯ä¸ªçº¿ç¨‹ä¼šå ç”¨ä¸€æ•´ä¸ªCPU coreï¼Œå§‹ç»ˆå¤„äºwaitingçŠ¶æ€ã€‚é€šè¿‡htopå¯ä»¥çœ‹åˆ°è¯¥CPUçš„ä½¿ç”¨ç‡ä¸º100%ã€‚spinningæ¨¡å¼é€Ÿåº¦æ›´å¿«ï¼Œä½†æ˜¯è¦æ³¨æ„CPU coreçš„æ•°é‡ã€‚ Interruptæ¨¡å¼ä¸­ï¼Œçº¿ç¨‹ä¸ä¼šå ç”¨æ»¡ä¸€ä¸ªCPU coreï¼Œä½†å¯ä»¥å°†ä¸­æ–­Interruptæ”¾åœ¨ä¸€ä¸ªCPU coreã€‚interruptæ¨¡å¼ä¹Ÿæœ‰åŠ é€Ÿæ•ˆæœï¼Œç†è®ºä¸Šæ¯”spinningç•¥å·®ä¸€äº›ã€‚å½“æœåŠ¡å™¨ä¸Šæ€»çº¿ç¨‹æ•°å¤§äºCPU coreçš„æ•°é‡æ—¶ï¼Œinterruptå¯èƒ½ä¼˜äºspinningï¼Œéœ€è¦æµ‹è¯•æ¥è®ºè¯ã€‚ ","date":"2019-12-11","objectID":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/:4:0","tags":["solarflare","openonload","ç½‘ç»œç¼–ç¨‹"],"title":"Solarflareç½‘å¡å¼€å‘ï¼šopenonload å®‰è£…ä¸è°ƒè¯•","uri":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/"},{"categories":["Programming"],"content":" ä½¿ç”¨ spinning æ¨¡å¼åŠ é€Ÿåº”ç”¨æŸ¥çœ‹CPU coreåºå·ï¼ˆæ³¨æ„ï¼Œä¸€èˆ¬æœåŠ¡å™¨æ˜¯ä»0å¼€å§‹æ’åºï¼Œä¹Ÿæœ‰ä¸æ­£å¸¸çš„ç‰ˆæœ¬ï¼Œè¯·æŸ¥è¯ã€‚å¦åˆ™OpenOnloadé€‰æ‹©çš„CPU coreå¯èƒ½ä¸å­˜åœ¨ï¼‰ egrep \"(id|processo).*:|^ *$\" /proc/cpuinfo onload -p latency taskset -c 3 ./[Application] onload --profile=latency taskset -c 2 ./[Application] å…¶ä¸­ï¼Œ-c å‚æ•°é€‰æ‹© CPU core çš„å·ç ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©å¤šä¸ªcoreï¼š-c 2,3ã€‚é€‰æ‹©coreçš„æ•°é‡ä¸è¿›ç¨‹çš„çº¿ç¨‹æ•°æœ‰å…³ã€‚ ","date":"2019-12-11","objectID":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/:4:1","tags":["solarflare","openonload","ç½‘ç»œç¼–ç¨‹"],"title":"Solarflareç½‘å¡å¼€å‘ï¼šopenonload å®‰è£…ä¸è°ƒè¯•","uri":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/"},{"categories":["Programming"],"content":" ä½¿ç”¨ internal æ¨¡å¼åŠ é€Ÿåº”ç”¨ onload ./[Application] ","date":"2019-12-11","objectID":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/:4:2","tags":["solarflare","openonload","ç½‘ç»œç¼–ç¨‹"],"title":"Solarflareç½‘å¡å¼€å‘ï¼šopenonload å®‰è£…ä¸è°ƒè¯•","uri":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/"},{"categories":["Programming"],"content":" demoæ‰€æœ‰è¿è¡Œçš„demoéƒ½åœ¨æˆ‘ä»¬äº‹å…ˆä¸‹è½½å¾—åˆ°çš„å‹ç¼©åŒ…é‡Œé¢ã€‚ä¸€èˆ¬æ¥è¯´ files under the gnu directory are 32-bit (if these are built) files under the gnu_x86_64 directory are 64-bit. æˆ‘ä»¬è¿›å…¥ gnu_x86_64 çš„æ–‡ä»¶å¤¹å³å¯ã€‚ cd scripts/ ## å¢åŠ ç¯å¢ƒè·¯å¾„ export PATH=\"$PWD:$PATH\" ## ä½¿ç”¨ 64 ä½è¿›è¡Œç¼–è¯‘ cd ../build/gnu_x86_64/tests/ef_vi/ ## å…ˆæ¸…ç†ï¼Œç„¶åå®‰è£… make clean \u0026\u0026 make pwd /root/openonload-201811/build/gnu_x86_64/tests/ef_vi ls -alh total 5304 -rw-r--r--. 1 root root 1 Nov 17 03:53 copy.depends -rw-r--r--. 1 root root 0 Nov 17 03:53 copy.done -rwxr-xr-x. 1 root root 343784 Nov 25 04:24 efforward -rw-r--r--. 1 root root 2724 Nov 25 04:24 efforward.d -rw-r--r--. 1 root root 79712 Nov 25 04:24 efforward.o -rwxr-xr-x. 1 root root 387320 Nov 25 04:24 efforward_packed -rw-r--r--. 1 root root 2745 Nov 25 04:24 efforward_packed.d -rw-r--r--. 1 root root 86952 Nov 25 04:24 efforward_packed.o -rwxr-xr-x. 1 root root 368680 Nov 25 04:24 efjumborx -rw-r--r--. 1 root root 2670 Nov 25 04:24 efjumborx.d -rw-r--r--. 1 root root 80384 Nov 25 04:24 efjumborx.o -rwxr-xr-x. 1 root root 465904 Nov 25 04:24 eflatency -rw-r--r--. 1 root root 5631 Nov 25 04:24 eflatency.d -rw-r--r--. 1 root root 121064 Nov 25 04:24 eflatency.o -rwxr-xr-x. 1 root root 326256 Nov 25 04:24 efrss -rw-r--r--. 1 root root 2658 Nov 25 04:24 efrss.d -rw-r--r--. 1 root root 67640 Nov 25 04:24 efrss.o -rwxr-xr-x. 1 root root 421928 Nov 25 04:24 efsend -rw-r--r--. 1 root root 5366 Nov 25 04:24 efsend_common.d -rw-r--r--. 1 root root 33168 Nov 25 04:24 efsend_common.o -rw-r--r--. 1 root root 5437 Nov 25 04:24 efsend.d -rw-r--r--. 1 root root 51224 Nov 25 04:24 efsend.o -rwxr-xr-x. 1 root root 427032 Nov 25 04:24 efsend_pio -rw-r--r--. 1 root root 5446 Nov 25 04:24 efsend_pio.d -rw-r--r--. 1 root root 45840 Nov 25 04:24 efsend_pio.o -rwxr-xr-x. 1 root root 435640 Nov 25 04:24 efsend_pio_warm -rw-r--r--. 1 root root 5563 Nov 25 04:24 efsend_pio_warm.d -rw-r--r--. 1 root root 63160 Nov 25 04:24 efsend_pio_warm.o -rwxr-xr-x. 1 root root 409200 Nov 25 04:24 efsend_timestamping -rw-r--r--. 1 root root 5476 Nov 25 04:24 efsend_timestamping.d -rw-r--r--. 1 root root 43816 Nov 25 04:24 efsend_timestamping.o -rwxr-xr-x. 1 root root 410640 Nov 25 04:24 efsink -rw-r--r--. 1 root root 2733 Nov 25 04:24 efsink.d -rw-r--r--. 1 root root 97664 Nov 25 04:24 efsink.o -rwxr-xr-x. 1 root root 369440 Nov 25 04:24 efsink_packed -rw-r--r--. 1 root root 2736 Nov 25 04:24 efsink_packed.d -rw-r--r--. 1 root root 65952 Nov 25 04:24 efsink_packed.o -rw-r--r--. 1 root root 150 Nov 17 03:53 GNUmakefile -rwxr-xr-x. 1 root root 5220 Nov 25 04:24 stats -rw-r--r--. 1 root root 2623 Nov 25 04:24 utils.d -rw-r--r--. 1 root root 79648 Nov 25 04:24 utils.o ","date":"2019-12-11","objectID":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/:5:0","tags":["solarflare","openonload","ç½‘ç»œç¼–ç¨‹"],"title":"Solarflareç½‘å¡å¼€å‘ï¼šopenonload å®‰è£…ä¸è°ƒè¯•","uri":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/"},{"categories":["Programming"],"content":" ä¸»è¦åº”ç”¨efvi ","date":"2019-12-11","objectID":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/:6:0","tags":["solarflare","openonload","ç½‘ç»œç¼–ç¨‹"],"title":"Solarflareç½‘å¡å¼€å‘ï¼šopenonload å®‰è£…ä¸è°ƒè¯•","uri":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/"},{"categories":["Programming"],"content":" æµ‹è¯•","date":"2019-12-11","objectID":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/:7:0","tags":["solarflare","openonload","ç½‘ç»œç¼–ç¨‹"],"title":"Solarflareç½‘å¡å¼€å‘ï¼šopenonload å®‰è£…ä¸è°ƒè¯•","uri":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/"},{"categories":["Programming"],"content":" æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯latency ","date":"2019-12-11","objectID":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/:7:1","tags":["solarflare","openonload","ç½‘ç»œç¼–ç¨‹"],"title":"Solarflareç½‘å¡å¼€å‘ï¼šopenonload å®‰è£…ä¸è°ƒè¯•","uri":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/"},{"categories":["Programming"],"content":" å»¶æ—¶æµ‹è¯• ç½‘ç»œæ¶æ„ ä¸¤å°æœºå™¨éƒ½é…å¤‡ Solarflare ç½‘ç»œé€‚é…å™¨ ä¸¤å°æœºå™¨ä½¿ç”¨ä¸€æ ¹å…‰çº¤çº¿è¿æ¥ Solarflare æ¥å£ åˆ†åˆ«ä¸ºä¸¤å—å¡ä¸Šçš„ Solarflare æ¥å£é…ç½®ä¸€ä¸ª IP åœ°å€ï¼Œ ä½¿å¾—å®ƒä»¬ä¹‹é—´å¯ä»¥é€šè®¯ï¼Œä½¿ç”¨ ping å‘½ä»¤éªŒè¯è¿æ¥ OpenOnload éƒ½åˆ†åˆ«å®‰è£…åˆ°ä¸¤å°æœºå™¨ä¸Š Solarflare çš„ sfnettest å’Œ NetPerf éƒ½åˆ†åˆ«å®‰è£…åˆ°ä¸¤å°æœºå™¨ä¸Š è½¯ä»¶å®‰è£… å®‰è£… openonload ## è¿›å…¥ç›¸åº”çš„æ–‡ä»¶å¤¹ cd openonload-201811/ ## æºä»£ç å­˜æ”¾ cd scripts/ ## æ­å»ºç¯å¢ƒ ./onload_build ## æ‰§è¡Œå®‰è£… ./onload_install #åŠ è½½ onload onload_tool reload å®‰è£… Netperf wget http://repo.iotti.biz/CentOS/7/x86_64/netperf-2.7.0-1.el7.lux.x86_64.rpm rpm -i netperf-2.7.0-1.el7.lux.x86_64.rpm å®‰è£… sfnettest wget https://www.openonload.org/download/sfnettest/sfnettest-1.5.0.tgz tar xvf sfnettest-1.5.0.tgz cd sfnettest-1.5.0/src make è°ƒä¼˜è®¾ç½® ## åœæ­¢ cpuspeed æœåŠ¡ä»¥é¿å…è¿›å…¥çœç”µæ¨¡å¼ï¼Œé™ä½CPUæ—¶é’Ÿé€Ÿåº¦ systemctl stop cpuspeed ## åœæ­¢ irqbalance æœåŠ¡å™¨ä»¥é˜²æ­¢ OS åœ¨å¯ç”¨çš„CPUå†…æ ¸ä¹‹é—´é‡æ–°å¹³è¡¡ä¸­æ–­ systemctl stop irqbalance ## åœæ­¢é˜²ç«å¢™è¾å°„å™¨ä»¥æ¶ˆé™¤ç®€ä»‹æ¶ˆè€— systemctl stop firewalld ## ç¦ç”¨ interrupt moderation ethtool -C enp1s0f1 rx-usecs-irq 0 adaptive-rx off ## å¯åŠ¨ä½å»¶æ—¶é…ç½®ï¼štuned-adm tuned-adm list tuned-adm profile network-latency ## é˜²æ­¢ç³»ç»Ÿè¿›å…¥ CPU ä½åŠŸè€—æ¨¡å¼ã€€cstates ## å‚è€ƒåšæ–‡: https://williamlfang.github.io/post/2019-12-11-linux-è°ƒæ•´-cstate-å®ç°cpuè¶…é¢‘/ sfnettest å»¶æ—¶æµ‹è¯• å‚æ•°è¯´æ˜ --profile=latencyï¼šæµ‹è¯•å»¶æ—¶æ¨¡å¼ taskset -c 1ï¼šç»‘å®š cpu core çš„å·ç  1 --maxms=10000 æŒ‡å‘é€çš„æœ€å¤§æ•°æ®åŒ…å¤§å° --affinity \"1;1\" æŒ‡ä½¿ç”¨ core 1 å‘é€ï¼Œä½¿ç”¨ core 1 æ¥æ”¶ï¼ˆå¯ä»¥é€‰ä¸åŒçš„coreï¼‰ æœåŠ¡å™¨é¦–å…ˆï¼Œåœ¨æœåŠ¡å™¨å¼€å¯ onload --profile=latency taskset -c 1 ./sfnt-pingpong --maxms=10000 --affinity 1,1 è¿è¡ŒæˆåŠŸåç­‰å¾…å®¢æˆ·ç«¯æ¥å…¥ oo:sfnt-pingpong[17337]: Using OpenOnload 201811 Copyright 2006-2018 Solarflare Communications, 2002-2005 Level 5 Networks [2] sfnt-pingpong: server: waiting for client to connect... TCP æµ‹è¯• onload --profile=latency taskset -c 1 ./sfnt-pingpong --maxms=10000 --affinity 1,1 tcp 127.0.0.1 è¿è¡Œç»“æœå¦‚ä¸‹ oo:sfnt-pingpong[17093]: Using OpenOnload 201811 Copyright 2006-2018 Solarflare Communications, 2002-2005 Level 5 Networks [4] # cmdline: ./sfnt-pingpong --maxms=10000 --affinity 1,1 tcp 127.0.0.1 # version: 1.5.0 # src: 8dc3b027d85b28bedf9fd731362e4968 # date: Wed Dec 11 02:19:49 EST 2019 # uname: Linux localhost.localdomain 3.10.0-1062.4.1.el7.x86_64 #1 SMP Fri Oct 18 17:15:30 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux # cpu: model name : Intel(R) Core(TM) i5-8500 CPU @ 3.00GHz # lspci: 01:00.0 Ethernet controller: Solarflare Communications SFC9120 10G Ethernet Controller (rev 01) # lspci: 01:00.1 Ethernet controller: Solarflare Communications SFC9120 10G Ethernet Controller (rev 01) # lspci: 05:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8111/8168/8411 PCI Express Gigabit Ethernet Controller (rev 15) # enp1s0f0: driver: sfc # enp1s0f0: version: 4.15.0.1012 # enp1s0f0: bus-info: 0000:01:00.0 # enp1s0f1: driver: sfc # enp1s0f1: version: 4.15.0.1012 # enp1s0f1: bus-info: 0000:01:00.1 # enp5s0: driver: r8169 # enp5s0: version: # enp5s0: bus-info: 0000:05:00.0 # virbr0: driver: bridge # virbr0: version: 2.3 # virbr0: bus-info: N/A # virbr0-nic: driver: tun # virbr0-nic: version: 1.6 # virbr0-nic: bus-info: tap # ram: MemTotal: 7872940 kB # tsc_hz: 2999998960 # LD_PRELOAD=libonload.so # onload_version=201811 # EF_TCP_FASTSTART_INIT=0 # EF_POLL_USEC=100000 # EF_TCP_FASTSTART_IDLE=0 # server LD_PRELOAD=libonload.so # percentile=99 # # size mean min median max %ile stddev iter 1 7668 6472 7556 35283 8855 522 650000 2 7064 6133 7010 257486 8064 469 705000 4 6964 6123 6982 16029 7967 369 716000 8 6915 6093 6911 16987 7923 401 721000 16 6904 6113 6866 22018 7916 403 722000 32 6888 6118 6827 15773 7875 384 723000 64 6880 6114 6820 16818 7862 390 724000 128 6895 6172 6833 14807 7890 397 723000 256 6909 6122 6850 20069 7911 391 721000 512 6861 6118 6805 308711 7840 527 726000 1024 6869 6139 6806 27147 7875 407 725000 2048 7124 6391 7064 19685 8141 412 699000 4096 7397 6523 7357 20114 8455 437 674000 8192 7675 6839 7612 19902 8757 432 649000 16384 8481 7628 8417 17966 9577 412 588000 32768 10136 9162 10063 19106 11376 477 492000 65536 20403 18129 20392 41106 22849 1070 245000 æµ‹è¯•ç»“æœæŒ‰ç…§å‘é€æ•°æ®åŒ…å¤§å°è¿›è¡Œæ’åˆ—ï¼Œè¾“å‡ºç»“æœä¸º RTT(round-trip-time)/2çš„å¹³å‡å»¶æ—¶æ—¶é—´ï¼Œå•ä½(ns)ï¼Œå¹¶ä¸”åˆ—å‡ºäº†æœ€å°å€¼ã€ä¸­ä½æ•°ã€æœ€å¤§å€¼ã€ç™¾åˆ†ä½ä»¥åŠæ ‡å‡†å·®ã€‚æ¯”å¦‚ä¸€ä¸ª 32 å­—èŠ‚çš„æ•°æ®åŒ… # size mean min median max %ile stddev iter 32 6888 6118 6827 15773 ","date":"2019-12-11","objectID":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/:7:2","tags":["solarflare","openonload","ç½‘ç»œç¼–ç¨‹"],"title":"Solarflareç½‘å¡å¼€å‘ï¼šopenonload å®‰è£…ä¸è°ƒè¯•","uri":"/archives/2019-12-11-solarflare%E7%BD%91%E5%8D%A1%E5%BC%80%E5%8F%91-openonload-%E5%AE%89%E8%A3%85%E4%B8%8E%E8%B0%83%E8%AF%95/"},{"categories":["Programming"],"content":"ä¸ºäº†è·å–æœ€æ–°ç‰ˆæœ¬çš„ wireshark è½¯ä»¶ï¼Œéœ€è¦ä»æºä»£ç è¿›è¡Œå®‰è£…ã€‚","date":"2019-12-10","objectID":"/archives/2019-12-10-ubuntu-%E6%BA%90%E4%BB%A3%E7%A0%81%E5%AE%89%E8%A3%85-wireshark/","tags":["ubuntu","networking","tcp","wireshark","ç½‘ç»œ","æ•°æ®"],"title":"Ubuntu æºä»£ç å®‰è£… wireshark","uri":"/archives/2019-12-10-ubuntu-%E6%BA%90%E4%BB%A3%E7%A0%81%E5%AE%89%E8%A3%85-wireshark/"},{"categories":["Programming"],"content":"wireshark ä¸ tcpdump æ˜¯ç½‘ç»œæŠ“åŒ…çš„ä¸¤å¤§ç¥å™¨ã€‚å…¶ä¸­ï¼Œå‰è€…æä¾›äº†æ›´åŠ ä¾¿æ·çš„ç•Œé¢æ“ä½œï¼Œåè€…åˆ™æ¯”è¾ƒé€‚åˆåœ¨å‘½ä»¤è¡Œè¿›è¡Œæ“ä½œã€‚ å®‰è£…Ubuntu å¯ä»¥ç›´æ¥ä»é»˜è®¤ä»“åº“å®‰è£…ï¼Œä½†æ˜¯æä¾›çš„æ˜¯ç¨³(too)å®š(old)çš„ç‰ˆæœ¬ã€‚ä¸ºäº†ä½¿ç”¨æ–°åŠŸèƒ½ï¼Œæˆ‘å†³å®šä»æºä»£ç å®‰è£… wiresharkã€‚ ","date":"2019-12-10","objectID":"/archives/2019-12-10-ubuntu-%E6%BA%90%E4%BB%A3%E7%A0%81%E5%AE%89%E8%A3%85-wireshark/:0:0","tags":["ubuntu","networking","tcp","wireshark","ç½‘ç»œ","æ•°æ®"],"title":"Ubuntu æºä»£ç å®‰è£… wireshark","uri":"/archives/2019-12-10-ubuntu-%E6%BA%90%E4%BB%A3%E7%A0%81%E5%AE%89%E8%A3%85-wireshark/"},{"categories":["Programming"],"content":" ä¸‹è½½ä»£ç æˆ‘ä»¬å¯ä»¥ç›´æ¥ä»å®˜ç½‘ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„æºä»£ç ï¼Œæˆ–è€…æ‰¾åˆ°å†å²ç‰ˆæœ¬ã€‚æœ€å¥½å¼€å¯ Chrome çš„ç¿»å¢™åŠŸèƒ½ï¼Œä¸‹è½½é€Ÿåº¦ä¼šå¿«ä¸€äº›ã€‚ wget https://1.as.dl.wireshark.org/src/wireshark-3.0.7.tar.xz ","date":"2019-12-10","objectID":"/archives/2019-12-10-ubuntu-%E6%BA%90%E4%BB%A3%E7%A0%81%E5%AE%89%E8%A3%85-wireshark/:1:0","tags":["ubuntu","networking","tcp","wireshark","ç½‘ç»œ","æ•°æ®"],"title":"Ubuntu æºä»£ç å®‰è£… wireshark","uri":"/archives/2019-12-10-ubuntu-%E6%BA%90%E4%BB%A3%E7%A0%81%E5%AE%89%E8%A3%85-wireshark/"},{"categories":["Programming"],"content":" å®‰è£…ä¾èµ–æœ‰å¯èƒ½æç¤ºæ‰¾ä¸åˆ° libgcrypt apt install qttools5-dev qttools5-dev-tools libqt5svg5-dev qtmultimedia5-dev build-essential automake autoconf libgtk2.0-dev libglib2.0-dev flex bison libpcap-dev libgcrypt20-dev cmake -y sudo apt-get install libgcrypt20-dev sudo apt-get install keepassx sudo apt-get install build-essential libgl1-mesa-dev ","date":"2019-12-10","objectID":"/archives/2019-12-10-ubuntu-%E6%BA%90%E4%BB%A3%E7%A0%81%E5%AE%89%E8%A3%85-wireshark/:2:0","tags":["ubuntu","networking","tcp","wireshark","ç½‘ç»œ","æ•°æ®"],"title":"Ubuntu æºä»£ç å®‰è£… wireshark","uri":"/archives/2019-12-10-ubuntu-%E6%BA%90%E4%BB%A3%E7%A0%81%E5%AE%89%E8%A3%85-wireshark/"},{"categories":["Programming"],"content":" å®‰è£… wireshark tar -xf wireshark-3.0.7.tar.xz cd wireshark-3.0.7 mkdir build cd build cmake .. make -j make install ç„¶åæŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯ wireshark -v Wireshark 3.0.7 (Git commit 9435717b91f5) Copyright 1998-2019 Gerald Combs \u003cgerald@wireshark.org\u003e and contributors. License GPLv2+: GNU GPL version 2 or later \u003chttp://www.gnu.org/licenses/old-licenses/gpl-2.0.html\u003e This is free software; see the source for copying conditions. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. Compiled (64-bit) with Qt 5.9.7, with libpcap, without POSIX capabilities, without libnl, with GLib 2.56.4, with zlib 1.2.11, without SMI, without c-ares, without Lua, without GnuTLS, with Gcrypt 1.8.1, without Kerberos, without MaxMind DB resolver, without nghttp2, without LZ4, without Snappy, with libxml2 2.9.4, with QtMultimedia, without SBC, without SpanDSP, without bcg729. Running on Linux 4.15.0-20-generic, with Intel(R) Core(TM) i5-6500 CPU @ 3.20GHz (with SSE4.2), with 40091 MB of physical memory, with locale en_US.UTF-8, with libpcap version 1.8.1, with Gcrypt 1.8.1, with zlib 1.2.11, binary plugins supported (0 loaded). Built using gcc 7.4.0. æˆåŠŸå¯åŠ¨ ","date":"2019-12-10","objectID":"/archives/2019-12-10-ubuntu-%E6%BA%90%E4%BB%A3%E7%A0%81%E5%AE%89%E8%A3%85-wireshark/:3:0","tags":["ubuntu","networking","tcp","wireshark","ç½‘ç»œ","æ•°æ®"],"title":"Ubuntu æºä»£ç å®‰è£… wireshark","uri":"/archives/2019-12-10-ubuntu-%E6%BA%90%E4%BB%A3%E7%A0%81%E5%AE%89%E8%A3%85-wireshark/"},{"categories":["Programming"],"content":" é—®é¢˜è§£å†³ å‡ºç°é”™è¯¯ï¼šfile not recognized: File truncated ui/qt/CMakeFiles/qtui.dir/widgets/clickable_label.cpp.o: file not recognized: File truncated collect2: error: ld returned 1 exit status CMakeFiles/wireshark.dir/build.make:557: recipe for target 'run/wireshark' failed make[2]: *** [run/wireshark] Error 1 CMakeFiles/Makefile2:661: recipe for target 'CMakeFiles/wireshark.dir/all' failed make[1]: *** [CMakeFiles/wireshark.dir/all] Error 2 Makefile:140: recipe for target 'all' failed make: *** [all] Error 2 æ²¡æœ‰æ˜ç™½å…·ä½“çš„é”™è¯¯åŸå› ï¼Œä¸è¿‡åœ¨ SOä¸Šé¢æ‰¾åˆ°äº†è¿™ä¸ªæç¤ºï¼šFile not recognized: File truncated GCC errorã€‚æä¾›çš„æ€è·¯æ˜¯åŸæ¥ç¼–è¯‘çš„ç›®æ ‡æ–‡ä»¶æœ‰é—®é¢˜ï¼Œç›´æ¥åˆ æ‰å°±å¥½äº† Just remove the object file. This error most likely appeared after the previous build was interrupted and object file was not generated completely. rm ui/qt/CMakeFiles/qtui.dir/widgets/clickable_label.cpp.o æŠ“åŒ…æŠ“åŒ…ç°åœºå‘æ¥å›¾ç‰‡ å‚è€ƒé“¾æ¥ Install Latest Wireshark on Ubuntu 18.04 ","date":"2019-12-10","objectID":"/archives/2019-12-10-ubuntu-%E6%BA%90%E4%BB%A3%E7%A0%81%E5%AE%89%E8%A3%85-wireshark/:4:0","tags":["ubuntu","networking","tcp","wireshark","ç½‘ç»œ","æ•°æ®"],"title":"Ubuntu æºä»£ç å®‰è£… wireshark","uri":"/archives/2019-12-10-ubuntu-%E6%BA%90%E4%BB%A3%E7%A0%81%E5%AE%89%E8%A3%85-wireshark/"},{"categories":["Programming"],"content":"ä½¿ç”¨ Clion åœ¨è¿œç¨‹æœåŠ¡å™¨è¿›è¡Œé¡¹ç›®å¼€å‘ é¡¹ç›®é…ç½®","date":"2019-12-04","objectID":"/archives/2019-12-04-clion-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/:0:0","tags":["c++","clion","æœåŠ¡å™¨","è¿œç¨‹","gdb"],"title":"Clion è¿œç¨‹è°ƒè¯•","uri":"/archives/2019-12-04-clion-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/"},{"categories":["Programming"],"content":" åŒæ­¥æœ¬åœ°ä»£ç  æ‰“å¼€ File -\u003e Setting -\u003e Build,Execution,Deployment -\u003e Deployment åœ¨å³è¾¹ç‚¹å‡» + è¿›è¡Œæ·»åŠ è¿œç¨‹æœåŠ¡ setting æ ¹æ® Connections æ·»åŠ è¿œç¨‹æœåŠ¡å™¨è´¦æˆ·ä¿¡æ¯ åˆ‡æ¢åˆ° Mappings è®¾ç½®æœ¬åœ°çš„ä»£ç æ ¹ç›®å½•Local path è®¾ç½®è¿œç¨‹çš„ä»£ç æ ¹ç›®å½• Deployment path åŒæ­¥æœ¬åœ°ä»£ç åˆ°è¿œç¨‹æœåŠ¡å™¨ã€‚ç”±äºæˆ‘ä»¬çš„ä»£ç æ˜¯æ”¾åœ¨æœ¬åœ°æœºå™¨ï¼Œè€Œéœ€è¦åœ¨è¿œç¨‹æœåŠ¡å™¨è¿›è¡Œç¼–è¯‘ã€è°ƒè¯•ï¼Œå› æ­¤éœ€è¦æŠŠæœ¬åœ°ä»£ç ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚ç‚¹å‡» Tools -\u003e Deployment è¿›è¡Œé…ç½®ã€‚å½“ç„¶ï¼Œæœ€å¥½è®¾ç½®æˆè‡ªåŠ¨åŒæ­¥ï¼Œè¿™æ ·ä¸€æ—¦æœ¬åœ°ä»£ç å‘ç”Ÿå˜åŠ¨ï¼Œå°±ä¼šè‡ªåŠ¨åŒæ­¥åˆ°æœåŠ¡å™¨ã€‚ ç”±äºè‡ªåŠ¨åŒæ­¥åªèƒ½æ ¹æ®å•æ–‡ä»¶ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦äº‹å…ˆæŠŠè¿™ä¸ªæ–‡ä»¶å¤¹ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œç„¶åæ‰èƒ½å®ç°è‡ªåŠ¨åŒæ­¥åŠŸèƒ½ã€‚ auto-update ","date":"2019-12-04","objectID":"/archives/2019-12-04-clion-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/:1:0","tags":["c++","clion","æœåŠ¡å™¨","è¿œç¨‹","gdb"],"title":"Clion è¿œç¨‹è°ƒè¯•","uri":"/archives/2019-12-04-clion-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/"},{"categories":["Programming"],"content":" è¿œç¨‹è°ƒè¯• ç°åœ¨å·²ç»æŠŠæœ¬åœ°ä»£ç åŒæ­¥åˆ°æœåŠ¡å™¨äº†ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨æœåŠ¡å™¨è¿›è¡Œç¼–è¯‘ã€‚è®°å¾— cmake æŒ‡å®šéœ€è¦ -DCMAKE_BUILD_TYPE=Debugæ¥è¯·è·å–è°ƒè¯• ## æœåŠ¡å™¨ç«¯ cd cmake-build-debug cmake .. -DCMAKE_BUILD_TYPE=Debug make build å¯åŠ¨ gdbserver ## æœåŠ¡å™¨ç«¯ ## æŒ‡å®šç›‘å¬ç«¯å£ 1234 gdbserver :1234 hello gdb åœ¨ Clion è¿›è¡Œè°ƒè¯• æ·»åŠ  gdbserver è°ƒè¯•å™¨ å¯åŠ¨å¯¹æœåŠ¡å™¨æŒ‡å®šç«¯å£çš„è°ƒè¯• debug å‚è€ƒé“¾æ¥ ä½¿ç”¨Clionä¼˜é›…çš„å®Œå…¨è¿œç¨‹è‡ªåŠ¨åŒæ­¥å’Œè¿œç¨‹è°ƒè¯•c++ CLion å®ç°è¿œç¨‹è°ƒè¯• ","date":"2019-12-04","objectID":"/archives/2019-12-04-clion-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/:2:0","tags":["c++","clion","æœåŠ¡å™¨","è¿œç¨‹","gdb"],"title":"Clion è¿œç¨‹è°ƒè¯•","uri":"/archives/2019-12-04-clion-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/"},{"categories":["Programming"],"content":"ç¼–ç¨‹æ˜¯ä¸€é—¨æ‰‹è‰ºæ´»ï¼Œä»…ä»…æ˜¯å‡­å€Ÿæ€è€Œä¸åŠ¨ã€æƒ³è€Œä¸åšï¼Œæ˜¯æ— æ³•å®Œæˆå·¥ä½œçš„ã€‚æˆ‘å¸¸å¸¸æŠŠç¼–ç¨‹æ¯”å–»æˆä¸€é—¨æ‰‹è‰ºæ´»ï¼Œæ—¢éœ€è¦æˆ‘ä»¬æ‡‚å¾—å¦‚ä½•è®¾è®¡æ¡†æ¶ã€å¦‚ä½•å¸ƒå±€ï¼Œåˆéœ€è¦ç»“åˆå®é™…çš„ææ–™ã€é…ç½®æ‰‹ä¸­çš„èµ„æºï¼Œç„¶åä½¿ç”¨å¨´ç†Ÿçš„æ‰‹è‰ºä¸€ç‚¹ç‚¹çš„è®¤çœŸæ‰“ç£¨ï¼Œæœ€åå¾—åˆ°ä¸€ä»¶ç§°å¿ƒå¦‚æ„çš„äº§å“ã€‚ç°åœ¨äººä»¬å–œæ¬¢è®¨è®ºå·¥åŒ ç²¾ç¥ï¼Œå…¶å®æ˜¯æ¨å´‡å¯¹æ‰‹è‰ºçš„å°Šé‡ï¼Œå¯¹äºä¸€ä»¶äº‹æƒ…æŒä¹‹ä»¥æ’çš„è¿½æ±‚ã€‚ ç¼–ç¨‹å¦‚æ‰‹è‰ºç¼–ç¨‹æ˜¯ä¸€é—¨æ‰‹è‰ºæ´»ï¼Œä»…ä»…æ˜¯å‡­å€Ÿæ€è€Œä¸åŠ¨ã€æƒ³è€Œä¸åšï¼Œæ˜¯æ— æ³•å®Œæˆå·¥ä½œçš„ã€‚æˆ‘å¸¸å¸¸æŠŠç¼–ç¨‹æ¯”å–»æˆä¸€é—¨æ‰‹è‰ºæ´»ï¼Œæ—¢éœ€è¦æˆ‘ä»¬æ‡‚å¾—å¦‚ä½•è®¾è®¡æ¡†æ¶ã€å¦‚ä½•å¸ƒå±€ï¼Œåˆéœ€è¦ç»“åˆå®é™…çš„ææ–™ã€é…ç½®æ‰‹ä¸­çš„èµ„æºï¼Œç„¶åä½¿ç”¨å¨´ç†Ÿçš„æ‰‹è‰ºä¸€ç‚¹ç‚¹çš„è®¤çœŸæ‰“ç£¨ï¼Œæœ€åå¾—åˆ°ä¸€ä»¶ç§°å¿ƒå¦‚æ„çš„äº§å“ã€‚ç°åœ¨äººä»¬å–œæ¬¢è®¨è®ºå·¥åŒ ç²¾ç¥ï¼Œå…¶å®æ˜¯æ¨å´‡å¯¹æ‰‹è‰ºçš„å°Šé‡ï¼Œå¯¹äºä¸€ä»¶äº‹æƒ…æŒä¹‹ä»¥æ’çš„è¿½æ±‚ã€‚ å½“ç„¶ï¼Œå·§å¦‡éš¾ä¸ºæ— ç±³ä¹‹ç‚Šï¼Œä¸ºäº†æ›´å¥½çš„å®Œæˆå·¥ä½œï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦é…åˆä¸€å¥—å¾—å¿ƒåº”æ‰‹çš„å·¥å…·ï¼Œè¿™äº›å·¥å…·çŠ¹å¦‚æˆ‘ä»¬çš„å·¦å³æ‰‹ï¼Œæ‹“å±•äº†æˆ‘ä»¬å¯ä»¥æ´»åŠ¨çš„æƒ³è±¡ç©ºé—´ã€‚å…·ä½“çš„ï¼Œåœ¨ç¼–ç¨‹é¢†åŸŸï¼Œæˆ‘ä»¬åŒæ ·éœ€è¦ä¸€å¥—ä¼˜è‰¯çš„çš„å¼€å‘å·¥å…·ï¼Œä»è€Œå¯ä»¥æå¤§çš„æå‡å·¥ä½œæ•ˆç‡ã€‚ tmux","date":"2019-12-04","objectID":"/archives/2019-12-04-tmux-%E7%BB%88%E7%AB%AF%E7%A5%9E%E5%99%A8/:0:0","tags":["tmux","terminal","zsh","vim"],"title":"tmux:ç»ˆç«¯ç¥å™¨","uri":"/archives/2019-12-04-tmux-%E7%BB%88%E7%AB%AF%E7%A5%9E%E5%99%A8/"},{"categories":["Programming"],"content":" å®‰è£… # Install tmux 2.8 on Centos # install deps yum install -y gcc kernel-devel make ncurses-devel yum install -y automake.noarch # DOWNLOAD SOURCES FOR LIBEVENT AND MAKE AND INSTALL cd /tmp curl -LOk https://github.com/libevent/libevent/releases/download/release-2.1.8-stable/libevent-2.1.8-stable.tar.gz tar -xf libevent-2.1.8-stable.tar.gz cd libevent-2.1.8-stable ./configure --prefix=/usr/local make -j \u0026 make install # DOWNLOAD SOURCES FOR TMUX AND MAKE AND INSTALL cd /tmp curl -LOk https://github.com/tmux/tmux/releases/download/2.8/tmux-2.8.tar.gz tar -xf tmux-2.8.tar.gz cd tmux-2.8 LDFLAGS=\"-L/usr/local/lib -Wl,-rpath=/usr/local/lib\" ./configure --prefix=/usr/local make -j \u0026\u0026 make install pkill tmux # ç¼–è¯‘å‡ºæ¥çš„ç¨‹åºåœ¨ tmux ç›®å½•å†…ï¼Œè¿™é‡Œå‡è®¾ä½ è¿˜æ²¡ç¦»å¼€ tmux ç›®å½• cp tmux /usr/bin/tmux -f cp tmux /usr/local/bin/tmux -f # close your terminal window (flushes cached tmux executable) # open new shell and check tmux version tmux -V ## å¦‚æœå‡ºç°ä¹±ç  export LANG=en_US.UTF-8 export LC_CTYPE=en_US.UTF-8 tmux -u ","date":"2019-12-04","objectID":"/archives/2019-12-04-tmux-%E7%BB%88%E7%AB%AF%E7%A5%9E%E5%99%A8/:1:0","tags":["tmux","terminal","zsh","vim"],"title":"tmux:ç»ˆç«¯ç¥å™¨","uri":"/archives/2019-12-04-tmux-%E7%BB%88%E7%AB%AF%E7%A5%9E%E5%99%A8/"},{"categories":["Programming"],"content":" é…ç½®å¯ä»¥é€šè¿‡ä¿®æ”¹ ~/.tmux.conf è¿›è¡Œè®¾ç½® # # author : Xu Xiaodong \u003cxxdlhy@gmail.com\u003e # modified : 2017 Apr 29 # #-- base settings --# ## set -g default-terminal \"screen-256color\" set -g default-terminal 'linux' set -ga terminal-overrides \",rxvt-unicode-256color:Tc\" set -sg escape-time 0 set -g display-time 3000 set -g history-limit 65535 set -g base-index 1 set -g pane-base-index 1 set -g renumber-windows on #-- bindkeys --# # prefix key (Ctrl+k) set -g prefix ^k unbind ^b bind k send-prefix # split window unbind '\"' bind - splitw -v # vertical split (prefix -) unbind % #bind | splitw -h # horizontal split (prefix |) bind \\ splitw -h # horizontal split (prefix \\) # select pane bind k selectp -U # above (prefix k) bind j selectp -D # below (prefix j) bind h selectp -L # left (prefix h) bind l selectp -R # right (prefix l) # resize pane bind -r ^k resizep -U 5 # upward (prefix Ctrl+k) bind -r ^j resizep -D 5 # downward (prefix Ctrl+j) bind -r ^h resizep -L 5 # to the left (prefix Ctrl+h) bind -r ^l resizep -R 5 # to the right (prefix Ctrl+l) # swap pane bind ^u swapp -U # swap with the previous pane (prefix Ctrl+u) bind ^d swapp -D # swap with the next pane (prefix Ctrl+d) # select layout bind , select-layout even-vertical bind . select-layout even-horizontal # misc bind e lastp # select the last pane (prefix e) bind ^e last # select the last window (prefix Ctrl+e) bind q killp # kill pane (prefix q) bind ^q killw # kill window (prefix Ctrl+q) # copy mode bind Escape copy-mode # enter copy mode (prefix Escape) bind ^p pasteb # paste buffer (prefix Ctrl+p) unbind -T copy-mode-vi Space bind -T copy-mode-vi v send -X begin-selection # select (v) bind -T copy-mode-vi y send -X copy-pipe \"xclip\" # copy (y) # app bind ! splitw htop # htop (prefix !) bind m command-prompt \"splitw 'exec man %%'\" # man (prefix m) bind % command-prompt \"splitw 'exec perldoc -t %%'\" # perl doc (prefix %) bind / command-prompt \"splitw 'exec ri %%'\" # ruby doc (prefix /) # reload config (prefix r) bind r source ~/.tmux.conf \\; display \"Configuration reloaded!\" #-- statusbar --# set -g status-interval 1 set -g status-keys vi setw -g mode-keys vi setw -g automatic-rename off #-- colorscheme --# # statusbar set -g status-justify right # set -g status-left \"\" # set -g status-right \"\" #å·¦ä¸‹è§’ set -g status-left \"#[bg=black,fg=green][#[fg=cyan]#S#[fg=green]]\" set -g status-left-length 20 set -g automatic-rename on set-window-option -g window-status-format '#[dim]#I:#[default]#W#[fg=grey,dim]' set-window-option -g window-status-current-format '#[fg=cyan,bold]#I#[fg=blue]:#[fg=cyan]#W#[fg=dim]' #å³ä¸‹è§’ set -g status-right '#[fg=green][#[fg=cyan]%Y-%m-%d %H:%M:%S#[fg=green]]' # -- display ------------------------------------------------------------------- set -g base-index 1 # start windows numbering at 1 setw -g pane-base-index 1 # make pane numbering consistent with windows setw -g automatic-rename on # rename window to reflect current program set -g renumber-windows on # renumber windows when a window is closed set -g set-titles on # set terminal title set -g display-panes-time 800 # slightly longer pane indicators display time set -g display-time 1000 # slightly longer status messages display time set -g status-interval 1 # redraw status line every 10 seconds set -g status-style \"fg=#504945,bg=#282828\" setw -g window-status-current-fg white setw -g window-status-current-bg red setw -g window-status-current-attr bright setw -g window-status-fg cyan setw -g window-status-bg default setw -g window-status-attr dim # window setw -g window-status-separator \" \" setw -g window-status-format \"-\" setw -g window-status-current-format \"+\" setw -g window-status-current-style \"fg=#d79921,bg=#282828\" # pane set -g pane-border-style \"fg=#ebdbb2\" set -g pane-active-border-style \"fg=#d79921\" #å¼€å¯windowäº‹ä»¶æç¤º setw -g monitor-activity on #set -g visual-activity on ## é¼ æ ‡è®¾ç½®ï¼Œä¸è¦æ‰“å¼€ï¼Œä¸ç„¶ç”¨é¼ æ ‡é€‰æ‹©ä¸äº†å†…å®¹ set-option -g mouse on tmux æ¥ç€ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…åº•éƒ¨çŠ¶æ€æ æ”¯æŒæ’ä»¶ tmux-powerline mkidr -p $HOME/opt cd $HOME/opt mkdir -p .tmux cd .tmux","date":"2019-12-04","objectID":"/archives/2019-12-04-tmux-%E7%BB%88%E7%AB%AF%E7%A5%9E%E5%99%A8/:2:0","tags":["tmux","terminal","zsh","vim"],"title":"tmux:ç»ˆç«¯ç¥å™¨","uri":"/archives/2019-12-04-tmux-%E7%BB%88%E7%AB%AF%E7%A5%9E%E5%99%A8/"},{"categories":["Programming"],"content":" è®¾ç½®çª—å£æ˜¾ç¤º #-- base settings --# ## set -g default-terminal \"screen-256color\" set -g default-terminal 'linux' set -ga terminal-overrides \",rxvt-unicode-256color:Tc\" set -sg escape-time 0 set -g display-time 3000 set -g history-limit 65535 set -g base-index 1 set -g pane-base-index 1 set -g renumber-windows on ","date":"2019-12-04","objectID":"/archives/2019-12-04-tmux-%E7%BB%88%E7%AB%AF%E7%A5%9E%E5%99%A8/:2:1","tags":["tmux","terminal","zsh","vim"],"title":"tmux:ç»ˆç«¯ç¥å™¨","uri":"/archives/2019-12-04-tmux-%E7%BB%88%E7%AB%AF%E7%A5%9E%E5%99%A8/"},{"categories":["Programming"],"content":" ä¿®æ”¹ç»‘å®šé”®åŸæ¥çš„ç»‘å®šæ˜¯ ctrl+bï¼Œæ€»æ„Ÿè§‰è¿™ä¸ªæœ‰ç‚¹é€†äººæ€§ï¼Œæ¯æ¬¡æŒ‰ä¸‹è¿™ä¸¤ä¸ªé”®çš„æ—¶å€™æ•´ä¸ªæ‰‹æŒéƒ½æ˜¯å¼¯æ›²çš„ï¼Œåæ¥å°±å¹²è„†åˆ†å¼€ä½¿ç”¨ä¸¤åªæ‰‹åˆ†åˆ«æŒ‰ä½ä¸€ä¸ªé”®ï¼Œè¿™æ ·å°±é¿å…äº†ä½¿ç”¨å•æ‰‹äº§ç”Ÿçš„æ‰­æ›²æ„Ÿ ##-- bindkeys --# ## prefix key (Ctrl+k) set -g prefix ^k unbind ^b bind k send-prefix ","date":"2019-12-04","objectID":"/archives/2019-12-04-tmux-%E7%BB%88%E7%AB%AF%E7%A5%9E%E5%99%A8/:2:2","tags":["tmux","terminal","zsh","vim"],"title":"tmux:ç»ˆç«¯ç¥å™¨","uri":"/archives/2019-12-04-tmux-%E7%BB%88%E7%AB%AF%E7%A5%9E%E5%99%A8/"},{"categories":["Programming"],"content":" åˆ†å±è¿™ä¸ªæ˜¯ tmux çš„çœ‹å®¶æœ¬é¢†ï¼Œå…è®¸æˆ‘ä»¬é€šè¿‡å¿«æ·é”®è¿›è¡Œå±å¹•çš„ä»»æ„åˆ‡åˆ†ï¼Œç›¸æ¯”äº terminator çš„æ–¹å¼è¦çµæ´»å¾ˆå¤šã€‚è¿™é‡Œæˆ‘ä½¿ç”¨äº† bind-keyï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä¿®æ”¹åçš„ ctrl+kï¼‰ï¼Œç„¶åæŒ‰ä¸‹ | è¿›è¡Œæ¨ªå‘åˆ‡åˆ† bind-keyï¼Œç„¶åæŒ‰ä¸‹ - è¿›è¡Œçºµå‘åˆ‡åˆ† bind-keyï¼Œç„¶åæŒ‰ä¸‹ jï¼šè·³è½¬ä¸‹é¢å±å¹• kï¼šè·³è½¬ä¸Šé¢å±å¹• hï¼šè·³è½¬å·¦è¾¹å±å¹• lï¼šè·³è½¬å³è¾¹å±å¹• å…¶å®è¿™ä¸ªæ–¹å‘è·Ÿ vim çš„æ“ä½œæ˜¯ä¸€æ ·çš„æƒ³æ³•ï¼Œé¿å…äº†è®°å¿†å‹åŠ›ã€‚ åŒæ—¶ï¼Œæˆ‘è¿˜å¯ä»¥ä½¿ç”¨å¿«æ·é”®è¿›è¡Œå±å¹•å¤§å°è°ƒæ•´ã€‚ å…ˆæŒ‰ä¸‹ bind-key ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä¿®æ”¹åçš„ ctrl+kï¼‰ ç„¶åæ¾å¼€ kï¼Œä½†æ˜¯ä¸è¦æ¾å¼€ ctrl é”®ï¼ˆå¦‚æœæ¾å¼€ï¼Œå°±å˜æˆäº†ä¸Šé¢çš„å±å¹•è·³è½¬äº†ï¼‰ æ¥ç€ä½¿ç”¨ hã€jã€kã€l è¿›è¡Œå±å¹•å¤§å°è°ƒæ•´ # split window unbind '\"' bind - splitw -v # vertical split (prefix -) unbind % #bind | splitw -h # horizontal split (prefix |) bind \\ splitw -h # horizontal split (prefix \\) # select pane bind k selectp -U # above (prefix k) bind j selectp -D # below (prefix j) bind h selectp -L # left (prefix h) bind l selectp -R # right (prefix l) # resize pane bind -r ^k resizep -U 5 # upward (prefix Ctrl+k) bind -r ^j resizep -D 5 # downward (prefix Ctrl+j) bind -r ^h resizep -L 5 # to the left (prefix Ctrl+h) bind -r ^l resizep -R 5 # to the right (prefix Ctrl+l) # swap pane bind ^u swapp -U # swap with the previous pane (prefix Ctrl+u) bind ^d swapp -D # swap with the next pane (prefix Ctrl+d) # select layout bind , select-layout even-vertical bind . select-layout even-horizontal # misc bind e lastp # select the last pane (prefix e) bind ^e last # select the last window (prefix Ctrl+e) bind q killp # kill pane (prefix q) bind ^q killw # kill window (prefix Ctrl+q) ","date":"2019-12-04","objectID":"/archives/2019-12-04-tmux-%E7%BB%88%E7%AB%AF%E7%A5%9E%E5%99%A8/:2:3","tags":["tmux","terminal","zsh","vim"],"title":"tmux:ç»ˆç«¯ç¥å™¨","uri":"/archives/2019-12-04-tmux-%E7%BB%88%E7%AB%AF%E7%A5%9E%E5%99%A8/"},{"categories":["Programming"],"content":" çŠ¶æ€æ æ˜¾ç¤ºä½œä¸ºç¨‹åºå‘˜ï¼Œæˆ‘ä»¬æ¯å¤©éƒ½åœ¨ä¸ç»ˆç«¯æ‰“äº¤é“ï¼Œå‡ ä¹æ‰€æœ‰çš„è§†çº¿å°±æ˜¯æ•´ä¸ªå±å¹•èŒƒå›´ã€‚å› æ­¤ï¼Œæˆ‘å½“ç„¶å¸Œæœ›æ‰€æœ‰çš„ç›‘æ§çŠ¶æ€ä¹ŸåŒæ ·å¯ä»¥åœ¨è§†é‡æ‰€åŠèŒƒå›´å†…éƒ½ä¸€ä¸€æ”¶ä¸‹ã€‚tmux ä¹ŸåŒæ ·å…è®¸æˆ‘ä»¬é€šè¿‡ä¿®æ”¹é…ç½®è¿›è¡Œè°ƒæ•´ #-- colorscheme --# # statusbar set -g status-justify right # set -g status-left \"\" # set -g status-right \"\" #å·¦ä¸‹è§’ set -g status-left \"#[bg=black,fg=green][#[fg=cyan]#S#[fg=green]]\" set -g status-left-length 20 set -g automatic-rename on set-window-option -g window-status-format '#[dim]#I:#[default]#W#[fg=grey,dim]' set-window-option -g window-status-current-format '#[fg=cyan,bold]#I#[fg=blue]:#[fg=cyan]#W#[fg=dim]' #å³ä¸‹è§’ set -g status-right '#[fg=green][#[fg=cyan]%Y-%m-%d %H:%M:%S#[fg=green]]' # -- display ------------------------------------------------------------------- set -g base-index 1 # start windows numbering at 1 setw -g pane-base-index 1 # make pane numbering consistent with windows setw -g automatic-rename on # rename window to reflect current program set -g renumber-windows on # renumber windows when a window is closed set -g set-titles on # set terminal title set -g display-panes-time 800 # slightly longer pane indicators display time set -g display-time 1000 # slightly longer status messages display time set -g status-interval 1 # redraw status line every 10 seconds set -g status-style \"fg=#504945,bg=#282828\" setw -g window-status-current-fg white setw -g window-status-current-bg red setw -g window-status-current-attr bright setw -g window-status-fg cyan setw -g window-status-bg default setw -g window-status-attr dim # window setw -g window-status-separator \" \" setw -g window-status-format \"-\" setw -g window-status-current-format \"+\" setw -g window-status-current-style \"fg=#d79921,bg=#282828\" # pane set -g pane-border-style \"fg=#ebdbb2\" set -g pane-active-border-style \"fg=#d79921\" #å¼€å¯windowäº‹ä»¶æç¤º setw -g monitor-activity on #set -g visual-activity on ## é¼ æ ‡è®¾ç½®ï¼Œä¸è¦æ‰“å¼€ï¼Œä¸ç„¶ç”¨é¼ æ ‡é€‰æ‹©ä¸äº†å†…å®¹ set-option -g mouse on ## ============================================================================= ## https://github.com/erikw/tmux-powerline set-option -g status on set-option -g status-interval 2 set-option -g status-justify \"centre\" set-option -g status-left-length 150 set-option -g status-right-length 120 set-option -g status-left \"#(~/opt/.tmux/tmux-powerline/powerline.sh left)\" set-option -g status-right \"#(~/opt/.tmux/tmux-powerline/powerline.sh right)\" set-window-option -g window-status-current-format \"#[fg=colour235, bg=colour27]â®€#[fg=colour255, bg=colour27] #I â® #W #[fg=colour27, bg=colour235]â®€\" setw -g window-status-style 'fg=colour9 bg=colour18' setw -g window-status-format ' #I#[fg=colour237]:#[fg=colour250]#W#[fg=colour244]#F ' setw -g window-status-bell-style 'fg=colour255 bg=colour1 bold' # messages set -g message-style 'fg=colour1 bg=colour16 bold' ## ============================================================================= ## ============================================================================= ## ä½¿ç”¨ bin++z å®ç°æœ€å¤§-æœ€å°å± # unbind m # bind m run \". ~/tmux-zoom \" bind -r a select-pane -t .+1 \\; resize-pane -Z # bind -n C-Space resize-pane -Z # Ref https://superuser.com/questions/238702/maximizing-a-pane-in-tmux # #!/bin/bash -f # currentwindow=`tmux list-window | tr '\\t' ' ' | sed -n -e '/(active)/s/^[^:]*: *\\([^ ]*\\) .*/\\1/gp'`; # currentpane=`tmux list-panes | sed -n -e '/(active)/s/^\\([^:]*\\):.*/\\1/gp'`; # panecount=`tmux list-panes | wc | sed -e 's/^ *//g' -e 's/ .*$//g'`; # inzoom=`echo $currentwindow | sed -n -e '/^zoom/p'`; # if [ $panecount -ne 1 ]; then # inzoom=\"\"; # fi # if [ $inzoom ]; then # lastpane=`echo $currentwindow | rev | cut -f 1 -d '@' | rev`; # lastwindow=`echo $currentwindow | cut -f 2- -d '@' | rev | cut -f 2- -d '@' | rev`; # tmux select-window -t $lastwindow; # tmux select-pane -t $lastpane; # tmux swap-pane -s $currentwindow; # tmux kill-window -t $currentwindow; # else # newwindowname=zoom@$currentwindow@$currentpane; # tmux new-window -d -n $newwindowname; # tmux swap-pane -s $newwindowname; # tmux select-window -t $newwindowname; # fi ## -------------------------------------------------- # ","date":"2019-12-04","objectID":"/archives/2019-12-04-tmux-%E7%BB%88%E7%AB%AF%E7%A5%9E%E5%99%A8/:2:4","tags":["tmux","terminal","zsh","vim"],"title":"tmux:ç»ˆç«¯ç¥å™¨","uri":"/archives/2019-12-04-tmux-%E7%BB%88%E7%AB%AF%E7%A5%9E%E5%99%A8/"},{"categories":["Programming"],"content":" è®¾ç½®æ´»è·ƒçª—å£ ## ----------------------------------------------------- ## è®¾ç½®æ´»è·ƒçª—å£çš„èƒŒæ™¯é¢œè‰² set-option -ga terminal-overrides \",xterm-256color:Tc\" # setw -g window-style 'bg=#504945' # setw -g window-active-style 'bg=#282828' set -g \"window-style\" \"fg=#aab2bf,bg=default\" # set -g \"window-active-style\" \"bg=default\" # setw -g window-style 'bg=#504945' setw -g window-active-style 'bg=#282828,bold' ## ----------------------------------------------------- set-window-option -g clock-mode-colour colour40 #green set-option -g pane-border-fg colour10 set-option -g pane-active-border-fg colour4 # toggle pane synchronization bind s setw synchronize-panes ## ============================================================================= ## å®‰è£… tmux plugin ## åœ¨ Tmux é‡Œé¢ä½¿ç”¨ prefix + I å®‰è£…æ’ä»¶ # prefix + Ctrl-s - save # prefix + Ctrl-r - restore set -g @plugin 'tmux-plugins/tmux-resurrect' ## æˆ–è€…æ‰‹åŠ¨å®‰è£… ## cd ~/Documents ## git clone https://github.com/tmux-plugins/tmux-resurrect run-shell ~/Documents/tmux-resurrect/resurrect.tmux ## ============================================================================= set -g pane-border-status bottom set -g pane-border-format \"#P #T #{pane_current_command}\" ","date":"2019-12-04","objectID":"/archives/2019-12-04-tmux-%E7%BB%88%E7%AB%AF%E7%A5%9E%E5%99%A8/:2:5","tags":["tmux","terminal","zsh","vim"],"title":"tmux:ç»ˆç«¯ç¥å™¨","uri":"/archives/2019-12-04-tmux-%E7%BB%88%E7%AB%AF%E7%A5%9E%E5%99%A8/"},{"categories":["Programming"],"content":" å±å¹•å³è¾¹æ˜¾ç¤ºå‘½ä»¤æ‰§è¡Œæ—¶é—´è¿™ä¸ªä¸»è¦ä¸ºäº†æé†’æˆ‘ä»¬åœ¨ä»€ä¹ˆæ—¶å€™æ‰§è¡Œäº†æ“ä½œã€‚å…¶å®æ˜¯é€šè¿‡ä¿®æ”¹ ~/.oh-my-zsh/themes/agnoster.zsh-themeã€‚ä¸è¿‡æˆ‘æŠŠè¿™æ¡æ”¾åœ¨ä¸€èµ· ## æ˜¾ç¤ºå‘½ä»¤æ‰§è¡Œæ—¶é—´ strlen () { FOO=$1 local zero='%([BSUbfksu]|([FB]|){*})' LEN=${#${(S%%)FOO//$~zero/}} echo $LEN } # show right prompt with date ONLY when command is executed preexec () { DATE=$( date +\"[%H:%M:%S]\" ) local len_right=$( strlen \"$DATE\" ) len_right=$(( $len_right+1 )) local right_start=$(($COLUMNS - $len_right)) local len_cmd=$( strlen \"$@\" ) local len_prompt=$(strlen \"$PROMPT\" ) local len_left=$(($len_cmd+$len_prompt)) RDATE=\"\\033[${right_start}C ${DATE}\" if [ $len_left -lt $right_start ]; then # command does not overwrite right prompt # ok to move up one line #echo -e \"\\033[1A${RDATE}\" # Black='\\033[30m' # Black # Red='\\033[31m' # Red # Green='\\033[32m' # Green # Yellow='\\033[33m' # Yellow # Blue='\\033[34m' # Blue # Purple='\\033[35m' # Purple # Cyan='\\033[36m' # Cyan # White='\\033[37m' # White echo -e \"\\033[1A\\033[36m${RDATE}\\033[36m\" else echo -e \"${RDATE}\" fi } ","date":"2019-12-04","objectID":"/archives/2019-12-04-tmux-%E7%BB%88%E7%AB%AF%E7%A5%9E%E5%99%A8/:2:6","tags":["tmux","terminal","zsh","vim"],"title":"tmux:ç»ˆç«¯ç¥å™¨","uri":"/archives/2019-12-04-tmux-%E7%BB%88%E7%AB%AF%E7%A5%9E%E5%99%A8/"},{"categories":["Programming"],"content":"â€œThe C Programming Languageâ€ æ˜¯è®¡ç®—æœºç¼–ç¨‹çš„ç»å…¸ä¹‹ä½œï¼Œåˆ«å K\u0026Rã€‚ è¿™æ˜¯ä¸€æœ¬ç®€çŸ­ç²¾æ‚çš„ä¹¦ç±ï¼Œä»‹ç»äº† C è¯­è¨€çš„ç¼–ç¨‹æ ¸å¿ƒã€ANSI è§„èŒƒã€ç¼–è¯‘åŸç†ç­‰è¯¸å¤šæ–¹é¢çš„å†…å®¹ã€‚ç°åœ¨å¾ˆéš¾æƒ³è±¡è¿™æœ¬ä¸è¶³ 200 é¡µçš„å°ä¹¦^[å¯ä»¥å‚è€ƒè¿™ä¸ªé“¾æ¥çœ‹çœ‹ç°åœ¨æœ‰å“ªäº›ä¼˜ç§€çš„ C ç¼–ç¨‹æ•°æ®ï¼šThe Definitive C Book Guide and List - Stack Overflow]å°½ç„¶èƒ½å¤Ÿæ”¾å¾—ä¸‹è¿™ä¹ˆå¤šçš„å†…å®¹ï¼Œå¯ä»¥è¯´æ˜¯æçº²æŒˆé¢†ã€è¨€ç®€æ„å“ã€‚å°¤å…¶æ˜¯é™„å½•Aéƒ¨åˆ†ï¼Œåªæ˜¯ç®€è¦ä»‹ç»äº† C çš„ç¼–è¯‘åŸç†ï¼ŒåŒºåŒºå‡ é¡µçº¸å¼ å°±è¶³ä»¥ä¸ºåäººç¼–å†™å„å¼ä¸åŒçš„ç¼–è¯‘å™¨æä¾›æŒ‡å¼•^[å…³äº C çš„å†å²ï¼Œè¿™é‡Œæœ‰ä¸€ç¯‡ Dennis Ritchie å†™çš„æ–‡ç« å¯ä¾›å‚è€ƒï¼šThe Development of the C Language]ã€‚ æ¦‚è§ˆK\u0026R: ç»å…¸ä¹‹ä½œ æ ¹æ®æˆ‘å¯¾æœ¬ä¹¦çš„ç†è§£ï¼ŒæŠŠæ•´æœ¬ä¹¦ç±åˆ†æˆå››éƒ¨åˆ† ç¬¬ä¸€éƒ¨åˆ†ï¼šç®€å•ä»‹ç» Cï¼Œé‡ç‚¹åœ¨äºè¯´æ˜ä¸ºä½•è¦æŠŠ C è®¾è®¡æˆå¦‚æ­¤ç®€è¦ã€‚ä¸€æ–¹é¢ï¼Œæ˜¯å—åˆ°å½“æ—¶ç¨‹åºè¿è¡Œçš„ç¡¬ä»¶æ¡ä»¶é™åˆ¶ï¼Œæœ€æ—© K.Tompson å’Œ D.Ritchie æ˜¯åœ¨ PDP-7ã€PDP-11 ä¸Šé¢å®ç°äº† Unix æ“ä½œç³»ç»Ÿï¼Œç„¶åæ‰å†³å®šè®¾è®¡ä¸€æ¬¾ä¸è¿™ä¸ª Unix æ“ä½œç³»ç»Ÿé…å¥—çš„ç¼–ç¨‹è¯­è¨€ï¼Œè¿™å¿…ç„¶è¦æ±‚æ–°è¯­è¨€ä¸€å®šè¦è¶³å¤Ÿç²¾ç®€ä»¥é€‚åº”æ“ä½œç³»ç»Ÿå¯¾æ€§èƒ½çš„æè‡´è€ƒéªŒï¼›å¦ä¸€æ–¹é¢ï¼Œã€Œå°è€Œç¾ã€æ˜¯å½“æ—¶å­¦æœ¯é¢†åŸŸçš„ä¸€ä¸ªæ™®éè®¤å¯çš„è§‚å¿µï¼Œå³æ ¹æ®ã€Œå¥¥å¡å§†ã€å®šå¾‹ï¼šå¦‚æ— å¿…è¦ï¼Œè¯·å‹¿å¢æ·»ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ç°åœ¨çœ‹åˆ°ï¼ŒC è¯­è¨€æœ€æ ¸å¿ƒçš„å†…å®¹å…¶å®å¾ˆå°‘ï¼Œå…³é”®è¯ä¸åˆ° 30 ä¸ªï¼ŒåŸºæœ¬ä¸Šè¾¾åˆ°äº†é«˜çº§ç¼–ç¨‹è¯­è¨€èƒ½å¤Ÿè§¦æ‘¸çš„ã€Œåº•å±‚åœ°æ¿ã€ï¼Œä½†é€šè¿‡ä¸€å®šçš„è®¾è®¡ä¹‹åï¼Œç”±è¿™äº›å‘½ä»¤ç»„æˆçš„ç¨‹åºå´åˆæœ‰ç€å¼ºå¤§çš„èƒ½å¤Ÿï¼Œæ—¢èƒ½å¤Ÿå®ç°å¯¾åº•å±‚ç¡¬ä»¶ï¼ˆæŒ‡é’ˆæ˜¯ C è¯­è¨€çš„æ ¸å¿ƒï¼Œå³å˜é‡åœ¨å†…å­˜çš„åœ°å€ï¼‰çš„ç›´æ¥æ“æ§ï¼Œåˆèƒ½æä¾›ç®€æ´æ˜ç¡®çš„é€»è¾‘èŒƒå¼ã€‚ Chapter 0: Introduction C is a general-purpose programming languageã€‚ C æ˜¯ä¸€ä¸ªé€šç”¨çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ—¢èƒ½å¤Ÿç”¨äºç¼–å†™æ“ä½œç³»ç»Ÿè¿™ç±»é«˜éš¾åº¦çš„ã€Œç¨‹åºã€ï¼Œä¹Ÿæä¾›äº†ä¸€å¥—å¼€å‘é«˜çº§ç¨‹åºçš„å·¥å…·ã€‚ [page.3] we believe strongly that the way to learn a new language is to write programs in it. å…¶å®ç¼–ç¨‹å°±åƒä¸€é—¨ä¼ ç»Ÿçš„æ‰‹è‰ºæ´»ï¼Œéœ€è¦ä¸åœçš„ç»ƒä¹ æ‰èƒ½è¾¾åˆ°æŒæ¡ï¼Œå³ â€œlearning by doingâ€ã€‚å¤šæ•²é”®ç›˜ï¼Œå¤šå†™ä»£ç ï¼Œè¿™æ˜¯å”¯ä¸€æ— äºŒçš„å­¦ä¹ æ–¹æ³•ã€‚ Chapter 1: A Tutorial Introduction ç¬¬äºŒéƒ¨åˆ†ï¼šä»‹ç» C ç¼–ç¨‹è¯­è¨€çš„æ ¸å¿ƒã€‚ Chapter 2: Type, Operators, and Expression Chapter 3: Control Flow Chapter 4: Functions and Program Structure Chapter 5: Pointers and Arrays Chapter 6 Structures ç¬¬ä¸‰éƒ¨åˆ†ï¼šä»‹ç»æ ‡å‡†åº“ Chapter 7: Input and Output Chapter 8: The Unix System Interface ç¬¬å››éƒ¨åˆ†ï¼šé™„å½•ï¼šç¼–è¯‘å™¨ Appendix A: Reference Manual Appendix B: Standard Library PART Iï¼šå…¥é—¨å‡†å¤‡","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:0:0","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" Chap. 1: Hello, world!","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:1:0","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" ç»å…¸ä¾‹å­ç»å…¸çš„ Hello, world å°±æ˜¯ä»è¿™é‡Œè¯ç”Ÿçš„ã€‚ // hello.c // ç»å…¸ Hello, World #include \u003cstdio.h\u003e int main() { printf(\"Hello, world.\"); return 0; } Hello, world. è¿™ä¸ªä¾‹å­è™½ç„¶çœ‹èµ·æ¥ååˆ†çš„ç®€å•ï¼Œå´æ¶‰åŠåˆ°ç›¸å½“å¤šçš„å…³äºè¯¥ç¨‹åºçš„çŸ¥è¯†ç‚¹ï¼Œå› è€Œä¹Ÿå¾€å¾€æˆäº†ä¸€é—¨ç¼–ç¨‹è¯­è¨€å…¥é—¨çš„ã€Œè§é¢ç¤¼ã€ï¼Œæ­£å¦‚ä¹¦ä¸Šè¯´çš„ï¼š [page.5] This is the big hurdle; to leap over it, you have to be able to create the program text somewhere compile it successfully load it run it and find out where you output went Hello, world. ","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:1:1","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" æ¸©åº¦è½¬æ¢ // f-c.c // æ‘„æ°æ¸©åº¦ã€åæ°æ¸©åº¦ä¹‹é—´çš„è½¬æ¢ #include \u003cstdio.h\u003e #define BEGIN 0 #define END 300 #define STEP 20 int main() { for (int i = BEGIN; i \u003c= END; i += STEP) printf(\"%3d\\t%5.1f\\n\", i, (i-32)*5.0/9); return 0; } f-c æ¸©åº¦è½¬æ¢ ","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:1:2","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" æ ¼å¼åŒ–è¾“å…¥ã€è¾“å‡ºè¿™é‡Œè¡¥å……ä¸€ä¸‹å…³äº printf ä¸ scanf æ ¼å¼åŒ–çš„çŸ¥è¯†ç‚¹ï¼š æˆ‘ä»¬çŸ¥é“ï¼ŒC è¢«è®¾è®¡çš„éå¸¸çš„ç®€æ´ï¼Œæ ¸å¿ƒä»£ç é‡æå°ï¼Œç”šè‡³éƒ½ä¸æä¾›è¾“å…¥ã€è¾“å‡ºè¿™æ ·å¸¸ç”¨çš„å‡½æ•°ï¼Œå› ä¸ºæœ‰æ—¶å€™ç¨‹åºç¡®å®ä¸éœ€è¦è¿™äº›å‡½æ•°ä¹Ÿèƒ½è¿è¡Œï¼Œä»è€Œå¯ä»¥çœä¸‹ä¸å¿…è¦çš„å‡½æ•°è½½å…¥æ¶ˆè€—ã€‚ ANSI C æä¾›äº†è¾“å…¥è¾“å‡ºçš„æ ‡å‡†åº“ï¼Œåœ¨ stdio.h ä¸­å®šä¹‰äº†å‡½æ•°åŸå½¢ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªæ ‡å‡†åº“è½½å…¥åï¼Œè°ƒç”¨è¾“å…¥è¾“å‡ºå‡½æ•°ã€‚ å…³äº printf çš„è¯´æ˜ è¦æ±‚å‚æ•°æ˜¯ä¸€ä¸ª å­—ç¬¦ä¸²ï¼Œè€Œä¸èƒ½æ˜¯å•ä¸ªçš„å­—ç¬¦ã€‚å‰è€…ä½¿ç”¨åŒå¼•å· â€œâ€ï¼Œåè€…ä½¿ç”¨å•å¼•å· â€˜â€™ï¼Œè€Œä¸”å‰è€…çš„åé¢æ˜¯ \\0 åšä¸ºå­—ç¬¦ä¸²ç»“æŸæ ‡è¯†ã€‚ å¯ä»¥å®šä¹‰è¾“å‡ºæ ¼å¼ %dï¼šç®€å•çš„ç§è¿›åˆ¶æ•´å‹ %6dï¼šå®½åº¦ä¸º 6 ä½ %06dï¼šå®½åº¦ä¸º 6 ä½ï¼Œä¸”ä¸è¶³ 6 ä½æ—¶ä»¥ 0 ä»£æ›¿ %06.1fï¼šæµ®ç‚¹æ•°ï¼Œæœ€å¤§å®½åº¦ä¸º 6ï¼Œå°æ•°ç‚¹ä¿ç•™ 1 ä½ï¼Œä¸”è¡¥è¶³ 6 ä½æ—¶ä»¥ 0 ä»£æ›¿ %cï¼šå•ä¸ªå­—ç¬¦ä¸² %pï¼šæŒ‡é’ˆ %oï¼šå…«è¿›åˆ¶ %xï¼šåå…­è¿›åˆ¶ å…³äº scanf çš„è¯´æ˜ æ¥å—è¾“å…¥ï¼Œå¯ä»¥æ¥å—è¿ç»­è¾“å…¥ï¼Œä¸­é—´ä»¥ç©ºæ ¼é”®åŒºåˆ†ï¼Œä½¿ç”¨ ctrl+d æ ‡ç¤ºç»“æŸè¾“å…¥ æŠŠè¾“å…¥å€¼çš„æŒ‡é’ˆèµ‹å€¼ç»™æŒ‡å®šçš„å˜é‡ï¼Œå› æ­¤éœ€è¦æ”¾å…¥å˜é‡çš„æŒ‡é’ˆï¼Œè€Œä¸æ˜¯å˜é‡æœ¬èº«ï¼Œè¿™ä¸€ç‚¹å¾€å¾€å®¹æ˜“å‡ºé”™ // printf-scanf.c // æ ¼å¼åŒ–è¾“å…¥ã€è¾“å‡º #include \u003cstdio.h\u003e int main() { int a = 14; float b = 23.55656; printf(\"%d\\n\", a); printf(\"%12d\\n\",a); printf(\"%5.2f\\n\", b); printf(\"%o\\n\", a); printf(\"%x\\n\", a); printf(\"%p\\n\", \u0026a); printf(\"Enter two number\\n\"); scanf(\"%d%f\", \u0026a, \u0026b); printf(\"%d\\n\", a); printf(\"%f\\n\", b); return 0; } printf-scanf æ ¼å¼åŒ–è¾“å…¥ã€è¾“å‡º ","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:1:3","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" å…³äº for ä¸ whileä¹¦ä¸­å…¶å®æ˜¯åˆ†åˆ«ç”¨äº† for å’Œ while ä¸¤ç§é€»è¾‘ç»“æ„æ¥å¯¾æ¸©åº¦è¿›åˆ¶è¿›è¡Œè½¬æ¢ã€‚è¿™ä¸¤ç±»é€»è¾‘éƒ½æ˜¯å±äºå¾ªç¯ç»“æ„ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œ å¯¹äºæœ‰ç¡®å®šå¾ªç¯æ¬¡æ•°çš„é€»è¾‘ï¼Œæˆ‘ä»¬ä½¿ç”¨ for è€Œå¯¹äºæœªçŸ¥å¾ªç¯æ¬¡æ•°çš„é€»è¾‘ï¼Œåˆ™ä½¿ç”¨ while [page.14] The choice between while and for is arbitrary, based on which seems clearer. The for is usually appropriate for loops in which the initialization and increment are single statements and logically related, since it is more compact than while and it keeps the loop control statements together in one place. ","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:1:4","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" å…³äºé¢„å¤„ç†macro ä¹Ÿç§°ä½œé¢„å¤„ç†æŒ‡ä»¤ï¼Œæ˜¯é¢„å¤„ç†å™¨åœ¨ç¼–è¯‘å‰ï¼Œæ‰§è¡Œçš„ç‰¹æ®Šå‘½ä»¤ï¼Œå¯ä»¥æ˜¯æ’å…¥å¤´æ–‡ä»¶ã€å®šä¹‰å…¨å±€å¸¸é‡ã€æ‰§è¡Œé€»è¾‘åˆ†æ”¯ç­‰ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé¢„å¤„ç†æŒ‡ä»¤å®é™…ä¸Šä¸æ˜¯ä¸€ä¸ª C è¯­å¥ï¼Œå› æ­¤ä¸èƒ½åœ¨é¢„å¤„ç†å‘½ä»¤åé¢æ·»åŠ åˆ†å· ;ã€‚ #include \u003cstdio.h\u003eï¼šå°±æ˜¯æŠŠå¤´æ–‡ä»¶æ’å…¥åˆ°æºæ–‡ä»¶ï¼Œä»è€Œä¿è¯ç¼–è¯‘å™¨èƒ½å¤Ÿæ‰¾åˆ°å£°æ˜ #ifndefã€#endifï¼šé¢„å¤„ç†å™¨æ‰§è¡Œåˆ†æ”¯é€»è¾‘ #defineï¼šå¯ä»¥ç†è§£æˆå®šä¹‰äº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå®é™…ä¸Šä¸æ˜¯è¿™æ ·çš„ï¼Œè€Œæ˜¯æŠŠæºæ–‡ä»¶ä¸­å‡ºç°çš„æ‰€æœ‰å­—ç¬¦éƒ½æ›¿æ¢ä¸ºæˆ‘ä»¬é¢„å®šä¹‰çš„å˜é‡å­—é¢å€¼ï¼Œä»è€Œè¾¾åˆ°å›ºå®šç¨‹åºæœ‰å…³å˜é‡æ•°å€¼çš„ç›®çš„ï¼Œå› æ­¤æ˜¯ä¸å¯æ”¹å˜çš„ ","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:1:5","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" getchar // è·å–å•ä¸ªå­—ç¬¦ï¼Œç„¶åè®¡ç®—ä¸€å…±è¾“å…¥å¤šå°‘å­—ç¬¦ #include \u003cstdio.h\u003e int main() { int len = 0; while (getchar() != EOF) len += 1; printf(\"\\nTotal char: %d\\n\", len); return 0; } gechar è·å–å•ä¸ªå­—ç¬¦ ","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:1:6","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" å‡½æ•°å°è£… [page.24] With properly designed functions, it is possible to ignore how a job is done; knowing what is done is sufficient. // è®¡ç®— power å‡½æ•° #include \u003cstdio.h\u003e #include \u003cstring.h\u003e int power(int base, int n); void myprintf(char msg[]); int main() { int a = 2, b = 5; int pow; // å¯ä»¥ä¿å­˜ç»“æœ pow = power(a, b); printf(\"%d^%d \\t= %d\\n\", a, b, pow); // å¯ä»¥ç›´æ¥è°ƒç”¨ printf(\"%d^%d \\t= %d\\n\", 2, 10, power(2,10)); char msg[100]; strcpy(msg, \"hello, world\"); myprintf(msg); strcpy(msg, \"This is function.\"); myprintf(msg); return 0; } int power(int base, int n) { int res = 1; for (int i = 0; i \u003c n; ++i) res *= base; return res; } void myprintf(char msg[]) { printf(\"\\n// -----------------------\\n\"); printf(msg); printf(\"\\n// -----------------------\\n\"); } å‡½æ•°å°è£… ","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:1:7","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" ä½œç”¨åŸŸ(scope)C ä½¿ç”¨ä¸€å¯¾å¤§æ‹¬å·{}æ¥èšåˆå¤šä¸ªå‘½ä»¤è¯­å¥å—ï¼Œå¹¶å½¢æˆä¸€ä¸ªå˜é‡çš„ä½œç”¨åŸŸ(scope)ã€‚è¿™ç±»å˜é‡æˆ‘ä»¬ç§°ä¹‹ä¸º automaticã€‚ä½œç”¨åŸŸéµä»ã€Œå¯é«˜ä¸å¯ä½ã€çš„åŸåˆ™ï¼Œå³ ä¸€ä¸ªä½œç”¨åŸŸå†…éƒ¨çš„å˜é‡åªåœ¨æœ¬ä½œç”¨åŸŸå†…æœ‰æ•ˆï¼ˆåŒ…å«å­åŸŸï¼‰ æ›´é«˜å±‚æ¬¡çš„ä½œç”¨åŸŸæ— æ³•è°ƒç”¨å­åŸŸå˜é‡ [page.31] Because automatic variables come and go with function invocation, they do not retain their values from one call to the next, and must be explicitly get upon each entry. If they are not set, they will contain garbage. æ¯”å¦‚ // ä½œç”¨åŸŸ #include \u003cstdio.h\u003e // å…¨å±€å˜é‡ int g = 10; int main() { printf(\"g = %d\\n\", g); --g; int a = 5; printf(\"a = %d\\n\", a); --a; printf(\"## è¿›å…¥ä½çº§ä½œç”¨åŸŸ -------------------------\\n\"); { // å¯ä»¥è°ƒç”¨æ›´é«˜çš„ä½œç”¨åŸŸ printf(\"a = %d\\n\", a); // å…¨å±€å˜é‡å§‹ç»ˆæœ‰æ•ˆ printf(\"g = %d\\n\", g); --g; int a = 100; printf(\"a = %d\\n\", a); --a; // åªåœ¨è¿™ä¸ªå±‚æ¬¡çš„ {} ä¹‹å†…ä¿®æ”¹æ‰æœ‰æ•ˆ printf(\"a = %d\\n\", a); } printf(\"## è¿”å›é«˜çº§ä½œç”¨åŸŸ -------------------------\\n\"); // ä¸å¯ä»¥è°ƒç”¨ {} å†…æ›´ä½çš„ä½œç”¨åŸŸ printf(\"a = %d\\n\", a); // å…¨å±€å˜é‡å§‹ç»ˆæœ‰æ•ˆ printf(\"g = %d\\n\", g); return 0; } Build As Project ä»å‡½æ•°è°ƒç”¨çš„è§’åº¦çœ‹è¿™ä¸ªé—®é¢˜ï¼Œæ¯æ¬¡è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼ŒC æ˜¯é»˜è®¤ä½¿ç”¨ pass-by-value æŠŠå¸¸é‡å¤åˆ¶åå†ä¼ å…¥åˆ°å‡½æ•°ä¸»ä½“ï¼Œå› æ­¤ï¼Œåœ¨å‡½æ•°é‡Œé¢å¯¾å‚æ•°çš„ä¿®æ”¹ï¼Œå®é™…ä¸Šä¸ä¼šå½±å“åŸæ¥ä¼ é€’çš„å‚æ•°å€¼ã€‚å¦‚æœæƒ³è¦å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œåˆ™éœ€è¦ pass-by-reference æˆ–åˆ™ pass-by-pointerã€‚^[ä»å†…å­˜åœ°å€çš„è§’åº¦çœ‹ï¼ŒäºŒè€…æ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼Œéƒ½æ˜¯å˜é‡çš„ä¸€ç§ã€Œæ˜ å°„ã€ï¼Œåªä¸è¿‡ reference æ˜¯åˆ«åï¼Œè€Œ pointer æ˜¯å†…å­˜å®å®åœ¨åœ¨çš„åœ°å€ã€‚] ","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:1:8","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" Cç¼–ç¨‹å·¥ç¨‹é¡¹ç›®å¯¹äºä¸€ä¸ªå°å‹çš„å·¥ç¨‹é¡¹ç›®ï¼Œæ¯”å¦‚ä¸Šé¢è¿™ä¸ªå‡½æ•°å°è£…çš„ä¾‹å­ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠæ‰€æœ‰çš„å‡½æ•°åŸå‹å’Œå‡½æ•°å®šä¹‰å†™åœ¨ main åŒåœ¨çš„æºæ–‡ä»¶ï¼Œç„¶åç›´æ¥ç¼–è¯‘å°±å¯ä»¥è¿è¡Œäº†ã€‚ä½†æ˜¯å¯¹äºä¸€ä¸ªå¤§å‹çš„ C ç¨‹åºå¼€å‘é¡¹ç›®ï¼Œå¾€å¾€ä¼šæ¶‰åŠåˆ°éå¸¸å¤šçš„æ–‡ä»¶å…³è”ï¼Œä¸»å‡½æ•°èµ·åˆ°çš„åªæ˜¯ä¸€ä¸ªåšä¸ºç¨‹åºå…¥å£ç”¨äºè°ƒç”¨å…¶ä»–çš„åŠŸèƒ½æ¨¡å—ï¼Œè€Œè¿™äº›åŠŸèƒ½æ¨¡å—ï¼Œåˆéƒ½æ˜¯æ ¹æ®å„è‡ªçš„ç‰¹å¾åˆ†å¸ƒçš„å„ä¸ªæºæ–‡ä»¶ä¸­ã€‚è¿™åœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œå°±éœ€è¦å‘Šè¯‰ç¼–è¯‘å™¨å„ä¸ªæ¨¡å—ä¹‹é—´çš„å…³è”å…³ç³»ã€‚è¿™å°±æ˜¯å¤´æ–‡ä»¶çš„ä½œç”¨ã€‚ æŠŠæ‰€æœ‰çš„å‡½æ•°åŸå‹æ”¾åœ¨ä¸€ä¸ªå¤´æ–‡ä»¶ myfunctions.h é‡Œé¢ï¼ŒæŒ‡æ˜å‡½æ•°çš„åŸºæœ¬ç»“æ„ï¼Œä½†æ²¡æœ‰å‡½æ•°ä½“ ç”±äºå¤´æ–‡ä»¶å¯èƒ½ä¼šåœ¨å¤šä¸ªåŠŸèƒ½æ¨¡å—ä¸­è¢«é‡å¤è½½å…¥ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨é¢„å¤„ç†å‘½ä»¤ #ifndef __MYFUNCTIONS__H__ #define __MYFUNCTIONS__H__ // ------------------------------ å‡½æ•°åŸå‹å£°æ˜ // ------------------------------ #endif åœ¨ myfunctions.c ç¼–å†™å‡½æ•°ä¸»ä½“ï¼Œä¸»è¦éœ€è¦æŠŠå¤´æ–‡ä»¶è½½å…¥ï¼Œ#include â€œmyfunctions.hâ€ åœ¨ main å‡½æ•°æºæ–‡ä»¶ä¸­ï¼Œç”±äºéœ€è¦è°ƒç”¨å‡½æ•°ä¸»ä½“ï¼Œå› æ­¤ä¹Ÿéœ€è¦æŠŠå¤´æ–‡ä»¶è½½å…¥ï¼Œå‘ç¼–è¯‘å™¨è¡¨æ˜å‡½æ•°åŸå‹ ä¹‹åä¾¿å¯ä»¥ç›´æ¥è°ƒç”¨å‡½æ•° ç¼–è¯‘çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼Œæˆ–è€…åœ¨ Sublime é‡Œé¢è®¾ç½® \"cmd\": [\"gcc -std=c11 -Wall ${file_path}/*.c -o ${file_base_name}\"] å³æŠŠæ‰€æœ‰çš„æ–‡ä»¶éƒ½è¿›è¡Œç¼–è¯‘ï¼Œç„¶åè‡ªåŠ¨è¿›è¡Œé“¾æ¥ Build As Project PART IIï¼šC è¯­è¨€æ ¸å¿ƒæ¦‚å¿µ","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:1:9","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" Chap. 2: Types, Operators, and Expression","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:2:0","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" å˜é‡å There are two hard things in computer science: cache invalidation and naming things. â€“ Phil Karlton ä»¥ä¸Šè¿™å¥ç»å…¸å°è¯å¸¸å¸¸è¢«ç”¨æ¥å½¢å®¹ç»™å˜é‡å–ä¸€ä¸ªåˆé€‚çš„åç§°æ˜¯å¤šä¹ˆçš„å›°éš¾ï¼Œæ—¢è¦ç®€çŸ­ä»¥å‡å°‘è¾“å…¥æ—¶é—´ï¼Œåˆè¦ç›´è§‚ä»¥æ–¹ä¾¿é˜…è¯»ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œä»¥ä¸‹å‡ ç‚¹æ˜¯åœ¨ c ç¼–ç¨‹ä¸­éœ€è¦æ³¨æ„çš„ï¼š c æ˜¯å¯¾å¤§å°å†™æ•æ„Ÿçš„ç¼–ç¨‹è¯­è¨€ï¼Œä¹Ÿå°±æ„å‘³ç€ x ä¸ X ä»£è¡¨ä¸¤ä¸ªä¸åŒçš„å˜é‡ã€‚å…¶å®è¿˜å¯ä»¥è¿›ä¸€æ­¥å¼•ç”³å‡ºæ¥ï¼Œç»å¤§éƒ¨åˆ†çš„ c-familyï¼Œä¹Ÿéƒ½éµä»å¤§å°å†™æ•æ„Ÿçš„åŸåˆ™ï¼Œå¦‚ Rã€pythonã€‚å½“ç„¶ï¼Œè¿˜æ˜¯æœ‰å¾ˆå¤šçš„ç¼–ç¨‹è¯­è¨€æ˜¯ä¸é™åˆ¶å¤§å°å†™çš„ï¼Œæ¯”å¦‚æ•°æ®åº“æ“ä½œè¯­è¨€ SQL ã€‚ c è¦æ±‚å˜é‡åä»¥è‹±æ–‡å­—æ¯ã€ä¸‹åˆ’çº¿å¼€å¤´ã€å¹¶å¯ä»¥åœ¨éå¼€å¤´éƒ¨åˆ†ä½¿ç”¨é˜¿æ‹‰ä¼¯æ•°å­—ã€‚æ³¨æ„ï¼Œè¿™ä¸ªå¾€å¾€æ˜¯åˆå­¦è€…å®¹æ˜“çŠ¯é”™çš„åœ°æ–¹ï¼šå˜é‡åä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚ ä»¥ä¸‹åˆ’çº¿å¼€å¤´çš„å˜é‡å¾€å¾€æœ‰ç‰¹æ®Šçš„æ„ä¹‰ï¼Œä¸€èˆ¬æ˜¯æ ‡å‡†å¼€é¢„å…ˆå®šä¹‰çš„å˜é‡åï¼Œæˆ–åˆ™æ˜¯ä¸€ç±»å…¨å±€å˜é‡åã€‚ å˜é‡ååº”ä»¥å­—è§æ„ï¼Œèƒ½å¤Ÿä»å­—é¢æ„æ€æ¨æ–­å‡ºè¯¥å˜é‡ä»£è¡¨çš„å…·ä½“å«ä¹‰ã€‚è™½ç„¶ç±»ä¼¼ aã€aaã€b è¿™äº›åç§°ä¹Ÿæ˜¯åˆæ³•çš„ï¼Œä½†æ— æ³•çœ‹å‡ºæ¥ä»–ä»¬å„è‡ªä»£è¡¨ä»€ä¹ˆæ„æ€ï¼Œå› æ­¤ä¸åˆ©äºä»£ç é˜…è¯»ã€‚å¦å¤–ï¼Œç°åœ¨å¾ˆå¤šçš„ IDE éƒ½æœ‰æä¾›å˜é‡çš„æ¨¡ç³ŠåŒ¹é…åŠŸèƒ½ï¼Œæ¯”å¦‚ Sublime ä¸­ä½¿ç”¨ ctrl+d æˆ–åˆ™ alt+f3 æ˜¯å¯ä»¥ç›´æ¥æ‰¾åˆ°ä¸è¯¥åç§°åŒ¹é…çš„æ‰€æœ‰å˜é‡ï¼Œè€Œå¦‚æœä½¿ç”¨ a ã€aa è¿™ç±»åç§°ï¼Œåˆ™ä¼šå›°éš¾å¾ˆå¤šã€‚ ","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:2:1","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" åŸºæœ¬æ•°æ®ç±»å‹ä¸€èˆ¬æ¥è¯´ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹çš„å…·ä½“ä½é•¿ï¼Œä¸æœ¬åœ°æœºå™¨æœ‰å…³ã€‚ charï¼š ANSI æ”¯æŒçš„å•ä¸ªå­—æ¯ï¼Œå¹¶ä»¥æ•´æ•°è¡¨ç¤ºã€‚å¦‚ A æ˜¯å¯¹åº” 65ã€‚char ä¸€å…±æœ‰ 256 ä¸ªï¼Œä¸€èˆ¬æ˜¯ä»¥æ•´æ•°çš„å½¢å¼è¡¨ç¤ºã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œchar å’Œæˆ‘ä»¬åœ¨æ ‡å‡†åº“ä½¿ç”¨çš„ string æ˜¯ä¸ä¸€æ ·çš„ï¼Œ char ä½¿ç”¨æ•´æ•°è¡¨ç¤ºï¼Œåªå ç”¨ä¸€ä¸ªå­—èŠ‚(byteï¼Œä¸€å…±æœ‰ $2^8$)ï¼›è€Œ string æ˜¯å­—ç¬¦ä¸²ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª char array[]ï¼Œå¹¶ä¸”ä»¥ \\0 æ ‡ç¤ºç»“å°¾ï¼ˆè™½ç„¶æ‰“å°çš„æ—¶å€™çœ‹ä¸åˆ°ï¼Œè¿™ä¸ªæ˜¯ç³»ç»Ÿè‡ªåŠ¨åŠ ä¸Šçš„ï¼‰ã€‚å› æ­¤ï¼ŒA ä¸ â€œAâ€ æ˜¯ä¸¤ä¸ªä¸ä¸€æ ·çš„å˜é‡ï¼Œå‰è€…æ˜¯ä¸€ä¸ªå­—ç¬¦ï¼Œåªæœ‰ä¸€ä¸ªå­—èŠ‚ï¼Œè€Œåè€…å¤šäº†ä¸€ä¸ªç»“å°¾ç¬¦å· \\0ï¼Œå› æ­¤å ç”¨äº†ä¸¤ä¸ªå­—ç¬¦ã€‚ // char ä¸ string åŒºåˆ« #include \u003cstdio.h\u003e int main() { char c = 'A'; printf(\"%d\\n\", c); printf(\"sizeof \\'A\\': %ld\\n\", sizeof c); char s[] = \"A\"; printf(\"%s\\n\", s); printf(\"sizeof \\\"A\\\": %ld\\n\", sizeof s); return 0; } char ä¸ string shortã€intã€longã€long longï¼šæ•´å‹ã€‚ floatã€doubleã€long doubleï¼šæµ®ç‚¹å‹ã€‚å°½é‡ä½¿ç”¨ double ç±»å‹ï¼Œä¸€æ–¹é¢æ˜¯å› ä¸ºç²¾åº¦æ›´é«˜ï¼›å¦ä¸€æ–¹é¢ï¼Œä¼ ç»Ÿä¸Šè®¤ä¸º float å¯ä»¥èŠ‚çœå†…å­˜ç©ºé—´ï¼Œä½†æ˜¯ç°åœ¨å¯¹äºå¤§å†…å­˜æ—¶ä»£ï¼Œå·²ç»ä¸æ˜¯é—®é¢˜ï¼Œè€Œä¸”å¾ˆå¤šçš„å†…å­˜æœºåˆ¶ä¼šè‡ªåŠ¨è¿›è¡Œ double çš„è¡¥é½ï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨ double æ€§èƒ½æ˜¯ä¼šæ›´ä½³ã€‚ æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹ç³»ç»Ÿçš„åŸºæœ¬æ•°æ®ç±»å‹é•¿åº¦ // æŸ¥çœ‹ sizeof() #include \u003cstdio.h\u003e int main () { printf(\"sizeof(char) \\t= %ld\\n\", sizeof(char)); printf(\"sizeof(short) \\t= %ld\\n\", sizeof(short)); printf(\"sizeof(int) \\t= %ld\\n\", sizeof(int)); printf(\"sizeof(long) \\t= %ld\\n\", sizeof(long)); printf(\"sizeof(float) \\t= %ld\\n\", sizeof(float)); printf(\"sizeof(double) \\t= %ld\\n\", sizeof(double)); printf(\"sizeof(long double) \\t= %ld\\n\", sizeof(long double)); return 0; } sizeof ","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:2:2","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" æ‹“å±•æ•°æ®ç±»å‹ enumï¼šæ•´å‹ï¼Œå¹¶ä»¥ 1 é€’å¢ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šåˆå§‹ï¼Œåˆ™ä»¥ 0 å¼€å§‹è®¡æ•°ã€‚ structureï¼šç»“æ„ä½“ã€‚ pointerï¼šæŒ‡é’ˆï¼Œå³å˜é‡åœ¨å†…å­˜çš„åœ°å€ã€‚ array #include \u003cstdio.h\u003e #include \u003cstring.h\u003e typedef enum Market { sse = 0, szse, unknown } Market; typedef struct Book { char title[50]; char author[50]; } Book; int main () { // enum Market mkt = szse; printf(\"market code: %d\\n\", mkt); // structure Book mybook = {\"C Programing Learning Note\", \"william\"}; printf(\"%s: \\\"%s\\\"\\n\", mybook.author, mybook.title); // pointer to structure Book *pbook = \u0026mybook; strcpy(pbook-\u003etitle, \"A personal remark\"); printf(\"%s: \\\"%s\\\"\\n\", pbook-\u003eauthor, pbook-\u003etitle); // array int l[10] = {1,2,3}; printf(\"l[0]: %d\\n\", l[0]); char s[] = \"This is a really long string\"; printf(\"%s\\n\", s); return 0; } æ‰©å±•æ•°æ®ç±»å‹ ","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:2:3","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" å¸¸é‡å¸¸é‡ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä¸å¯ä»¥æ›´æ”¹çš„å˜é‡ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€ä¸ªå˜é‡ï¼Œåªä¸è¿‡ä¸èƒ½å¯¹å…¶è¿›è¡Œä¿®æ”¹å€¼ï¼Œä½†å¯ä»¥åœ¨å‘½ä»¤è¯­å¥ä¸­è°ƒç”¨ã€‚ å­—é¢å¸¸é‡ï¼ˆliteral constantï¼‰ï¼šå­—ç¬¦å¸¸é‡ aã€Aï¼Œå­—ç¬¦ä¸²å¸¸é‡ â€œa long stringâ€ã€‚ å¸¸é‡è¡¨è¾¾å¼ï¼ˆconstant expressionï¼‰ï¼šå³åœ¨ç¼–è¯‘çš„æ—¶å€™å°±å¯ä»¥ç¡®å®šçš„è¡¨è¾¾å¼ constant int i = 10; // ç¼–è¯‘çš„æ—¶å€™å·²ç»ç¡®å®šäº† j çš„å€¼ int j = (i+100)*i; ","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:2:4","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" ç±»å‹è½¬æ¢ç±»å‹è½¬æ¢æœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼š æ˜¾ç¤ºè½¬æ¢ï¼Œå³æ˜ç¡®å†™æ˜éœ€è¦è½¬æ¢çš„ç›®æ ‡ç±»å‹ éšå¼è½¬æ¢ï¼Œç³»ç»Ÿæ ¹æ®ä¸€å®šçš„è½¬æ¢è§„åˆ™æŠŠåŸæ¥çš„æ•°æ®è½¬æ¢ä¸ºç›®æ ‡æ•°æ®ï¼Œæ³¨æ„åŸæ¥çš„æ•°æ®ç±»å‹æ˜¯ä¸å˜çš„ï¼Œæ”¹å˜çš„æ˜¯å–å€¼åçš„æ•°æ®ï¼š ä¸€èˆ¬æ˜¯é‡‡ç”¨ä½é˜¶åˆ°é«˜é˜¶çš„é¡ºåºï¼Œå³å ç”¨å­—èŠ‚å°‘çš„æ•°æ®ç±»å‹è¡¥é½æˆå ç”¨å­—èŠ‚å¤šçš„æ•°æ®ç±»å‹ï¼Œä»¥è¡¥é½æ‰€éœ€çš„å†…å­˜ç©ºé—´ char -\u003e int -\u003e float -\u003e double short -\u003e long å¯¹äºæº¢å‡ºæ•°æ®æ‰€æ ‡ç¤ºæ•°å€¼èŒƒå›´çš„ï¼Œåˆ™ä¼šæ ¹æ®æ•°æ®ç±»å‹æ‰€å ç”¨çš„èŒƒå›´è¿›è¡Œå¾ªç¯ï¼Œæ¯”å¦‚ short si = 32768 + 1; printf(\"si = %d\\n\", si); // å¾—åˆ° si = -32767 #include \u003cstdio.h\u003e int main () { int i = 65; double f; // æ•´æ•°æˆªæ–­ f = i / 2; printf(\"f = %d/2: %.2f\\n\", i, f); // explicit converse f = (double) i / 2; printf(\"f = (double) %d / 2 = %.2f\\n\", i, f); // implicit converse int ii = f; printf(\"ii = %f: %d\\n\", f, ii); // implicit converse char c = i; printf(\"i = %d --\u003e c = %c\\n\", i, c); short si = 32768 + 1; printf(\"si = %d\\n\", si); return 0; } ç±»å‹è½¬æ¢ page.44 ","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:2:5","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" è¿ç®— å‡½æ•°è¿ç®—ä¼˜å…ˆçº§æœ€é«˜ å˜é‡è‡ªå¢ã€è‡ªå‡ ç®—æ•°è¿ç®— é€»è¾‘è¿ç®— å¤åˆè¿ç®—ç¬¦ op=ï¼Œæ ¹æ®ä¸Šé¢çš„è¿ç®—ä¼˜å…ˆçº§ï¼Œop= æ˜¯å…ˆè®¡ç®—ç­‰å¼å·¦è¾¹ï¼Œå¾—åˆ°å€¼åå†è¿›è¡Œå¤åˆè¿ç®—ï¼Œå³ x *= y + z; // x = x*(y+z); page.53 ","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:2:6","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" Chap. 3: Control Flow","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:3:0","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" if-else if (expression) statement; else if (expression) statement; else statement; expression ä¸ºé€»è¾‘åˆ¤æ–­ï¼Œç»“æœå¦‚æœæ˜¯éé›¶ï¼ˆ0ï¼‰ï¼Œåˆ™è¡¨ç¤ºé€»è¾‘ä¸ºçœŸï¼›å¦‚æœæ˜¯é›¶ï¼ˆ0ï¼‰ï¼Œåˆ™ä»£è¡¨é€»è¾‘ä¸ºå‡ æ³¨æ„è¯­å¥åé¢ä½¿ç”¨åˆ†å· ; ä»£è¡¨è¯¥è¯­å¥ç»“æŸ if-else éµä» å°±è¿‘åŸåˆ™ï¼Œå³ä¼šå¯»æ‰¾æœ€è¿‘çš„ else è¿›è¡Œé…å¯¹ if (expression) if (expression) statement; else statement; è™½ç„¶çœ‹èµ·æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ç¼©è¿›è¯•å›¾è¡¨ç¤º else æ˜¯ä¸ç¬¬ä¸€ä¸ª if é…å¯¹ï¼Œå½“æ—¶è¦è®°ä½ï¼Œc å…¶å®ä¸ä¸åƒ python æ˜¯ä¸¥æ ¼ä½¿ç”¨ç¼©è¿›æ¥è¡¨ç¤ºä»£ç è¿è¡Œé€»è¾‘çš„ã€‚å› æ­¤ï¼Œæ­¤å¤„çš„è¿è¡Œåˆ°ç¬¬äºŒä¸ª if åï¼Œä¼šç›´æ¥ä¸ else é…å¯¹ï¼Œå³ if (expression){ if (expression) { statement; } else { statement; } } å½“ç„¶ï¼Œå¦‚æœéœ€è¦è¡¨è¾¾å¦å¤–ä¸€ä¸ªæ„æ€ï¼Œéœ€è¦ä½¿ç”¨ {} æ¥åˆ’åˆ†ä»£ç å— if (expression) { if (expression) statement; } else { statement; } ","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:3:1","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" switchswitch ä½¿ç”¨æ•´å‹å˜é‡æ¥åˆ¤æ–­éœ€è¦æ‰§è¡Œå“ªä¸ªå‘½ä»¤è¯­å¥ã€‚ switch (expressoin) { case constant-expression: case constant-expression: do-something statement; break; default: break; } ","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:3:2","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" for ä¸ whileå…¶å®ä¸¤è€…æ˜¯å¯ä»¥äº’ç›¸è½¬æ¢çš„ page.60 while æ˜¯å…ˆæ‰§è¡Œåˆ¤æ–­æ¡ä»¶ï¼Œå¦‚æœæ²¡æœ‰ç¬¦åˆçš„ï¼Œåˆ™ä¸€æ­¥éƒ½ä¸ä¼šæ‰§è¡Œä¸‹é¢çš„è¯­å¥ ä¸ºäº†è‡³å°‘æ‰§è¡Œä¸€æ¬¡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ do-whileã€‚ #include \u003cstdio.h\u003e int main() { int END; int i = 0; printf(\"## while ------------\\n\"); printf(\"Enter a number: \"); scanf(\"%d\", \u0026END); // å¦‚æœ i \u003c END ä¸æˆç«‹ï¼Œåˆ™ä¸€æ¬¡éƒ½ä¸æ‰§è¡Œ while (i \u003c END) { printf(\"%d\\n\", ++i); } printf(\"\\n## do while ---------\\n\"); i = 0; printf(\"Enter a number: \"); scanf(\"%d\", \u0026END); // æ— è®º i \u003c END æ˜¯å¦æˆç«‹ï¼Œéƒ½è‡³å°‘æ‰§è¡Œä¸€æ¬¡ do { printf(\"%d\\n\", ++i); } while (i \u003c END); return 0; } do-while ","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:3:3","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" breakä¸continueå¯ä»¥æ§åˆ¶å¾ªç¯é€»è¾‘çš„æ‰§è¡Œï¼š break æå‰é€€å‡ºæ•´ä¸ªå¾ªç¯ continue ä¸æ‰§è¡Œæœ¬æ¬¡å¾ªç¯ï¼Œä½†éœ€è¦ç»§ç»­æ‰§è¡Œçœä¸‹çš„å¾ªç¯^[R ä½¿ç”¨ nextï¼Œ python ä½¿ç”¨ continue] ","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:3:4","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" Chap. 4: Functions and Program Structure æœ¬ç« çš„å†…å®¹éå¸¸çš„ç¿”å®ï¼Œä¸ä»…ä»‹ç»äº†å‡½æ•°å°è£…çš„åŸºæœ¬çŸ¥è¯†ï¼Œæ›´æ˜¯é‡ç‚¹åˆ†æå¦‚ä½•æ„å»ºä¸€ä¸ªå®Œæ•´çš„ c é¡¹ç›®ç¨‹åºï¼Œä»ä½¿ç”¨å¤´æ–‡ä»¶ã€å£°æ˜å¤–éƒ¨å˜é‡ã€åˆ°åˆ†ç¦»ç¼–è¯‘ã€å‡½æ•°è°ƒç”¨ç­‰é«˜çº§åŠŸèƒ½ã€‚ ","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:4:0","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" Chap. 5: Pointers and Arrays","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:5:0","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":" Chap. 6: Structures PART IIIï¼šä½¿ç”¨æ ‡å‡†åº“ PART IVï¼šç¼–è¯‘åŸç†","date":"2019-02-24","objectID":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/:6:0","tags":["K\u0026R","D.Ritchie","c","unix"],"title":"K\u0026R è¯»ä¹¦ç¬”è®°","uri":"/archives/2019-02-24-k-r-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"categories":["Programming"],"content":"Emacs é€Ÿæ¥æœ‰ã€Œç¥çš„ç¼–è¾‘å™¨ã€ä¹‹ç¾èª‰ï¼ŒåŒå¦ä¸€æ¬¾ã€Œç¼–è¾‘å™¨ä¹‹ç¥ã€Vi/Vimï¼Œéƒ½æ˜¯ç¨‹åºå‘˜ç¼–è¾‘æºæ–‡ä»¶ã€ç¼–å†™æ–‡æ¡£çš„é‡è¦æ³•å®ã€‚ç”¨ä¸€ç§åœ¨æ±Ÿæ¹–ä¸Šæµä¼ è®¸ä¹…çš„è¯´æ³•ï¼ŒEmacså…¶å®ä¸æ˜¯ç¼–è¾‘å™¨ï¼Œè€Œæ˜¯æŠ«ç€ç¼–è¾‘å™¨å¤–è¡£çš„æ“ä½œç³»ç»Ÿï¼Œå…·æœ‰é«˜å¼ºåº¦çš„å¯æ‹“å±•æ€§ï¼Œå ªæ¯”ä¸€æ¬¾æ“ä½œç³»ç»Ÿèˆ¬å¼ºå¤§ã€‚ å®‰è£…","date":"2019-01-17","objectID":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/:0:0","tags":["Emacs","vim","IDE","Lisp","GNU","Stallman","Editor","ç¼–è¾‘å™¨"],"title":"Emacs: ç¥çš„ç¼–è¾‘å™¨","uri":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/"},{"categories":["Programming"],"content":" Linux","date":"2019-01-17","objectID":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/:1:0","tags":["Emacs","vim","IDE","Lisp","GNU","Stallman","Editor","ç¼–è¾‘å™¨"],"title":"Emacs: ç¥çš„ç¼–è¾‘å™¨","uri":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/"},{"categories":["Programming"],"content":" Ubuntu æºç ç¼–è¯‘å®‰è£…(æœ€æ–°ç‰ˆ)ç³»ç»Ÿæ›´æ–°èµ„æºï¼š sudo apt-get update \u0026\u0026 apt-get upgrade å®‰è£…æºç ç¼–è¯‘éœ€è¦çš„åŒ…ï¼š sudo apt-get install build-essential libncurses-dev å¯ä»¥åˆ° EMACSå®˜æ–¹ä¸‹è½½é¡µé¢ æˆ– ç›´æ¥ä½¿ç”¨ä¸‹é¢çš„é“¾æ¥: $ cd /tmp $ wget http://mirrors.ustc.edu.cn/gnu/emacs/emacs-26.1.tar.xz ## è§£å‹ xz æ–‡ä»¶åŒ… $ tar -xJvf emacs-26.1.tar.xz $ cd emacs-26.1 å¯ä»¥é€šè¿‡ configure è¿›è¡Œé…ç½®å®‰è£…ï¼š çº¯å‘½ä»¤è¡Œï¼šä»…ç”¨äºæ§åˆ¶å°ç¯å¢ƒï¼Œå¦‚æœéœ€è¦GUIç•Œé¢è¿˜è¦å®‰è£…å…¶å®ƒå¼€å‘åŒ…, --without-xï¼Œä»¥åŠ --with-gnutls=no äº¤äº’ç•Œé¢ï¼šé»˜è®¤æ˜¯ä¼šé…ç½®æ‰€æœ‰çš„äº¤äº’ç•Œé¢ï¼Œä½†éœ€è¦é¢å¤–å®‰è£…ç›¸å…³çš„è½¯ä»¶åŒ…ã€‚ ## é»˜è®¤å®‰è£… GUI $ ./configure å¯¹äºåœ¨æœ¬åœ°æ“ä½œï¼Œä¸€èˆ¬æˆ‘é€‰æ‹©é…ç½® GUIã€‚å¦‚æœæœ‰æŠ¥é”™éœ€è¦å®‰è£…åŒ…ï¼Œå¯ä»¥ä½¿ç”¨ apt search xxx æ¥æœç´¢åç§°ï¼Œç„¶åå®‰è£…å¥½å°±å¯ä»¥äº†ã€‚æˆ‘å®‰è£…äº†å‡ ä¸ªå¸¸ç”¨çš„åŒ…ï¼š $ sudo apt-get install gnutls-dev libxpm-dev libgif-dev libtiff-dev å¦‚æœç»§ç»­æŠ¥é”™ ... ... checking for libXaw... configure: error: No X toolkit could be found. ... ... åˆ™éœ€è¦é€šè¿‡å®‰è£… gtk æ¥å®ç°å¸¦ç•Œé¢è¿è¡Œ apt search gtk | grep libgtk libgtk2.0-dev - development files for the GTK+ library å®‰è£…è¿™ä¸ª gtk åŒ… $ sudo apt-get install libgtk2.0-dev å‰©ä¸‹çš„å°±æ˜¯ç¼–è¯‘å®‰è£…äº† $ sudo make \u0026\u0026 make install æŸ¥çœ‹ç‰ˆæœ¬å· $ emacs --version GNU Emacs 26.1 Copyright (C) 2018 Free Software Foundation, Inc. GNU Emacs comes with ABSOLUTELY NO WARRANTY. You may redistribute copies of GNU Emacs under the terms of the GNU General Public License. For more information about these matters, see the file named COPYING. å½“ç„¶ï¼Œä¹Ÿå¯ä»¥åœ¨ç»ˆç«¯å¯åŠ¨æ— ç•Œé¢çš„æ“ä½œï¼š $ emacs -nw emacs -nw ä¸€é”®å®‰è£…(ç¨³å®šç‰ˆ)è¿™ç§æ–¹å¼æ¯”è¾ƒé€‚åˆå®‰è£…åœ¨ ppa é‡Œé¢çš„ç¨³å®šç‰ˆæœ¬ï¼Œé€šå¸¸æ˜¯è¾ƒå½“å‰ç‰ˆæœ¬å·é™ä½ä¸€ä¸ªç³»åˆ—ï¼š $ sudo apt install emacs emacs å¯åŠ¨åˆå§‹ç•Œé¢ é…ç½®","date":"2019-01-17","objectID":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/:1:1","tags":["Emacs","vim","IDE","Lisp","GNU","Stallman","Editor","ç¼–è¾‘å™¨"],"title":"Emacs: ç¥çš„ç¼–è¾‘å™¨","uri":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/"},{"categories":["Programming"],"content":" é…ç½®æ–‡ä»¶ä»æœ¬è´¨ä¸Šè¯´ï¼ŒEmacs å…¶å®åªæ˜¯ä¸€æ¬¾ Lisp çš„ç¼–è¯‘å¼•æ“ï¼Œå¯ä»¥ç”¨æ¥æ‰§è¡Œä»»ä½•ç¬¦åˆè¯­æ³•çš„ Lisp è„šæœ¬ã€‚ç”±æ­¤æ¨å¯¼å‡ºæ¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼–å†™è‡ªå®šä¹‰çš„é…ç½®æ–‡ä»¶æ¥è®¾ç½® Emacs å¯åŠ¨åæ‰§è¡Œçš„ç¨‹åºå‘½ä»¤ã€‚é€šè¿‡æŸ¥çœ‹ GNU Emacs çš„å®˜æ–¹è¯´æ˜ï¼Œåœ¨ Init File è¿™éƒ¨åˆ†å†…å®¹é‡Œï¼Œæˆ‘ä»¬çŸ¥é“ï¼ŒEmacs ä¼šè‡ªåŠ¨å»æœç´¢ä»¥ä¸‹è·¯å¾„çš„é…ç½®æ–‡ä»¶ ï½/.emacsï¼šè¿™ç§æ–¹å¼æ˜¯æŠŠæ‰€æœ‰çš„é…ç½®ä¿¡æ¯éƒ½å†™åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œè®¾ç½®ç›¸å¯¹ç®€å•ï¼Œä½†ä¸åˆ©äºè¿›è¡Œæ¨¡å—åŒ–ç®¡ç†ï¼Œä¸€æ—¦è®¾ç½®æ–‡ä»¶å¢å¤šï¼Œä¼šå¯¼è‡´æ··ä¹±ï¼Œä¸€èˆ¬ä¸æ¨èè¿™ç§é…ç½®æ–¹å¼ã€‚ ~/.emacs.el ~/.emacs.d/init.elï¼šè¿™ç§æ–¹å¼æ›´åŠ ç°ä»£ï¼Œå¯ä»¥æŠŠæ‰€æœ‰çš„é…ç½®æ–‡ä»¶éƒ½ç»Ÿä¸€æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢ï¼Œå› æ­¤æ›´æœ‰åŠ›äºç®¡ç†æ’ä»¶ä¸é…ç½®ã€‚Emacs åœ¨å¯åŠ¨åä¼šå…ˆè¯»å…¥ init.el æ–‡ä»¶è®¾ç½®ï¼Œè™½ç„¶åªæ˜¯ä¸€ä¸ªå•æ–‡ä»¶ï¼Œä½†æ˜¯å¯ä»¥åˆ©ç”¨ feature æœºåˆ¶ï¼ŒæŠŠå…·ä½“çš„æ¨¡å—åˆ†ç±»å†™åœ¨è¿™é‡Œé¢ã€‚ . â”œâ”€â”€ elpa â”œâ”€â”€ init.el â”œâ”€â”€ lisp â””â”€â”€ themes 3 directories, files åœ¨é…ç½®æ–‡ä»¶ init.el ä¸­ï¼Œé€šè¿‡ add-to-list å°†ç›¸å…³çš„é…ç½®æ–‡ä»¶è·¯å¾„æ·»åŠ åˆ°åˆå§‹åŒ–è¯»å–è·¯å¾„ä¸­ã€‚ å¦‚æœæ˜¯åœ¨ ~/.eamcs.d ç›®å½•ä¸‹é¢ï¼Œå¯ä»¥ä½¿ç”¨ (add-to-list 'load-path \"~/.emacs.d/plugins\") å¦‚æœè¿˜æœ‰ä¸€å±‚å­ç›®å½•ï¼Œéœ€è¦æŒ‡å®š (add-to-list 'load-path (expand-file-name \"å­ç›®å½•/å­ç›®å½•\" \"~/.emacs.d\"))ã€‚å…¶å®ï¼Œä¸Šä¸€æ¡ä¹Ÿå¯ä»¥å†™æˆ (add-to-list 'load-path (expand-file-name \"~/.emacs.d\"))ï¼Œç›¸å½“äº å­ç›®å½• å†™æˆç©ºç›®å½•ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œå°†é…ç½®æ–‡ä»¶åä¸å…¶æä¾›çš„ feature å‡½æ•°å‘½åç›¸åŒã€‚ æ¯”å¦‚ï¼Œæˆ‘çš„é…ç½®æ–‡ä»¶ init.el: ;; This is the main Emacs initialization file â€“ .emacs. (add-to-list 'load-path (expand-file-name \"lisp\" \"~/.emacs.d\")) (require 'feature_1) (require 'feature_2) (require 'feature_3) ç„¶ååœ¨ \"lisp\" ç›®å½•ä¸‹é¢æ”¾å…¥ feature_1ã€feature_2ã€feature_3ã€‚ æ¯”å¦‚ï¼šfeature_1 è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œå®ƒæä¾›feature_1ç‰¹æ€§ï¼Œå³æ˜¯ ï½/.emacs.d/init.el ä¸­ä½¿ç”¨ require å‘½ä»¤è¦æ±‚çš„ feature_1 ç‰¹æ€§ï¼Œé‚£ä¹ˆè¦åœ¨feature_1.el ä¸­åŠ å…¥ provideï¼Œåˆ™ feature_1.el å†…å®¹å¦‚ä¸‹ï¼š ;; This is my Emacs customization file feature_1.el providing feature_1 (provide â€˜feature_1) ;; ä¸º init.el æä¾› require 'feature_1 ;; customization code â€¦ ","date":"2019-01-17","objectID":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/:2:0","tags":["Emacs","vim","IDE","Lisp","GNU","Stallman","Editor","ç¼–è¾‘å™¨"],"title":"Emacs: ç¥çš„ç¼–è¾‘å™¨","uri":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/"},{"categories":["Programming"],"content":" ä¸­æ–‡è¾“å…¥é—®é¢˜å‚è€ƒ: Ubuntu18.04ä¸­è§£å†³emacsæ— æ³•è¾“å…¥ä¸­æ–‡çš„é—®é¢˜ Ubuntu Emacsä¸‹æ— æ³•ä½¿ç”¨fcitxè¾“å…¥ä¸­æ–‡çš„ç®€å•workaround ","date":"2019-01-17","objectID":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/:3:0","tags":["Emacs","vim","IDE","Lisp","GNU","Stallman","Editor","ç¼–è¾‘å™¨"],"title":"Emacs: ç¥çš„ç¼–è¾‘å™¨","uri":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/"},{"categories":["Programming"],"content":" æ’ä»¶","date":"2019-01-17","objectID":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/:4:0","tags":["Emacs","vim","IDE","Lisp","GNU","Stallman","Editor","ç¼–è¾‘å™¨"],"title":"Emacs: ç¥çš„ç¼–è¾‘å™¨","uri":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/"},{"categories":["Programming"],"content":" ESS","date":"2019-01-17","objectID":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/:4:1","tags":["Emacs","vim","IDE","Lisp","GNU","Stallman","Editor","ç¼–è¾‘å™¨"],"title":"Emacs: ç¥çš„ç¼–è¾‘å™¨","uri":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/"},{"categories":["Programming"],"content":" IPython","date":"2019-01-17","objectID":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/:4:2","tags":["Emacs","vim","IDE","Lisp","GNU","Stallman","Editor","ç¼–è¾‘å™¨"],"title":"Emacs: ç¥çš„ç¼–è¾‘å™¨","uri":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/"},{"categories":["Programming"],"content":" ä¸»é¢˜è®¾ç½®","date":"2019-01-17","objectID":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/:5:0","tags":["Emacs","vim","IDE","Lisp","GNU","Stallman","Editor","ç¼–è¾‘å™¨"],"title":"Emacs: ç¥çš„ç¼–è¾‘å™¨","uri":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/"},{"categories":["Programming"],"content":" color-themeå¯ä»¥ä¸‹è½½ä¸€ä¸ªä¸»é¢˜é›†æˆåŒ…ï¼Œcolor-themeï¼Œé‡Œé¢è‡ªå¸¦äº†å¤šæ¬¾é¢œè‰²ä¸»é¢˜ã€‚ cd ~/Downloads ## ä¸‹è½½ color-theme wget http://download.savannah.gnu.org/releases/color-theme/color-theme-6.6.0.tar.gz tar xfv color-theme-6.6.0.tar.gz cd color-theme-6.6.0 ## å¤åˆ¶åˆ° ~/.emacs.d/plugins ç›®å½• cp -r themes color-theme.el ~/.emacs.d/plugins æ‰“å¼€Emacsåå¯ä»¥ M+X color-theme-select é€‰æ‹©ä½ å–œæ¬¢çš„ä¸»é¢˜ï¼Œä½¿ç”¨å›è½¦é”® Enter æ¥é¢„è§ˆæ•ˆæœï¼Œç„¶åå°†ç›¸åº”çš„åç§°å†™å…¥ ï½/.emacs.d/init.el ä¸­ã€‚ ;; éœ€è¦æŒ‡å®šåŠ è½½çš„è·¯å¾„ (add-to-list 'load-path \"~/.emacs.d/plugins\") (require 'color-theme) (color-theme-initialize) ;; è¿™ä¸ªæ˜¯ä½ é€‰æ‹©çš„ä¸»é¢˜ï¼Œåé¢çš„ subtle-hacker å°±æ˜¯å®ƒçš„åå­—ï¼Œæ³¨æ„ä½¿ç”¨ å°å†™ ã€‚ (color-theme-subtle-hacker) color-theme ","date":"2019-01-17","objectID":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/:5:1","tags":["Emacs","vim","IDE","Lisp","GNU","Stallman","Editor","ç¼–è¾‘å™¨"],"title":"Emacs: ç¥çš„ç¼–è¾‘å™¨","uri":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/"},{"categories":["Programming"],"content":" one-dark-themeå½“ç„¶ï¼Œæˆ‘æ¯”è¾ƒå–œæ¬¢ Atom-One-Dark-Themeã€‚è¿™ä¸ªæ¯”è¾ƒé€‚åˆåœ¨é»‘è‰²èƒŒæ™¯ä¸‹è¿›è¡Œå†™ä»£ç ã€‚ å·²ç»æœ‰ç‰›äººæŠŠè¿™ä¸ªé¢œè‰²ä¸»é¢˜æ”¹æˆäº† Emacs ä¸‹çš„é…ç½®æ–¹æ¡ˆï¼Œæ¯”å¦‚ Introducing Atom One Dark Theme for Emacsã€‚ å…ˆæŠŠè¿™ä¸ªé…ç½®ä¸‹è½½åˆ°æœ¬åœ°ç›®å½• ~/.emacs.d/themes cd ~/.emacs.d/themes git clone https://github.com/jonathanchu/atom-one-dark-theme.git ç„¶ååœ¨é…ç½®æ–‡ä»¶ ~/emacs.d/init.el å¢åŠ  ;; ----------------------------------------------------------------------------------- (add-to-list 'custom-theme-load-path \"~/.emacs.d/themes/atom-one-dark-theme\") (load-theme 'atom-one-dark t) ;; ----------------------------------------------------------------------------------- é‡å¯ Emacs å³å¯çœ‹åˆ°æ•ˆæœäº†ã€‚ one-dark-theme ","date":"2019-01-17","objectID":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/:5:2","tags":["Emacs","vim","IDE","Lisp","GNU","Stallman","Editor","ç¼–è¾‘å™¨"],"title":"Emacs: ç¥çš„ç¼–è¾‘å™¨","uri":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/"},{"categories":["Programming"],"content":" zenburnzenburn åŸæ¥æ˜¯ Vim ä¸‹é¢çš„ä¸€æ¬¾ä½å¯¹æ¯”åº¦é¢œè‰²é…ç½®æ–¹æ¡ˆï¼Œåæ¥åˆç§»æ¤åˆ° Emacsï¼ŒThe Zenburn colour theme ported to Emacsã€‚åŒæ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ååˆ†æ–¹ä¾¿çš„å®‰è£…ï¼š cd ~/.emacs.d/themes git clone git@github.com:bbatsov/zenburn-emacs.git ç„¶ååœ¨é…ç½®æ–‡ä»¶ ~/emacs.d/init.el å¢åŠ  (add-to-list 'custom-theme-load-path \"~/.emacs.d/themes/zenburn-emacs\") (load-theme 'zenburn t) zenburn ","date":"2019-01-17","objectID":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/:5:3","tags":["Emacs","vim","IDE","Lisp","GNU","Stallman","Editor","ç¼–è¾‘å™¨"],"title":"Emacs: ç¥çš„ç¼–è¾‘å™¨","uri":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/"},{"categories":["Programming"],"content":" å¿«æ·è®¾ç½®","date":"2019-01-17","objectID":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/:6:0","tags":["Emacs","vim","IDE","Lisp","GNU","Stallman","Editor","ç¼–è¾‘å™¨"],"title":"Emacs: ç¥çš„ç¼–è¾‘å™¨","uri":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/"},{"categories":["Programming"],"content":" æ¨¡å¼è®¾ç½® Lispä»‹ç» ä½¿ç”¨ä½“ä¼šä¸ä¸ªäººæ€»ç»“","date":"2019-01-17","objectID":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/:7:0","tags":["Emacs","vim","IDE","Lisp","GNU","Stallman","Editor","ç¼–è¾‘å™¨"],"title":"Emacs: ç¥çš„ç¼–è¾‘å™¨","uri":"/archives/2019-01-17-emacs--%E7%A5%9E%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/"},{"categories":["Personal"],"content":"å…ˆåœ¨è¿™é‡Œå†™ä¸€ä¸ªæ€»ç»“å¤§çº²ï¼Œåé¢çš„pptç…§ç€è¿™ä¸ªå¤§çº²æ¥åˆ¶ä½œã€‚ å¼€åœºå‰é¢ä¸¤ä½è€æ¿è®²çš„éƒ½éå¸¸å¥½ï¼Œä»å®è§‚ç»æµåˆ°å…¬å¸è¿è¥ï¼Œåœºé¢å£®å¤§ã€è§†é‡å¼€å¹¿ã€‚æˆ‘å‘¢ï¼Œä½œä¸ºæ±‰äº‘çš„å°å°æŠ€æœ¯å·¥ï¼Œå°±è®²ä¸å‡ºè¿™ç§å‘³é“æ¥ï¼Œä¹Ÿä¸Šä¸äº†é‚£ä¹ˆé«˜çš„å±‚é¢ã€‚é‚£å°±è®²è®²å…·ä½“çš„ã€å¾®å°çš„äº‹æƒ…ã€‚ Talk is cheap, show me the code. ä»äº‹è½¯ä»¶å¼€å‘ï¼ˆä¼¼ä¹è¢«è€æ¿å¸¦åäº†ï¼Œä¸è¦ç”¨è¿™ä¹ˆé«˜è¾¾ä¸Šçš„è¯æ±‡ï¼‰ï¼Œä¿—ç§°ã€Œç å†œã€ï¼Œå…¶å®æ˜¯éå¸¸å®¹æ˜“æ£€æŸ¥ä»–çš„èƒ½åŠ›ï¼Œå°¤å…¶åœ¨ä»Šå¤©è¿™ç§å¤§åœºé¢çš„å·¥ä½œæ±‡æŠ¥ï¼Œç›´æ¥æŠŠè¿‡å»ä¸€å¹´å†…å†™è¿‡çš„ä»£ç å¾€å°ä¸Šæ”¾ï¼Œå¤§å®¶æ¥ä¸€èµ·ã€Œreviewã€å°±å¯ä»¥äº†ã€‚ ã€Œæ˜¯é©´æ˜¯é©¬ï¼Œæ‹‰å‡ºæ¥æºœæºœã€ã€‚ä»£ç è´¨é‡å…¶å®åæ˜ äº†ç¨‹åºå‘˜æ€è€ƒé—®é¢˜ã€è§£å†³é—®é¢˜çš„æŠ€èƒ½ï¼Œæ—¢è¦æ±‚èƒ½æŠŠé‡åˆ°çš„é—®é¢˜è§£å†³å¥½ï¼Œåˆèƒ½å¤Ÿæ³¨é‡æ•ˆç‡ï¼Œå¯¹å…³é”®å‡½æ•°èƒ½å¤Ÿåšæ€§èƒ½æå‡ä¸ä¼˜åŒ–ã€‚ è¿‡å»ä¸€å¹´çš„æ—¶é—´ï¼Œæˆ‘çš„å·¥ä½œä¸»è¦æ˜¯é›†ä¸­åœ¨ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢ã€‚ Write bugs. And fix code. å‘ƒï¼Œè®©æˆ‘é™é™ï¼Œå¥½åƒè¿™å¥è¯å“ªé‡Œæœ‰ä¸å¯¹çš„ï¼Œä¼¼ä¹æš´éœ²äº†ä»€ä¹ˆï¼ˆï¼Ÿï¼‰ã€‚å‘ƒã€‚ã€‚ã€‚ Write code. Then fix bugs. å‘ƒï¼Œcode å’Œ bugs æœç„¶å¤©ç”Ÿå¥½åŸºå‹ã€‚ åŸè°…æˆ‘è¿™ä¸€ç”Ÿæ”¾æµªçˆ± ã€‚ã€‚ã€‚åŸºå‹ã€‚ã€‚ã€‚ Githubgithub å¯¹æ¯”å®¶ä¹å›­ï¼Œå°±æ˜¯é‚£ä¸ªã€Œæ±‰äº‘æ·±åœ³Â·å®šç‚¹é£Ÿå ‚ã€ï¼Œå…¶å®æˆ‘è¿˜æ˜¯éå¸¸ä¸å¤ŸåŠªåŠ›ï¼Œçœ‹äººå®¶å¤©å¤©æœ‰ commitã€‚å¯¹äºç å†œè€Œè¨€ï¼ŒçœŸçš„æ²¡æœ‰ä¼‘æ¯çš„ç‰‡åˆ»ï¼Œå› ä¸ºä½ æ°¸è¿œä¸çŸ¥é“ä¸‹ä¸€ä¸ª bugs ä¼šä»é‚£é‡Œå†’å‡ºæ¥ã€‚æ‰€ä»¥ï¼Œæ¯å¤©çš„å¼€ç›˜å’Œæ”¶ç›˜æ—¶é—´ï¼Œå…¶å®æˆ‘çš„å†…å¿ƒæ˜¯éå¸¸ç´§å¼ çš„ã€‚ æ¯æœˆå¤©æ€»æœ‰é‚£ä¹ˆå…©ä¸‰å¤©æ¬¡ï¼Œå¿ƒæƒ…ç‰¹åˆ«ç´§å¼ ã€‚å“ˆå“ˆ å½“ç„¶ï¼Œçœ‹åˆ°è¿™ä¹ˆå¤šè¾›è‹¦æ”’ä¸‹æ¥çš„æ˜Ÿæ˜Ÿï¼Œå…¨éƒ½æ˜¯ã€Œæ»¡çœ¼çš„æ³ªã€ã€‚æˆ‘çš„å†…å¿ƒæ—¢æ˜¯æ»¡è¶³ï¼Œåˆæ˜¯ç¾æ„§ã€‚ æ¬£å–œçš„ï¼Œæ˜¯è¿‡å»ä¸€å¹´çš„åŠªåŠ›ï¼Œä»é›¶å¼€å§‹ï¼Œä¸ºæ±‰äº‘æ­å»ºäº†ä¸€å¥—è‡ªåŠ¨åŒ–ä¸ç¨‹åºåŒ–çš„äº¤æ˜“ç³»ç»Ÿï¼Œç›®å‰æ²¡æœ‰å› ä¸ºç³»ç»Ÿé—®é¢˜å½±å“é‡å¤§äº¤æ˜“ï¼Œå»ºç«‹äº†ä¸€å¥—é«˜å¯ç”¨çš„ç¨‹åºåŒ–äº¤æ˜“æ¡†æ¶ï¼Œæ”¯æŒ 10 äº¿çº§åˆ«èµ„é‡‘è§„æ¨¡çš„äº¤æ˜“ï¼Œå…¨ç¨‹åšåˆ°è‡ªåŠ¨åŒ–ã€æ™ºèƒ½åŒ–ã€æ— äººåŒ–ã€æµç¨‹åŒ–ã€‚å®ç°äº†ä¸€ä¸ªå°å°çš„é‡åŒ–ç›®æ ‡ã€‚ ç¾æ„§çš„æ˜¯ï¼Œèšå°‘ç¦»å¤šï¼Œé™ªä¼´å®¶äººçš„æ—¶é—´å°‘ä¹‹åˆå°‘ï¼Œä¸‡åˆ†æƒ­æ„§ã€‚ å’ªè±†ï¼šå¦ˆå¦ˆï¼Œé‚£ä¸ªæœ‰æ—¶å€™å‘¨æœ«å›æ¥ï¼Œåœ¨æˆ‘ä»¬å®¶ç¡äº†ä¸¤å¤©ï¼Œç„¶ååˆç¦»å¼€çš„ã€Œå”å”ã€æ˜¯è°å‘€ï¼Ÿ è€å©†ï¼šå­©å­ï¼Œé‚£æ˜¯ä½ çˆ¸ï¼ å‘¨æœ«å¶å°”å›æ¥ï¼Œä¸€èˆ¬æ˜¯å‡Œæ™¨åˆ°è¾¾å¦é—¨ï¼ŒåŠ ä¸Šå¹³æ—¶å·¥ä½œç´¯ï¼Œæ‰€ä»¥ä¸€å›æ¥å°±åˆ°å¤´ç¡äº†ã€‚æˆ‘å¥³å„¿æ—©ä¸Šå…­ç‚¹åŠèµ·åºŠèµ·ç‚¹å»å¸‚é˜Ÿç»ƒæ¸¸æ³³ï¼Œå‘¨æœ«åˆè¦ä¸Šä¸€å¤©çš„å…´è¶£ç­ï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½æ˜¯åˆ°ç¬¬äºŒå¤©æˆ‘è¦èµ°äº†ï¼Œå¥¹æ‰çŸ¥é“æˆ‘å›æ¥äº†ã€‚ æ±‰äº‘äº¤æ˜“ç³»ç»Ÿ 2.0","date":"2019-01-16","objectID":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/:0:0","tags":[2018,"å¹´ä¼š","æ€»ç»“"],"title":"2018å¹´ä¼šæ€»ç»“å¤§çº²","uri":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/"},{"categories":["Personal"],"content":" äº¤æ˜“ç³»ç»Ÿåœ¨å»å¹´å¹´ä¼šçš„ï¼Œæ›¾ç»ç»™è‡ªå·±æŒ–äº†ä¸€ä¸ªå‘ï¼Œæˆ‘è¯´è¦åœ¨ä»Šå¹´å¹´ä¼šçš„æ—¶å€™ï¼ŒæŠŠæ±‰äº‘çš„é‡åŒ–ç³»ç»Ÿå‡çº§åˆ° 2.0ã€‚è¿™ä¸ä»…ä»…æ˜¯ç‰ˆæœ¬å·çš„å¢åŠ ï¼Œè€Œæ˜¯ä¸€æ¬¡å…¨æ–¹é¢çš„æ”¹è¿›ï¼ŒåŒ…æ‹¬åŠŸèƒ½ä¸Šçš„å¢åŠ ã€æ€§èƒ½ä¸Šçš„æ”¹è¿›ã€ä»¥åŠ æˆ‘ä»¬å‡†å¤‡å¼€å‘ä¸€å¥—è‚¡ç¥¨çš„ç¨‹åºåŒ–äº¤æ˜“è½¯ä»¶ã€‚ å½“ç„¶ï¼Œè¿™ä¸ªç³»ç»Ÿä¼šæ›´åŠ å¤æ‚ï¼Œæ›´åŠ æŠ½è±¡ï¼Œä¼šæœ‰å¤§é‡çš„å·¥ä½œéœ€è¦å»å®Œæˆã€‚ç›®å‰ï¼Œæˆ‘åœ¨è¿™é‡Œã€Œå®˜å®£ã€ä¸€ä¸‹ æ±‰äº‘äº¤æ˜“ç³»ç»Ÿ2.0å·²ç»å®ç°äº†æ¨¡æ‹Ÿè´¦æˆ·çš„æ¥å£è°ƒç”¨ä¸ä¸‹å•äº¤æ˜“åŠŸèƒ½ã€‚ ","date":"2019-01-16","objectID":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/:1:0","tags":[2018,"å¹´ä¼š","æ€»ç»“"],"title":"2018å¹´ä¼šæ€»ç»“å¤§çº²","uri":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/"},{"categories":["Personal"],"content":" äº¤æ˜“ç³»ç»Ÿ2.0ä»‹ç»hiquant2.0 ","date":"2019-01-16","objectID":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/:2:0","tags":[2018,"å¹´ä¼š","æ€»ç»“"],"title":"2018å¹´ä¼šæ€»ç»“å¤§çº²","uri":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/"},{"categories":["Personal"],"content":" æ•°æ®åº“ æœŸè´§æ•°æ®åº“ï¼šå·²ç»å®ç°äº†è‡ªåŠ¨åŒ–è¿è¡Œï¼Œåœ¨è¿œç¨‹é˜¿é‡Œäº‘å’Œæœ¬åœ°æœåŠ¡å™¨ï¼Œæ¥æ”¶å¸‚åœºæ·±åº¦è¡Œæƒ…æ•°æ® è‚¡ç¥¨æ•°æ®åº“ï¼šè·å–å¤šä»½å¸‚åœº Tick æ•°æ®ã€åˆ†é’Ÿæ•°æ®ï¼Œæ•´ç†å¤æƒå› å­ï¼ŒåŸºæœ¬å¯æ»¡è¶³ç ”ç©¶ä½¿ç”¨ æ‰©å±•è¡Œæƒ…æ•°æ®åº“ï¼šä½¿ç”¨ Go ç ´è§£é€šè¾¾ä¿¡äºŒè¿›åˆ¶æ•°æ®æ–‡ä»¶ï¼Œå®ç°ç›˜åæ•°æ®æ›´æ–° ","date":"2019-01-16","objectID":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/:2:1","tags":[2018,"å¹´ä¼š","æ€»ç»“"],"title":"2018å¹´ä¼šæ€»ç»“å¤§çº²","uri":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/"},{"categories":["Personal"],"content":" äº¤æ˜“ç³»ç»Ÿ CTP: è‡ªåŠ¨è¿è¡Œ ç›˜ä¸­å®æ—¶æ£€æµ‹ åŸºé‡‘é£æ§ ç›˜åå‡€å€¼æ’­æŠ¥ XTP: è°ƒç”¨åˆ¸å•†æ¥å£ å¯¹æ¥ç°æœ‰é¡¶å±‚å‡½æ•° é’ˆå¯¹æ€§å¼€å‘ç®—æ³•æ¨¡å— çªç ´ï¼š ä½¿ç”¨ c é‡æ–°æ”¹å†™æ ¸å¿ƒä»£ç ï¼Œå®ç°æ€§èƒ½çš„æ˜¾è‘—æå‡(X3-50) æ­å»ºå¯æ‹“å±•çš„äº¤æ˜“æ¶æ„ï¼Œå®ç°é¡¶å±‚å‡½æ•°ä¸åº•å±‚å¼•æ“åˆ†ç¦» ç³»ç»Ÿå°ç»“ ","date":"2019-01-16","objectID":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/:2:2","tags":[2018,"å¹´ä¼š","æ€»ç»“"],"title":"2018å¹´ä¼šæ€»ç»“å¤§çº²","uri":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/"},{"categories":["Personal"],"content":" éƒ¨é—¨æ”¯æŒ å„ç±»è´¦æˆ·å¼€æˆ·æµ‹è¯• æ–°å¼€å¤šç§åˆä½œæ¨¡å¼çš„ç ”ç©¶ä¸å®ç° å‡€å€¼æ ¸ç®—ä¸é£æ§ 2019å¹´è®¡åˆ’ æŠ€æœ¯å€ºã€‚ ","date":"2019-01-16","objectID":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/:2:3","tags":[2018,"å¹´ä¼š","æ€»ç»“"],"title":"2018å¹´ä¼šæ€»ç»“å¤§çº²","uri":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/"},{"categories":["Personal"],"content":" å¼€å‘","date":"2019-01-16","objectID":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/:3:0","tags":[2018,"å¹´ä¼š","æ€»ç»“"],"title":"2018å¹´ä¼šæ€»ç»“å¤§çº²","uri":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/"},{"categories":["Personal"],"content":" è‚¡ç¥¨ç¨‹åºåŒ–äº¤æ˜“ç³»ç»Ÿ XTP ä¸­æ³°è¯åˆ¸äº¤æ˜“æ¥å£ å…¶ä»–åˆ¸å•†äº¤æ˜“æ¥å£å¼€å‘ï¼š å›½ä¿¡è¯åˆ¸TradeStatioin ä¸­ä¿¡å»ºæŠ•ç½‘é¡µäº¤æ˜“ï¼ˆåŸºäºçˆ¬è™«ï¼‰ ä¸­ä¿¡è¯åˆ¸ cats PB ç³»ç»Ÿ é“¶æ²³è¯åˆ¸ARAMA ç¬¬ä¸‰æ–¹å¹³å°ï¼š æ˜é‡‘myquant ç½‘ä¼ ç›‘ç®¡å°†å…¨é¢æ”¾å¼€ç¨‹åºåŒ–æ¥å£ æ›´å¤šåˆ¸å•†é€‰æ‹© äº¤æ˜“ç³»ç»Ÿè½åœ° å®Œå…¨å¥‘åˆç°æœ‰æ¡†æ¶ ","date":"2019-01-16","objectID":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/:3:1","tags":[2018,"å¹´ä¼š","æ€»ç»“"],"title":"2018å¹´ä¼šæ€»ç»“å¤§çº²","uri":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/"},{"categories":["Personal"],"content":" Python2 -\u003e Python3 è¿ç§» python2 æ˜¯å½“å‰æœåŠ¡å™¨é»˜è®¤ç¼–ç¨‹è¯­è¨€ï¼ŒæŠ€æœ¯æˆç†Ÿã€è¿è¡Œç¨³å®š 2020å¹´åœæ­¢å¯¹python2çš„æŠ€æœ¯æ”¯æŒï¼Œå…¨é¢æ‹¥æŠ± python3 ç›®å‰æ‰€æœ‰çš„ç§‘å­¦è®¡ç®—ç±»é¡¹ç›®å·²å®£å¸ƒåœæ­¢åœ¨python2çš„æ›´æ–° æˆ‘ä»¬ç°åœ¨é‡‡ç”¨python2æŠ€æœ¯æ¡†æ¶ï¼Œæœªæ¥éœ€ç”¨æŠ€æœ¯è¿ç§»ï¼Œä¿è¯è½¯ä»¶åŒ…å¯¹æ¥ä¸ç¤¾åŒºæ”¯æŒ ","date":"2019-01-16","objectID":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/:3:2","tags":[2018,"å¹´ä¼š","æ€»ç»“"],"title":"2018å¹´ä¼šæ€»ç»“å¤§çº²","uri":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/"},{"categories":["Personal"],"content":" c/c++æ‰©å±•ç”¨äºæ”¯æŒé«˜é¢‘äº¤æ˜“ ä½é¢‘ç­–ç•¥ + é«˜é¢‘ç®—æ³•ï¼šæœ‰åˆ©äºè¾ƒå°‘äº¤æ˜“æ»‘ç‚¹ï¼Œæé«˜æˆäº¤ç‡ é«˜é¢‘äº¤æ˜“ç³»ç»Ÿçš„æŠ€æœ¯ç§¯ç´¯ ","date":"2019-01-16","objectID":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/:3:3","tags":[2018,"å¹´ä¼š","æ€»ç»“"],"title":"2018å¹´ä¼šæ€»ç»“å¤§çº²","uri":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/"},{"categories":["Personal"],"content":" æ±‰äº‘å› å­å›æµ‹ç³»ç»Ÿ(Backtesting) æ­å»ºåŸºç¡€æ¡†æ¶ï¼Œå°è£…é€šç”¨å‡½æ•° æä¾›ç»Ÿä¸€çš„è¯„ä»·ç³»ç»Ÿï¼Œå¿«é€Ÿè¯†åˆ«æœ‰æ•ˆå› å­ ","date":"2019-01-16","objectID":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/:3:4","tags":[2018,"å¹´ä¼š","æ€»ç»“"],"title":"2018å¹´ä¼šæ€»ç»“å¤§çº²","uri":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/"},{"categories":["Personal"],"content":" å·¥ä½œæ”¯æŒ å°½é‡å½¢æˆæ–‡æ¡£åŒ–ï¼Œæœ‰åˆ©äºå¯¹æ¥å¼€å‘å·¥ä½œ å…¬å¸å±‚é¢çš„æŠ€æœ¯æ”¯æŒ ç¼–å†™é€šç”¨çš„è½¯ä»¶åŒ…ï¼š R packages python module c/c++ shared object ","date":"2019-01-16","objectID":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/:3:5","tags":[2018,"å¹´ä¼š","æ€»ç»“"],"title":"2018å¹´ä¼šæ€»ç»“å¤§çº²","uri":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/"},{"categories":["Personal"],"content":" ç ”ç©¶ ä¸€ä¸ªè¢«ä»£ç è€½è¯¯çš„ç ”ç©¶å‘˜ã€‚ å¹´ä¼šppt å…¨å±æŸ¥çœ‹ ","date":"2019-01-16","objectID":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/:4:0","tags":[2018,"å¹´ä¼š","æ€»ç»“"],"title":"2018å¹´ä¼šæ€»ç»“å¤§çº²","uri":"/archives/2019-01-16-2018%E5%B9%B4%E4%BC%9A%E6%80%BB%E7%BB%93%E5%A4%A7%E7%BA%B2/"},{"categories":["Programming"],"content":"åœ¨ Sublime Text 3 ç¼–è¾‘å™¨é‡Œå®ç°å¯¹ C/C++ æ–‡ä»¶çš„ç¼–è¯‘ä¸è¿è¡Œã€‚ å¹²ä¸­å­¦æœ€è¿‘åœ¨å­¦ä¹ ä¸€ä¸ª C++ é¡¹ç›®ï¼Œéœ€è¦é‡æ–°æŠŠä»¥å‰çš„è¯¾æœ¬æ‹¿èµ·æ¥ã€‚å­¦ä¹ çš„æœ€å¥½æ–¹æ³•ï¼Œå°¤å…¶æ˜¯ç¼–ç¨‹æŠ€èƒ½çš„å­¦ä¹ ï¼Œå°±æ˜¯å¯¹ç…§ç€æ•™æï¼Œè¾¹å­¦è¾¹ç»ƒï¼Œå³ ã€ŒLearning by doingã€ã€‚è¿™æ˜¯æˆ‘å¤šå¹´ä»¥æ¥é¢†æ‚Ÿåˆ°çš„æœ€å¥½ç»éªŒã€‚ å¯¹äº c/C++ è¿™ç±»ç¼–è¯‘è¯­è¨€ï¼Œéœ€è¦åœ¨ç¼–å†™å®Œæºæ–‡ä»¶(source file)åï¼Œä½¿ç”¨ç¼–è¯‘å™¨è¿›è¡Œç¼–è¯‘ï¼Œç”Ÿæˆç›¸åº”çš„å¯æ‰§è¡Œæ–‡ä»¶(executable file)ã€‚å› æ­¤ï¼Œä¸€ä¸ªæ—¢èƒ½æä¾›é«˜æ•ˆæ–‡æœ¬ç¼–è¾‘ç¯å¢ƒã€åŒæ—¶åˆèƒ½æä¾›å¿«é€Ÿç¼–è¯‘åŠŸèƒ½çš„ã€Œè½¯ä»¶ã€ï¼Œå¯¹äºå®ç°é¡¹ç›®å¼€å‘æ˜¯æä¸ºå…³é”®çš„ã€‚ Sublimeç¼–è¾‘ç¥å™¨åŸºäºä½¿ç”¨ä¹ æƒ¯ï¼Œæˆ‘ä¸€èˆ¬éƒ½æ˜¯åœ¨ Sublime è¿›è¡Œæ–‡æœ¬çš„ç¼–è¾‘ï¼Œç„¶åé€šè¿‡ä½¿ç”¨æ”¯æŒç›¸å…³è¯­è¨€å¤„ç†çš„é…å¥—æ’ä»¶ï¼Œè¿›è¡Œç¨‹åºå¼€å‘ã€‚è¿™ä¹ˆå¤šå¹´æ¥ï¼ŒSublime å·²ç»å‘å±•æˆäº†æˆ‘å¾—å¿ƒåº”æ‰‹çš„ç¼–è¾‘å™¨ä¸å¼€å‘ç¯å¢ƒã€‚æˆ‘ä¹‹å‰æœ‰ä»‹ç»è¿‡å¦‚ä½•é…ç½®ï¼Œä»Šå¤©è¿™ç¯‡æ–‡ç« åˆ™ä»‹ç»å¦‚ä½•é…ç½® C/C++ å¼€å‘ç¯å¢ƒã€‚ ","date":"2019-01-05","objectID":"/archives/2019-01-05-sublime-%E7%BC%96%E8%AF%91-%E8%BF%90%E8%A1%8C-cpp/:0:0","tags":["Sublime","C++","ç¼–è¯‘"],"title":"Sublime ç¼–è¯‘ è¿è¡Œ c/c++ æ–‡ä»¶","uri":"/archives/2019-01-05-sublime-%E7%BC%96%E8%AF%91-%E8%BF%90%E8%A1%8C-cpp/"},{"categories":["Programming"],"content":" æ–°å»ºé…ç½®æ–‡ä»¶åœ¨ â€œTools -\u003e Build Systemâ€ï¼Œç‚¹å‡» â€œNew Build Systemâ€ï¼Œä¼šè‡ªåŠ¨å¼¹å‡ºä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œå†™å…¥ç›¸åº”çš„é…ç½®æ–¹æ¡ˆï¼š { \"cmd\": [\"g++ -ggdb3 -std=c++11 -Wall ${file} -o ${file_base_name}\"], \"file_regex\": \"^(..[^:]*):([0-9]+):?([0-9]+)?:? (.*)$\", \"working_dir\": \"${file_path}\", \"selector\": \"source.c, source.c++\", \"shell\": true, \"variants\": [ { \"name\": \"Run\", \"cmd\": [\"${file_path}/${file_base_name}\"] }, // , // { // \"name\": \"RunInShell\", // \"cmd\": [\"gnome-terminal -x bash -c '${file_path}/${file_base_name};read' \"] // } { \"name\": \"Build_Project\", \"cmd\": [\"g++ -ggdb3 -std=c++11 -Wall ${file_path}/*.cpp -o ${file_base_name}\"] } ] } å‘½ä»¤åä¿å­˜åˆ°é»˜è®¤çš„æ–‡ä»¶å¤¹^[ä¸€èˆ¬åœ¨~/.config/sublime-text-3/Packages/User]ã€‚åœ¨è¿™é‡Œï¼š åœ¨ cmd å‘½ä»¤é‡Œè®¾ç½® gcc/g++ éœ€è¦æŒ‡å®šçš„å‚æ•°ï¼Œå¦‚ -ggdb3ã€-std=c++11ã€-Wall ç­‰ï¼Œå¯ä»¥æ–¹ä¾¿çš„æˆ‘ä»¬éœ€è¦çš„é…ç½®é›†åˆåˆ°ä¸€ä¸ªå‘½ä»¤é‡Œ æŒ‡å®šè¿è¡Œ shell åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜æŒ‡å®šå…¶ä»–çš„å¯é€‰ variantsï¼Œå³è¿™é‡Œä½¿ç”¨åˆ°çš„ Run æ¨¡å¼ï¼Œå¯ä»¥åœ¨æºæ–‡ä»¶ç¼–è¯‘ç»“æŸåï¼Œæ‰§è¡Œç¨‹åºï¼Œå¹¶æŠŠç»“æœç›´æ¥è¾“å‡ºåˆ° Sublime çš„ console ç•Œé¢ã€‚ å½“ç„¶ï¼Œå¦‚ä½•éœ€è¦è°ƒè¯•å¸¦æœ‰**è¾“å…¥(cin)**çš„ç¨‹åºï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å†æ·»åŠ  RunInShell æ¨¡å¼ã€‚ åŒæ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›¸åº”çš„é…ç½® c11 è¿è¡Œç¯å¢ƒ { \"cmd\": [\"gcc -ggdb3 -std=c11 -Wall ${file} -o ${file_base_name}\"], // å¦‚æœæ˜¯å·¥ç¨‹é¡¹ç›® // \"cmd\": [\"gcc -ggdb3 -std=c11 -Wall ${file_path}/*.c -o ${file_base_name}\"], \"file_regex\": \"^(..[^:]*):([0-9]+):?([0-9]+)?:? (.*)$\", \"working_dir\": \"${file_path}\", \"selector\": \"source.c\", \"shell\": true, \"variants\": [ { \"name\": \"Run\", \"cmd\": [\"${file_path}/${file_base_name}\"] }, // , // { // \"name\": \"RunInShell\", // \"cmd\": [\"gnome-terminal -x bash -c '${file_path}/${file_base_name};read' \"] // }ï¼Œ { \"name\": \"Build_Project\", \"cmd\": [\"gcc -ggdb3 -std=c11 -Wall ${file_path}/*.c -o ${file_base_name}\"] } ] } ","date":"2019-01-05","objectID":"/archives/2019-01-05-sublime-%E7%BC%96%E8%AF%91-%E8%BF%90%E8%A1%8C-cpp/:1:0","tags":["Sublime","C++","ç¼–è¯‘"],"title":"Sublime ç¼–è¯‘ è¿è¡Œ c/c++ æ–‡ä»¶","uri":"/archives/2019-01-05-sublime-%E7%BC%96%E8%AF%91-%E8%BF%90%E8%A1%8C-cpp/"},{"categories":["Programming"],"content":" è°ƒè¯•æˆ‘ä»¬å¯ä»¥åœ¨ç¼–è¾‘ä¸€ä¸ª C/C++ æ–‡ä»¶åï¼Œç›´æ¥è°ƒç”¨ Ctrl+B æ¥ç¼–è¯‘æ–‡ä»¶ï¼Œä½¿ç”¨ Ctrl+Shift+B é€‰æ‹©æŒ‡å®šçš„è¿è¡Œæ–¹å¼ã€‚ build system ","date":"2019-01-05","objectID":"/archives/2019-01-05-sublime-%E7%BC%96%E8%AF%91-%E8%BF%90%E8%A1%8C-cpp/:2:0","tags":["Sublime","C++","ç¼–è¯‘"],"title":"Sublime ç¼–è¯‘ è¿è¡Œ c/c++ æ–‡ä»¶","uri":"/archives/2019-01-05-sublime-%E7%BC%96%E8%AF%91-%E8%BF%90%E8%A1%8C-cpp/"},{"categories":["Programming"],"content":" è®¾ç½®å¿«æ·é”®åœ¨ Sublime é‡Œï¼Œæˆ‘ä»¬å¯ä»¥ååˆ†æ–¹ä¾¿çš„æ ¹æ®ä¸ªäººåå¥½ï¼Œè®¾ç½®æˆ‘ä»¬å¸¸ç”¨çš„ä¸€äº›å¿«æ·é”®ã€‚æ¯”å¦‚ï¼Œè¿è¡Œä¸€ä¸ªå·²ç»ç¼–è¯‘å¥½çš„ C/C++ å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ F1 å®ç°ç›´æ¥è¿è¡Œè¯¥æ–‡ä»¶ã€‚ {\"keys\": [\"f1\"], \"command\": \"build\", \"args\": {\"variant\": \"Run\"}} å…¶ä¸­ï¼Œå‚æ•° Run å°±æ˜¯æˆ‘ä»¬åœ¨ Build System é‡Œé¢è®¾ç½®çš„ â€˜variantâ€™ã€‚ ç»ˆç»“ä¸€ä¸‹ï¼Œæˆ‘ç°åœ¨å¤„ç† C/C++ é¡¹ç›®çš„åŸºæœ¬æµç¨‹ï¼š ç¼–è¾‘ä¸€ä¸ªæºæ–‡ä»¶.cpp ä½¿ç”¨ Ctrl+B ç¼–è¯‘è¯¥æ–‡ä»¶ ä½¿ç”¨ F1 è¿è¡Œæ–‡ä»¶ï¼Œç›´æ¥æŠŠç›¸åº”çš„ç»“æœæ˜¾ç¤ºå‡ºæ¥ã€‚ ","date":"2019-01-05","objectID":"/archives/2019-01-05-sublime-%E7%BC%96%E8%AF%91-%E8%BF%90%E8%A1%8C-cpp/:3:0","tags":["Sublime","C++","ç¼–è¯‘"],"title":"Sublime ç¼–è¯‘ è¿è¡Œ c/c++ æ–‡ä»¶","uri":"/archives/2019-01-05-sublime-%E7%BC%96%E8%AF%91-%E8%BF%90%E8%A1%8C-cpp/"},{"categories":["Programming"],"content":"CLion æ˜¯å½“å‰æœ€å¥½ç”¨çš„ä¸€æ¬¾ c/cpp çš„ IDEï¼ŒçœŸçš„æ²¡æœ‰ä¹‹ä¸€ã€‚æœ¬æ–‡ä»‹ç»å¦‚ä½•å®‰è£…å¹¶ä½¿ç”¨ CLion(2017.3)ã€‚","date":"2017-12-10","objectID":"/archives/2017-12-10-clion-%E6%9C%80%E5%A5%BD%E7%94%A8%E7%9A%84-c-c++-ide/","tags":["Cpp","IDE"],"title":"CLionï¼šæœ€å¥½ç”¨çš„ C-C++ IDE","uri":"/archives/2017-12-10-clion-%E6%9C%80%E5%A5%BD%E7%94%A8%E7%9A%84-c-c++-ide/"},{"categories":["Programming"],"content":"C/Cpp ç¼–ç¨‹å¸¸å¸¸ä½¿ç¨‹åºå‘˜æ„Ÿåˆ°æ‡Šæ¼ï¼Œä¸€æ–¹é¢æ˜¯ç¼–ç¨‹è¯­è¨€æœ¬èº«çš„éš¾åº¦è¾ƒé«˜ï¼Œå¦ä¸€æ–¹é¢ï¼Œæˆ‘è®¤ä¸ºä¹Ÿæ˜¯å› ä¸ºæ²¡æœ‰æ¯”è¾ƒå¥½ç”¨çš„ IDEã€‚ä¸åƒ R æˆ–è€… Python è¿™äº›è§£é‡Šæ€§ç¼–ç¨‹è¯­è¨€ï¼Œä¸éœ€è¦ç»è¿‡ç¼–è¯‘å³å¯è¿è¡Œ REPL(read-evaluate-print-loop)ï¼Œæä¾›å®æ—¶äº’åŠ¨çš„ç¼–ç¨‹ç¯å¢ƒï¼›C/Cpp æ˜¯ä¸€ç§é™æ€çš„ã€éœ€è¦ç»è¿‡ç¼–è¯‘çš„ç¼–ç¨‹è¯­è¨€ï¼Œè¿™å¢åŠ äº†æˆ‘ä»¬æŸ¥æ‰¾ä»£ç é”™è¯¯çš„éš¾åº¦ï¼Œä¹Ÿå°±æ˜¯æ— æ³•æä¾›å®æ—¶çš„çº é”™åŠŸèƒ½ï¼Œè€Œåªèƒ½æ˜¯åœ¨æ•´ä¸ªé¡¹ç›®è¿è¡Œç»“æŸåæ‰æŠŠç›¸å…³çš„é”™è¯¯æç¤ºç»™åˆ°ç¨‹åºå‘˜ã€‚å› æ­¤ï¼Œå¯¹ä¸€æ¬¾ã€Œå¥½ç”¨IDEã€çš„å‘å¾€åº”è¯¥æ˜¯ä¸€å®¶æœ‰æŠ±è´Ÿçš„ç§‘æŠ€ä¼ä¸šçš„å¥‹æ–—åŠ¨åŠ›ã€‚ ç¥å¥‡çš„ JetBrain å°±æ˜¯è¿™ä¹ˆä¸€å®¶ç‰›é€¼çš„å…¬å¸ï¼Œæœ€æ—©å¼€å‘äº† CLion é€ ç¦å¹¿å¤§çš„ C/Cpp ç¨‹åºå‘˜ï¼Œåæ¥åˆé™†é™†ç»­ç»­çš„å¼€å‘äº† PyCharm ç­‰å¤šæ¬¾å¥½ç”¨åˆå¥½çœ‹çš„ IDEï¼Œå¯ä»¥è¯´åŠŸå¾·åƒç§‹ã€é€ ç¦ä¸‡ä»£å•Šã€‚ä»Šå¤©æˆ‘ä»¬æ¥çœ‹çœ‹æ€ä¹ˆåœ¨æ“ä½œç³»ç»Ÿå®‰è£…å’Œä½¿ç”¨è¿™ä¹ˆå¥½ç”¨çš„ C/Cpp IDEã€‚ å®‰è£…æ‰€è°“ã€Œå·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ã€ï¼Œæˆ‘ä»¬å¾—å…ˆæŠŠè½¯ä»¶å®‰è£…èµ·æ¥äº†æ‰èƒ½æ•²ä»£ç å˜›ã€‚ ","date":"2017-12-10","objectID":"/archives/2017-12-10-clion-%E6%9C%80%E5%A5%BD%E7%94%A8%E7%9A%84-c-c++-ide/:0:0","tags":["Cpp","IDE"],"title":"CLionï¼šæœ€å¥½ç”¨çš„ C-C++ IDE","uri":"/archives/2017-12-10-clion-%E6%9C%80%E5%A5%BD%E7%94%A8%E7%9A%84-c-c++-ide/"},{"categories":["Programming"],"content":" ä¸‹è½½CLion æ˜¯ä¸€æ¬¾è·¨å¹³å°çš„è½¯ä»¶ï¼Œæä¾›äº† Linuxã€Mac å’Œ Windows ä¸‰ç§æ“ä½œç³»ç»Ÿä¸‹çš„å®‰è£…ã€‚å½“ç„¶ï¼Œæˆ‘å¹³æ—¶åŸºæœ¬ä¸ç”¨ Windowsï¼Œä¸»è¦çš„å¼€å‘ç¯å¢ƒéƒ½æ˜¯åœ¨ Linux/Ubuntu/CentOSï¼Œæˆ–è€…å¶å°”ä¼šä½¿ç”¨ Mac æ¥å¼€å‘ã€‚åŸºæœ¬çš„å®‰è£…æµç¨‹è·Ÿå…¶ä»–è½¯ä»¶éƒ½å·®ä¸å¤šã€‚ ","date":"2017-12-10","objectID":"/archives/2017-12-10-clion-%E6%9C%80%E5%A5%BD%E7%94%A8%E7%9A%84-c-c++-ide/:1:0","tags":["Cpp","IDE"],"title":"CLionï¼šæœ€å¥½ç”¨çš„ C-C++ IDE","uri":"/archives/2017-12-10-clion-%E6%9C%80%E5%A5%BD%E7%94%A8%E7%9A%84-c-c++-ide/"},{"categories":["Programming"],"content":" Linux ä¸‹è½½åœ¨ Linux æ“ä½œç³»ç»Ÿä¸‹ï¼Œä¸‹è½½æºä»£ç åŒ… *.tar.gzï¼Œå¹¶å°†å…¶è§£å‹åˆ°å®‰è£…ç›®å½•ã€‚ cd /home/william wget https://download.jetbrains.8686c.com/cpp/CLion-2017.3.tar.gz tar -zcvf CLion-2017.3.tar.gz cd CLion-2017.3 è®¾ç½®ç¯å¢ƒå˜é‡ç„¶åå†é…ç½®ç¯å¢ƒå˜é‡ï¼ŒæŠŠè½¯ä»¶åŒ…æ·»åŠ åˆ°ç³»ç»Ÿ vim ~/.bashrc ## æ·»åŠ åˆ°ç³»ç»Ÿè·¯å¾„ export PATH=/home/william/clion-2017.3/bin:${PATH} å‘½ä»¤è¡Œå¯åŠ¨ç»è¿‡æŠŠ CLion æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒåï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¯åŠ¨ clion.sh å½“ç„¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ·»åŠ æ¡Œé¢å›¾æ ‡çš„æ–¹å¼æ¥å¯åŠ¨ CLionã€‚ å›¾æ ‡å¯åŠ¨æ–°å»ºç«‹ä¸€ä¸ªæ–‡ä»¶ CLion.desktop, ä¿å­˜åˆ° ~/.local/share/applicationsï¼Œé‡Œé¢çš„å†…å®¹ä¸º [Desktop Entry] Name=CLion Exec=/home/william/clion-2017.3/bin/clion.sh Icon=/home/william/clion-2017.3/bin/clion.png Terminal=false Type=Application ","date":"2017-12-10","objectID":"/archives/2017-12-10-clion-%E6%9C%80%E5%A5%BD%E7%94%A8%E7%9A%84-c-c++-ide/:1:1","tags":["Cpp","IDE"],"title":"CLionï¼šæœ€å¥½ç”¨çš„ C-C++ IDE","uri":"/archives/2017-12-10-clion-%E6%9C%80%E5%A5%BD%E7%94%A8%E7%9A%84-c-c++-ide/"},{"categories":["Programming"],"content":" Mac å®‰è£…åœ¨ Mac æ“ä½œç³»ç»Ÿä¸‹å®‰è£…å…¶å®å°±æ˜¯ä¸€å»ºã€Œå‚»ç“œå¼ã€ï¼Œç›´æ¥ä¸‹è½½ *.dmg ç„¶åç‚¹å‡»å®‰è£…å³å¯ï¼Œé»˜è®¤å·²ç»å¸®æˆ‘ä»¬æŠŠç¯å¢ƒè·¯å¾„è®¾ç½®å¥½äº†ã€‚ ","date":"2017-12-10","objectID":"/archives/2017-12-10-clion-%E6%9C%80%E5%A5%BD%E7%94%A8%E7%9A%84-c-c++-ide/:1:2","tags":["Cpp","IDE"],"title":"CLionï¼šæœ€å¥½ç”¨çš„ C-C++ IDE","uri":"/archives/2017-12-10-clion-%E6%9C%80%E5%A5%BD%E7%94%A8%E7%9A%84-c-c++-ide/"},{"categories":["Programming"],"content":" é¦–æ¬¡ä½¿ç”¨ç¬¬ä¸€æ¬¡æ‰“å¼€ CLion åï¼Œä¼šå‡ºç°ä¸€ä¸ªç•Œé¢è¯¢é—®æ˜¯å¦éœ€è¦å¯¼å…¥åå¥½ï¼Œã€‚ ä¸éœ€è¦å¯¼å…¥åå¥½è®¾ç½® æ¥ä¸‹æ¥æ˜¯æ¿€æ´»è½¯ä»¶ï¼Œè¿™ä¸ªæˆ‘ä»¬åœ¨åé¢çš„æ¿€æ´»éƒ¨åˆ†å†è§£é‡Šï¼Œè¿™é‡Œé»˜è®¤å·²ç»ç»è¿‡æ¿€æ´»äº†ã€‚ æ­£åœ¨æ¿€æ´» å¯ä»¥é€‰æ‹©ä¸€æ¬¾é’Ÿæ„çš„ä¸»é¢˜ï¼Œæˆ‘ä¸€èˆ¬æ˜¯ä½¿ç”¨æš—è‰²çš„ç¼–ç¨‹ä¸»é¢˜ï¼Œè¿™é‡Œæä¾›äº† Darculaã€‚ ä¸éœ€è¦å¯¼å…¥åå¥½è®¾ç½® è®¾ç½® C/Cpp çš„é»˜è®¤ç¼–è¯‘å™¨ï¼Œè¿™é‡Œä¸€èˆ¬ä¹Ÿä¸éœ€è¦å¤šåšè®¾ç½®ï¼Œç­‰éœ€è¦æ”¹å˜çš„æ—¶å€™å†è¿›è¡Œé…ç½®å³å¯ã€‚ è®¾ç½®ç¼–è¯‘å™¨ æä¾›äº†å¯æ‹“å±•çš„æ’ä»¶ï¼Œå¯æ ¹æ®éœ€è¦æ¥é€‰æ‹©å®‰è£… é€‰æ‹©å®‰è£…æ’ä»¶ ç»è¿‡ä»¥ä¸Šå‡ ä¸ªç®€å•çš„é…ç½®æ­¥éª¤ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥æ­£å¼ä½¿ç”¨ CLion äº†ã€‚è¿™é‡Œæä¾›äº†ä¸¤ç§å¯åŠ¨é¡¹ç›®çš„æ–¹å¼ ä»å·²å­˜åœ¨çš„é¡¹ç›®å¯¼å…¥ æ–°å»ºä¸€ä¸ªé¡¹ç›® å¯åŠ¨é¡¹ç›® å¦‚æœé€‰æ‹©æ–°å»ºé¡¹ç›®ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€ä¸ªç®€å•çš„é…ç½® æ–°é¡¹ç›®é…ç½® æœ€å¥½ï¼Œæˆ‘ä»¬ç»ˆäºå¯ä»¥æ„‰å¿«çš„å†™ä»£ç äº†ã€‚ å¼€å§‹æ¬¢å¿«çš„æ•²ä»£ç  ç ´è§£æˆ‘ä»¬çŸ¥é“ï¼ŒCLion å¹¶éæ˜¯ä¸€ä¸ªå…è´¹çš„è½¯ä»¶ï¼Œè€Œæ˜¯æ”¶è´¹çš„ï¼Œä¸”ä»·æ ¼ä¸è²ã€‚ä¹‹å‰æœ‰å…¬å¸åŒäº‹è´­ä¹°è¿‡ä¸€ä¸ªæ³¨å†Œç ï¼Œå¤§çº¦æ˜¯ $80ï¼Œç›¸æ¯”äºå…¶æä¾›çš„ä¾¿åˆ©æ€§è€Œè¨€ï¼Œè¿˜æ˜¯å¾ˆå€¼å¾—çš„ã€‚ ä¸è¿‡ä¹Ÿæœ‰å¤§ç¥é€šè¿‡æ­å»ºæœåŠ¡å™¨çš„æ–¹å¼æ¥æä¾›è®¸å¯è¯å…±äº«ï¼Œå…·ä½“çš„é“¾æ¥å¯ä»¥å‚è€ƒ JetBrains IDEA ç³»åˆ—äº§å“é€šç”¨xxæ–¹æ³•ã€‚ å…·ä½“çš„æ“ä½œå¦‚ä¸‹ï¼š æ‰“å¼€æ¿€æ´»çª—å£ é€‰æ‹© Activate new license with License server ï¼ˆç”¨license server æ¿€æ´»ï¼‰ åœ¨ License sever address å¤„å¡«å…¥ http://xidea.online ç‚¹å‡» Activate è¿›è¡Œè®¤è¯ doneï¼ ","date":"2017-12-10","objectID":"/archives/2017-12-10-clion-%E6%9C%80%E5%A5%BD%E7%94%A8%E7%9A%84-c-c++-ide/:2:0","tags":["Cpp","IDE"],"title":"CLionï¼šæœ€å¥½ç”¨çš„ C-C++ IDE","uri":"/archives/2017-12-10-clion-%E6%9C%80%E5%A5%BD%E7%94%A8%E7%9A%84-c-c++-ide/"},{"categories":["Data"],"content":"åˆ©ç”¨ `R` ä¸  `selenium` å¯¹ä¸ŠæœŸæ‰€ç½‘ç«™è¿›è¡Œæ•°æ®çˆ¬è™«ï¼Œè·å–æ—¥è¡Œæƒ…æ•°æ®ã€æˆäº¤æŒä»“æ’åã€ä»“å•æ—¥æŠ¥ç­‰ã€‚","date":"2017-11-10","objectID":"/archives/2017-11-10-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%8A%E6%9C%9F%E6%89%80/","tags":["Futures","æœŸè´§","æ•°æ®","R"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹ä¸ŠæœŸæ‰€","uri":"/archives/2017-11-10-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%8A%E6%9C%9F%E6%89%80/"},{"categories":["Data"],"content":"æˆ‘ä»¬å·²ç»å®ç°äº†å¯¹ä¸¤ä¸ªäº¤æ˜“æ‰€çš„æ•°æ®çˆ¬è™«ï¼ˆä¸­é‡‘æ‰€ã€éƒ‘å•†æ‰€ï¼‰ã€‚åœ¨æŠ€æœ¯å±‚é¢ä¸Šï¼Œè¿™ä¸¤ä¸ªäº¤æ˜“æ‰€éƒ½é‡‡ç”¨äº†é™æ€ç½‘é¡µçš„æ ¼å¼æ¥å‘ˆç°äº¤æ˜“æ•°æ®ï¼Œè¿™ç§ç±»å‹çš„æ•°æ®çˆ¬è™«ç›¸å¯¹æ¯”è¾ƒå®¹æ˜“ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰¾åˆ°å¯¹åº”çš„æ•°æ®æ–‡ä»¶åœ°å€ï¼Œç„¶ååˆ©ç”¨å†å²çš„äº¤æ˜“æ—¥æœŸæ¥ç”Ÿæˆæ‰€æœ‰äº¤æ˜“æ—¥çš„æ•°æ®é“¾æ¥ï¼Œç„¶åå¼€é€šå¹¶è¡Œè®¡ç®—æ¨¡å¼å³å¯ä¸‹è½½åˆ°æ‰€æœ‰çš„å†å²æ•°æ®ã€‚ä½†å¯¹äºä¸ŠæœŸæ‰€å’Œå¤§å•†æ‰€ï¼ŒäºŒè€…åˆ™ä½¿ç”¨äº†ç›¸å¯¹å¤æ‚ä¸€äº›çš„åŠ¨æ€ç½‘é¡µæŠ€æœ¯ï¼Œä½¿ç”¨ AJAX åŠ¨æ€åŠ è½½æ¥æ˜¾ç¤ºæ•°æ®ã€‚å¯¹è¿™ç±»ç½‘ç«™è¿›è¡Œæ•°æ®çˆ¬è™«ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ›´åŠ é«˜çº§çš„æŠ€æœ¯æ‰‹æ®µã€‚ æœ¬ç¯‡æ–‡ç« ä»‹ç»å¦‚ä½•å¯¹ä¸ŠæœŸæ‰€è¿›è¡ŒåŠ¨æ€ç½‘é¡µæ•°æ®çš„çˆ¬è™«ã€‚ ä¸ŠæœŸæ‰€ç½‘ç«™æä¾›æœŸè´§ç›¸å…³çš„æ•°æ® æ—¥è¡Œæƒ…æ•°æ®æˆ‘ä»¬é¦–å…ˆæ‰“å¼€äº¤æ˜“æ•°æ®ç›¸å…³çš„ç½‘é¡µï¼Œå¯ä»¥çœ‹åˆ°ä¸ŠæœŸæ‰€æä¾›äº†å¤§é‡çš„ä¸æœŸè´§äº¤æ˜“ç›¸å…³çš„æ•°æ®ï¼Œå…¶ä¸­åŒ…æ‹¬æ—¥è¡Œæƒ…æ•°æ®ã€äº¤æ˜“æ’åæ•°æ®ç­‰ã€‚ç‚¹å‡»é€‰æ‹© æ—¥äº¤æ˜“å¿«è®¯ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥çœ‹åˆ°è¿™ä¸€å¤©çš„ä¸ŠæœŸæ‰€æœŸè´§åˆçº¦æ—¥è¡Œæƒ…æ•°æ®ï¼Œå…·ä½“çš„å­—æ®µåŒ…æ‹¬ OHLCã€SettplementPriceã€Volumeç­‰ï¼Œä¸è¿‡æ²¡æœ‰ Turnoverï¼Œè¿™ä¸ªç®—æ˜¯æœ‰ç‚¹é—æ†¾ï¼Œæ„å‘³ç€æˆ‘ä»¬æ— æ³•ä½¿ç”¨ä¸ŠæœŸæ‰€å…¬å¸ƒçš„å½“å¤©çš„æ•°æ®æ¥è®¡ç®— vwapã€‚ æ—¥è¡Œæƒ…æ•°æ® ","date":"2017-11-10","objectID":"/archives/2017-11-10-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%8A%E6%9C%9F%E6%89%80/:0:0","tags":["Futures","æœŸè´§","æ•°æ®","R"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹ä¸ŠæœŸæ‰€","uri":"/archives/2017-11-10-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%8A%E6%9C%9F%E6%89%80/"},{"categories":["Data"],"content":" åŠ¨æ€å¼‚æ­¥åŠ è½½æˆ‘ä»¬è¯•è¯•é€šè¿‡å·¦æ çš„æ—¥å†è¡¨ï¼Œé€‰å–ä¸åŒäº¤æ˜“æ—¥æœŸçš„æ•°æ®çœ‹çœ‹ã€‚å„ä½æ³¨æ„åˆ°æ²¡æœ‰ï¼Œæˆ‘ä»¬ç‚¹å‡»äº†ä¸åŒçš„ç½‘é¡µé“¾æ¥ï¼Œå¯ä»¥æµè§ˆå™¨çš„åœ°å€æ çš„ paramdate= è¿™ä¸ªå­—æ®µä¹Ÿåœ¨éšç€å‘ç”Ÿæ”¹å˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†å²æ‰€æœ‰çš„äº¤æ˜“æ—¥æœŸæ¥ç”Ÿæˆä¸åŒçš„æ—¥è¡Œæƒ…ç½‘é¡µé“¾æ¥ï¼Œæ¥ä¸‹æ¥åªéœ€è¦æ‰“å¼€å„ä¸ªé“¾æ¥åœ°å€ï¼Œå°±èƒ½çœ‹åˆ°å…·ä½“çš„æ•°æ®è¡¨æ ¼äº†ã€‚ ä¸è¿‡ä¸æˆ‘ä»¬ä¹‹å‰ä»‹ç»çš„ä¸­é‡‘æ‰€æˆ–éƒ‘å•†æ‰€ä¸ä¸€æ ·ï¼Œåä¸¤å®¶äº¤æ˜“æ‰€æ˜¯é’ˆå¯¹ä¸åŒçš„äº¤æ˜“æ—¥æœŸæä¾›äº†å•ç‹¬çš„æ•°æ®ç•Œé¢ï¼Œå³æˆ‘ä»¬æ‰€è¯´çš„é™æ€ç½‘é¡µï¼›è€Œä¸ŠæœŸæ‰€é‡‡ç”¨çš„æ˜¯åŠ¨æ€å¼‚æ­¥åŠ è½½çš„æ–¹å¼ï¼Œæˆ‘ä»¬ä½¿ç”¨é¼ æ ‡é€‰æ‹©å¥½äº¤æ˜“æ—¥æœŸåï¼Œä¸ŠæœŸæ‰€æœåŠ¡å™¨æ‰å‘é€æ•°æ®ç»™æµè§ˆå™¨è§£æå¹¶å‘ˆç°å‡ºæ¥ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ— æ³•é€šè¿‡ç›´æ¥ä¸‹è½½æ•°æ®æ–‡ä»¶çš„é“¾æ¥æ¥è·å–æ•°æ®ã€‚ å¯¹äºè¿™ç±»çš„åŠ¨æ€ç½‘é¡µçˆ¬è™«ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å¤„ç†ï¼š å¦‚æœç†Ÿæ‚‰ JavaScript æŠ€æœ¯ï¼šå¯ä»¥é€šè¿‡ç¼–å†™ JavaScript è„šæœ¬æ¥å“åº”ä¸ŠæœŸæ‰€æœåŠ¡å™¨ï¼Œè¿›è€Œæˆªå–æ•°æ® é€šè¿‡æ¨¡æ‹Ÿé¼ æ ‡çš„æ–¹å¼ï¼šç¡®å®šå¥½äº¤æ˜“æ—¥æœŸï¼Œç­‰å¾…è¿œç¨‹æœåŠ¡å™¨æŠŠæ•°æ®ä¼ è¾“åˆ°æœ¬åœ°åï¼Œæˆ‘ä»¬å†å¯¹ç½‘é¡µæ•°æ®è¿›è¡Œçˆ¬è™«ã€è¯»å–ã€æ•´ç† æ•°æ®æ–‡ä»¶é“¾æ¥ä¸ºåŠ¨æ€æ ¼å¼ å¾ˆæ˜¾ç„¶ï¼Œæˆ‘ä¸æ˜¯ CS ç§‘ç­ï¼Œè™½ç„¶æœ‰è®¾è®¡è¿‡åšå®¢ï¼Œä½†ä¹Ÿå°±æ˜¯ä¸€èˆ¬äº†è§£å’ŒåŸºæœ¬ä½¿ç”¨çš„åˆçº§é˜¶æ®µï¼Œç›®å‰è¿˜æ— æ³•æŒæ¡ JavaScript çš„å¼ºå¤§åŠŸèƒ½ï¼Œè€Œä¸”ä¹Ÿä¸æ‰“ç®—ä¸ºäº†æ•°æ®çˆ¬è™«ä¸“é—¨å»å­¦ä¹ è¿™é—¨å‰æ®µè¯­è¨€ï¼ˆä¸€æ¥ä¸­å¹´å±æœºä¹‹åçš„æ—¶é—´ã€ç²¾åŠ›å—é™ï¼ŒäºŒæ¥ä»˜å‡ºæ”¶ç›Šæ¯”ä¸é«˜ï¼‰ã€‚å› æ­¤ï¼Œæˆ‘ä½¿ç”¨äº†è¿‚å›ç­–ç•¥ï¼Œä½¿ç”¨ Selenium æ¨¡æ‹Ÿé¼ æ ‡æ¥å¯¹ä¸ŠæœŸæ‰€çš„äº¤æ˜“æ•°æ®è¿›è¡Œçˆ¬è™«ã€‚ çœ‹èµ·æ¥è¿™ä¸ªä»»åŠ¡ä¼¼ä¹æŒºå¤æ‚çš„ã€‚å…¶å®å¾ˆç®€å•ï¼ˆMaybeï¼‰ï¼Œæˆ‘ä»¬åªéœ€è¦ä»¥ä¸‹ä¸¤ä¸ªæ­¥éª¤ï¼š å®šä½äº¤æ˜“æ—¥æœŸ ç­‰æœåŠ¡å™¨ä¼ é€æ•°æ®ç»“æŸåï¼Œè¯»å–ç½‘é¡µæ•°æ® ","date":"2017-11-10","objectID":"/archives/2017-11-10-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%8A%E6%9C%9F%E6%89%80/:1:0","tags":["Futures","æœŸè´§","æ•°æ®","R"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹ä¸ŠæœŸæ‰€","uri":"/archives/2017-11-10-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%8A%E6%9C%9F%E6%89%80/"},{"categories":["Data"],"content":" å®šä½äº¤æ˜“æ—¥æœŸå³åˆ©ç”¨å†å²çš„æœŸè´§äº¤æ˜“æ—¥æœŸï¼Œç”Ÿæˆå•ç‹¬çš„é“¾æ¥åœ°å€ï¼Œç„¶åä½¿ç”¨ Selenium é©±åŠ¨æµè§ˆå™¨æ¥æ‰“å¼€ç½‘é¡µã€‚ ## å¼€å¯ Selenium å’Œ firefox remDr \u003c- remoteDriver(remoteServerAddr ='localhost' ,port = 4444 ,browserName = 'firefox') remDr$getStatus() ## ç”Ÿæˆé“¾æ¥åœ°å€ exchURL \u003c- \"http://www.shfe.com.cn/statements/dataview.html?paramid=kx\u0026paramdate=\" tempURL \u003c- paste0(exchURL, exchCalendar[i,days]) ## åœ¨æµè§ˆå™¨æ‰“å¼€é“¾æ¥æ¥è·å–è¿œç¨‹æœåŠ¡å™¨æ•°æ® ## =========================================================================== ## å¼€å§‹å‡†å¤‡ä¸‹è½½æ•°æ® # éœ€è¦ä¿æŒå¼€å¯ # ---------------------------------------------------------------------------- remDr$open(silent = TRUE) remDr$navigate(tempURL) Sys.sleep(0.5) ","date":"2017-11-10","objectID":"/archives/2017-11-10-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%8A%E6%9C%9F%E6%89%80/:2:0","tags":["Futures","æœŸè´§","æ•°æ®","R"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹ä¸ŠæœŸæ‰€","uri":"/archives/2017-11-10-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%8A%E6%9C%9F%E6%89%80/"},{"categories":["Data"],"content":" è¯»å–ç½‘é¡µæ•°æ®åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬èƒ½å¤Ÿçœ‹åˆ°åœ¨ firefox æµè§ˆå™¨å·²ç»æ‰“å¼€äº†å½“å‰çš„æ—¥è¡Œæƒ…æ•°æ®ç½‘é¡µã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ç½‘é¡µè¿›è¡Œæ•°æ®çˆ¬è™«ã€‚ æ‰¾åˆ°æ•°æ®æ‰€åœ¨çš„èŠ‚ç‚¹ å®šä½æ•°æ®è¡¨æ ¼ï¼šæˆ‘ä»¬æ‰¾åˆ°äº†æ—¥è¡Œæƒ…æ•°æ®æ‰€åœ¨çš„èŠ‚ç‚¹ä¸º \u003ctable id=\"addedtable\" width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\"\u003e æå–ç½‘é¡µå†…å®¹ï¼šéœ€è¦æŠŠæ•´ä¸ªç½‘é¡µåŠ è½½åˆ°å†…å­˜ tempTable \u003c- remDr$findElements(using = 'id', value = 'addedtable')[[1]] tempTable$getElementAttribute('outerHTML')[[1]] è¯»å–è¡¨æ ¼æ•°æ®ï¼šè¿™ä¸ªç›¸å¯¹å®¹æ˜“ï¼Œç›´æ¥ä½¿ç”¨ rvest å°è£…å¥½çš„å‡½æ•°å³å¯ã€‚ ## --------------------------------------------------------------------------- tempTitle \u003c- remDr$findElements(using = 'id', value = 'datatitle')[[1]] tempQueryDay \u003c- tempTitle$getElementAttribute('outerHTML')[[1]] %\u003e% read_html(encoding = 'GB18030') %\u003e% html_node('strong') %\u003e% html_text() %\u003e% gsub('\\\\D','',.) if (tempQueryDay != exchCalendar[i,days]) return(NULL) ## --------------------------------------------------------------------------- ## --------------------------------------------------------------------------- #-- æ‰¾åˆ°æ•°æ® tempTable \u003c- remDr$findElements(using = 'id', value = 'addedtable')[[1]] webData \u003c- tempTable$getElementAttribute('outerHTML')[[1]] %\u003e% read_html(encoding = 'GB18030') %\u003e% html_nodes('table') %\u003e% html_table(fill = TRUE, header=FALSE) %\u003e% as.data.table() %\u003e% .[-grep('æ³¨ï¼š|æŠ¥ä»·å•ä½',X1)] print(webData) ## --------------------------------------------------------------------------- å‰©ä¸‹çš„å°±æ˜¯æŠŠæ•°æ®ä¿å­˜ä¸ºæ–‡ä»¶äº†ï¼Œå¹¶è®°å¾—æŠŠç›¸å…³çš„è¿›ç¨‹ç»“æŸæ‰ï¼Œå¦åˆ™ä¼šä¸€ç›´å æœ‰ç³»ç»Ÿå†…å­˜ã€‚ ## --------------------------------------------------------------------------- tryNo \u003c- 0 while ( (!file.exists(destFile) | file.size(destFile) \u003c 1000) \u0026 (tryNo \u003c 10) ){ openxlsx::write.xlsx(webData, file = destFile, colNames = FALSE, rowNames = FALSE) tryNo \u003c- tryNo + 1 } ## =========================================================================== ## å…³é—­æµè§ˆå™¨ try({ system('pkill -f firefox') system('pkill -f geckodriver') system('rm -rf /tmp/rust_mozprofile*') }) ## =========================================================================== ","date":"2017-11-10","objectID":"/archives/2017-11-10-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%8A%E6%9C%9F%E6%89%80/:3:0","tags":["Futures","æœŸè´§","æ•°æ®","R"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹ä¸ŠæœŸæ‰€","uri":"/archives/2017-11-10-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%8A%E6%9C%9F%E6%89%80/"},{"categories":["Data"],"content":" å®Œæ•´çš„ Demo ################################################################################ ##! shfe.R ## è¿™æ˜¯ä¸»å‡½æ•°: ## ç”¨äºä» ä¸ŠæœŸæ‰€ ç½‘ç«™çˆ¬è™«æœŸè´§äº¤æ˜“çš„æ—¥è¡Œæƒ…æ•°æ® ## daily ## ## ## æ³¨æ„: ## ## Author: fl@hicloud-investment.com ## CreateDate: 2017-10-16 ################################################################################ ################################################################################ ## STEP 0: åˆå§‹åŒ–ï¼Œè½½å…¥åŒ…ï¼Œè®¾å®šåˆå§‹æ¡ä»¶ ################################################################################ rm(list = ls()) logMainScript \u003c- c(\"shfe.R\") if (class(try(setwd('/home/fl/myData/'))) == 'try-error') { setwd('/run/user/1000/gvfs/sftp:host=192.168.1.166,user=fl/home/fl/myData') } suppressMessages({ source('./R/Rconfig/myInit.R') }) library(RSelenium) ################################################################################ ## STEP 1: è·å–å¯¹åº”çš„äº¤æ˜“æ—¥æœŸ ################################################################################ ChinaFuturesCalendar \u003c- fread(\"./data/ChinaFuturesCalendar/ChinaFuturesCalendar.csv\", colClasses = list(character = c(\"nights\",\"days\"))) %\u003e% .[days \u003c format(Sys.Date(),'%Y%m%d')] exchCalendar \u003c- ChinaFuturesCalendar[,\":=\"(calendarYear = substr(days,1,4), calendarYearMonth = substr(days,1,6), calendarMonth = substr(days,5,6), calendarDay = substr(days,7,8))] dataPath \u003c- '/home/william/Documents/Exchange/SHFE/' # dataPath \u003c- \"./data/Bar/Exchange/SHFE/\" ##------------------------------------------------------------------------------ if(Sys.info()['sysname'] == 'Windows'){ Sys.setenv(\"R_ZIPCMD\" = \"D:/Program Files/Rtools/bin/zip.exe\") ## path to zip.exe } ##------------------------------------------------------------------------------ ################################################################################ ## SHFE: ä¸ŠæœŸæ‰€ exchURL \u003c- \"http://www.shfe.com.cn/statements/dataview.html?paramid=kx\u0026paramdate=\" ################################################################################ ################################################################################ ## åå°å¼€å¯ä¸€ä¸‹å‘½ä»¤ ## ## cd Desktop ## java -jar selenium-server-standalone-3.0.0.jar ## ################################################################################ remDr \u003c- remoteDriver(remoteServerAddr ='localhost' ,port = 4444 ,browserName = 'firefox') remDr$getStatus() # # ################################################################################ ## å¼€å§‹ä¸‹è½½æ•°æ® ################################################################################ shfeData \u003c- function(i) { ## =========================================================================== tempDir \u003c- paste0(dataPath,exchCalendar[i,calendarYear]) if (!dir.exists(tempDir)) dir.create(tempDir, recursive = TRUE) ## =========================================================================== tempURL \u003c- paste0(exchURL, exchCalendar[i,days]) ## =========================================================================== ## åˆ¤æ–­æ–‡ä»¶æ˜¯ä¸æ˜¯å·²ç»ä¸‹è½½äº† ## --------------------------------------------------------------------------- destFile \u003c- paste0(tempDir, \"/\", ChinaFuturesCalendar[i,days],\".xlsx\") if (file.exists(destFile)) return(NULL) ## =========================================================================== ## =========================================================================== ## å¼€å§‹å‡†å¤‡ä¸‹è½½æ•°æ® # éœ€è¦ä¿æŒå¼€å¯ # ---------------------------------------------------------------------------- remDr$open(silent = TRUE) remDr$navigate(tempURL) Sys.sleep(0.5) ## --------------------------------------------------------------------------- tempTitle \u003c- remDr$findElements(using = 'id', value = 'datatitle')[[1]] tempQueryDay \u003c- tempTitle$getElementAttribute('outerHTML')[[1]] %\u003e% read_html(encoding = 'GB18030') %\u003e% html_node('strong') %\u003e% html_text() %\u003e% gsub('\\\\D','',.) if (tempQueryDay != exchCalendar[i,days]) return(NULL) ## --------------------------------------------------------------------------- ## --------------------------------------------------------------------------- #-- æ‰¾åˆ°æ•°æ® tempTable \u003c- remDr$findElements(using = 'id","date":"2017-11-10","objectID":"/archives/2017-11-10-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%8A%E6%9C%9F%E6%89%80/:4:0","tags":["Futures","æœŸè´§","æ•°æ®","R"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹ä¸ŠæœŸæ‰€","uri":"/archives/2017-11-10-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%8A%E6%9C%9F%E6%89%80/"},{"categories":["Data"],"content":" é€‰æ‹©å…¨éƒ¨åˆçº¦éœ€è¦é€‰æ‹©ä¸ŠæœŸæ‰€å…¨éƒ¨æœŸè´§åˆçº¦ ä¸è¿‡ï¼Œä¸ŠæœŸæ‰€æä¾›çš„é»˜è®¤ä¼ é€æ•°æ®æ˜¯ é“œï¼Œå¦‚æœåªæ˜¯ç®€å•ç²—æš´çš„çˆ¬è™«ï¼Œåªèƒ½è·å–é“œæœŸè´§åˆçº¦çš„å•ä¸ªæ•°æ®ã€‚æ³¨æ„åˆ°æ—è¾¹è¿˜æœ‰ä¸€ä¸ª å…¨éƒ¨ çš„æŒ‰é’®ï¼Œæˆ‘ä»¬ç‚¹å‡»è¿™ä¸ªæŒ‰é’®åæœåŠ¡å™¨æ‰ä¼šæŠŠæ‰€æœ‰åˆçº¦çš„æˆäº¤æŒä»“æ’åæ•°æ®ä¼ è¾“åˆ°æœ¬åœ°ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨çˆ¬è™«ä¹‹å‰è¿˜éœ€è¦æ¨¡æ‹Ÿé¼ æ ‡ç‚¹å‡»é€‰æ‹©å…¨éƒ¨åˆçº¦çš„æŒ‰é’®ã€‚è¿™ä¸ªä¹Ÿæ˜¯å¯ä»¥é€šè¿‡ Selenium æ¥å®ç°ã€‚å…·ä½“çš„åšæ³•æ˜¯ é¦–å…ˆï¼Œå®šä½ å…¨éƒ¨ æŒ‰é’®æ‰€å¯¹åº”çš„èŠ‚ç‚¹ ç„¶åä½¿ç”¨ clickElement() å‡½æ•°æ¨¡æ‹Ÿé¼ æ ‡å•å‡»æ“ä½œ å…·ä½“çš„ä»£ç å¦‚ä¸‹ ## å®šä½å…¨éƒ¨åˆçº¦çš„æŒ‰é’® temp \u003c- remDr$findElements(using = 'id', value = 'li_all')[[1]] #-- ç‚¹å‡»é€‰æ‹©å…¨éƒ¨åˆçº¦ tempWeb \u003c- temp$clickElement() ç°åœ¨ï¼Œæˆ‘ä»¬å°±èƒ½åœ¨æœ¬åœ°è·å–æ‰€æœ‰åˆçº¦çš„æˆäº¤æŒä»“æ’åæ•°æ®äº†ã€‚å¯¹ç½‘é¡µè¿›è¡Œæ•°æ®çˆ¬è™«ä¸ä¸Šé¢çš„æ—¥è¡Œæƒ…æ•°æ®çˆ¬è™«ä¸€æ ·ï¼Œä¸å†èµ˜è¿°ã€‚ ","date":"2017-11-10","objectID":"/archives/2017-11-10-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%8A%E6%9C%9F%E6%89%80/:5:0","tags":["Futures","æœŸè´§","æ•°æ®","R"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹ä¸ŠæœŸæ‰€","uri":"/archives/2017-11-10-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%8A%E6%9C%9F%E6%89%80/"},{"categories":["Data"],"content":" å®Œæ•´çš„ Demoæˆäº¤æŒä»“æ’åçš„ç½‘é¡µç»“æ„ ################################################################################ ## shfe.R ## ç”¨äºä¸‹è½½ä¸ŠæœŸæ‰€æœŸè´§å…¬å¸æŒä»“æ’åæ•°æ® ## ## Author: William Fang ## Date : 2017-08-21 ################################################################################ ################################################################################ ## STEP 0: åˆå§‹åŒ–ï¼Œè½½å…¥åŒ…ï¼Œè®¾å®šåˆå§‹æ¡ä»¶ ################################################################################ rm(list = ls()) logMainScript \u003c- c(\"shfe.R\") if (class(try(setwd('/home/fl/myData/'))) == 'try-error') { setwd('/run/user/1000/gvfs/sftp:host=192.168.1.166,user=fl/home/fl/myData') } suppressMessages({ source('./R/Rconfig/myInit.R') }) library(RSelenium) ################################################################################ ## STEP 1: è·å–å¯¹åº”çš„äº¤æ˜“æ—¥æœŸ ################################################################################ ChinaFuturesCalendar \u003c- fread(\"./data/ChinaFuturesCalendar/ChinaFuturesCalendar.csv\", colClasses = list(character = c(\"nights\",\"days\"))) %\u003e% .[days \u003c format(Sys.Date(),'%Y%m%d')] exchCalendar \u003c- ChinaFuturesCalendar[,\":=\"(calendarYear = substr(days,1,4), calendarYearMonth = substr(days,1,6), calendarMonth = substr(days,5,6), calendarDay = substr(days,7,8))] dataPath \u003c- '/home/william/Documents/oiRank/SHFE/' # dataPath \u003c- \"./data/Bar/oiRank/SHFE/\" ##------------------------------------------------------------------------------ if(Sys.info()['sysname'] == 'Windows'){ Sys.setenv(\"R_ZIPCMD\" = \"D:/Program Files/Rtools/bin/zip.exe\") ## path to zip.exe } ##------------------------------------------------------------------------------ ################################################################################ ## SHFE: ä¸ŠæœŸæ‰€ exchURL \u003c- \"http://www.shfe.com.cn/statements/dataview.html?paramid=pm\u0026paramdate=\" ################################################################################ ################################################################################ ## åå°å¼€å¯ä¸€ä¸‹å‘½ä»¤ ## ## cd Desktop ## java -jar selenium-server-standalone-3.0.0.jar ## ################################################################################ remDr \u003c- remoteDriver(remoteServerAddr ='localhost' ,port = 4444 ,browserName = 'firefox') remDr$getStatus() # # ################################################################################ ## å¼€å§‹ä¸‹è½½æ•°æ® ## 1.æŒä»“æ’å ################################################################################ shfeData \u003c- function(i) { ## =========================================================================== tempDir \u003c- paste0(dataPath,exchCalendar[i,calendarYear]) if (!dir.exists(tempDir)) dir.create(tempDir, recursive = TRUE) ## =========================================================================== tempURL \u003c- paste0(exchURL, exchCalendar[i,days]) ## =========================================================================== ## åˆ¤æ–­æ–‡ä»¶æ˜¯ä¸æ˜¯å·²ç»ä¸‹è½½äº† ## --------------------------------------------------------------------------- destFile \u003c- paste0(tempDir, \"/\", ChinaFuturesCalendar[i,days],\".xlsx\") if (file.exists(destFile)) return(NULL) ## =========================================================================== ## =========================================================================== ## å¼€å§‹å‡†å¤‡ä¸‹è½½æ•°æ® # éœ€è¦ä¿æŒå¼€å¯ # ---------------------------------------------------------------------------- remDr$open(silent = TRUE) remDr$navigate(tempURL) Sys.sleep(1) ## --------------------------------------------------------------------------- tempTitle \u003c- remDr$findElements(using = 'id', value = 'datatitle')[[1]] tempQueryDay \u003c- tempTitle$getElementAttribute('outerHTML')[[1]] %\u003e% read_html(encoding = 'GB18030') %\u003e% html_nodes('table') %\u003e% html_table() %\u003e% .[[1]] %\u003e% .[2, 'X1'] %\u003e% gsub('-','',.) if (tempQueryDay != exchCalendar[i,days]) return(NULL) ## --------------------------------------------------------------------------- temp \u003c- remDr$findElements(using = 'id', value = 'li_all')[[1]] #-- ç‚¹å‡»é€‰æ‹©å…¨éƒ¨åˆçº¦ tempWeb \u003c- temp$clickElement() Sys.sleep(1) #-- æ‰¾åˆ°æ•°æ® tempData \u003c- remDr","date":"2017-11-10","objectID":"/archives/2017-11-10-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%8A%E6%9C%9F%E6%89%80/:6:0","tags":["Futures","æœŸè´§","æ•°æ®","R"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹ä¸ŠæœŸæ‰€","uri":"/archives/2017-11-10-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%8A%E6%9C%9F%E6%89%80/"},{"categories":["Programming"],"content":"åœ¨ CentOS æ“ä½œç³»ç»Ÿæ›´æ–° Rstudio-Server è½¯ä»¶ï¼Œå¹¶è¿›è¡Œç›¸å…³çš„ç«¯å£è®¾ç½®ã€‚ å¼ºå¤§çš„ R IDERstudio æ˜¯éå¸¸å¼ºå¤§çš„ã€ä¸“æ³¨äº R ç»Ÿè®¡è¯­è¨€ç¼–ç¨‹ç¯å¢ƒçš„ IDEï¼ŒåŸºæœ¬å–ä»£äº†åŸç”Ÿçš„æ“ä½œç•Œé¢è€Œæˆä¸ºç›®å‰ä½¿ç”¨èŒƒå›´æœ€å¹¿æ³›ã€åŠŸèƒ½æœ€å¼ºå¤§çš„ç¼–ç¨‹è½¯ä»¶ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œæˆ‘ä»¬åœ¨æ¡Œé¢ PC æ“ä½œç³»ç»Ÿï¼Œç›´æ¥å®‰è£…ä½¿ç”¨ Rstudio å³å¯å®ç°ä»£ç ç¼–å†™ã€æµ‹è¯•è¿è¡Œã€ç”»å›¾ç­‰æ“ä½œï¼›è€Œå¯¹äºæœåŠ¡å™¨ï¼Œæˆ‘ä»¬åˆ™éœ€è¦å®‰è£… Rstudio-Server è¿™ä¸ªç‰ˆæœ¬ï¼Œé€šè¿‡ç½‘é¡µç™»å½•æ¥æ¨¡æ‹Ÿæ¡Œé¢çš„ IDEï¼Œå®ç°å®Œå…¨æ— ç¼è¿æ¥åœ°ä½¿ç”¨æˆ‘ä»¬æœ€çˆ±çš„ R ç¼–è¾‘ä¸æµ‹è¯•ç¯å¢ƒã€‚ é€šè¿‡ç½‘é¡µè®¿é—® Rstudio æ–°ç‰ˆçš„ Rstudio-Server è¿˜ä¸ºæˆ‘ä»¬è´´å¿ƒçš„æä¾›äº†é€šè¿‡ç½‘é¡µè®¿é—®æœåŠ¡å™¨ Terminal çš„ç«¯å£ï¼Œå³æˆ‘ä»¬ç°åœ¨å³å¯ä»¥åœ¨ç½‘é¡µè®¿é—®åˆ° Rï¼Œåœ¨ä¸Šé¢è¿›è¡Œç¼–ç¨‹ã€æ˜¾ç¤ºç”»å›¾ã€æµ‹è¯•è¿è¡Œï¼Œåˆå¯ä»¥é€šè¿‡ç»ˆç«¯è¿›è¡Œ shell å‘½ä»¤æ“ä½œï¼Œç±»ä¼¼äºå®ç°äº†è®¿é—®æœåŠ¡å™¨ç»ˆç«¯çš„åŠŸèƒ½ã€‚ æ–°ç‰ˆæä¾›äº†ç›´æ¥è®¿é—®æœåŠ¡å™¨ç»ˆç«¯çš„åŠŸèƒ½ å› æ­¤ï¼Œæˆ‘ä»¬å†³å®šå¯¹åŸæ¥çš„ CentOS æ“ä½œç³»ç»Ÿå®‰è£…çš„æ—§ç‰ˆè¿›è¡Œçœçº§ã€‚ä»¥ä¸‹ç®€è¦è®°å½•å‡çº§è¿‡ç¨‹ã€‚ å‡çº§è¿‡ç¨‹","date":"2017-11-05","objectID":"/archives/2017-11-05-%E5%8D%87%E7%BA%A7-rstudio-server/:0:0","tags":["CentOS","Rstudio"],"title":"å‡çº§ Rstudio Server","uri":"/archives/2017-11-05-%E5%8D%87%E7%BA%A7-rstudio-server/"},{"categories":["Programming"],"content":" ä¸‹è½½æ–°ç‰ˆè½¯ä»¶é¦–å…ˆéœ€è¦åˆ° Rstudio çš„å®˜ç½‘ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ Rstudio-serverï¼Œè®°å¾—é€‰æ‹© CentOS/RHEL cd /tmp ## ä¸‹è½½æœ€æ–°ç‰ˆæœ¬å· wget https://download2.rstudio.org/rstudio-server-rhel-1.1.383-x86_64.rpm ## ä½¿ç”¨ç®¡ç†å‘˜æƒé™å®‰è£…è½¯ä»¶ sudo yum install --nogpgcheck rstudio-server-rhel-1.1.383-x86_64.rpm sudo yum install -y initscripts ","date":"2017-11-05","objectID":"/archives/2017-11-05-%E5%8D%87%E7%BA%A7-rstudio-server/:1:0","tags":["CentOS","Rstudio"],"title":"å‡çº§ Rstudio Server","uri":"/archives/2017-11-05-%E5%8D%87%E7%BA%A7-rstudio-server/"},{"categories":["Programming"],"content":" æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸå®‰è£…å®Œæˆåï¼Œé»˜è®¤çš„é…ç½®ç«¯å£å·ä¸º 8787ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨è¾“å…¥ï¼š192.168.1.166:8787ã€‚ ","date":"2017-11-05","objectID":"/archives/2017-11-05-%E5%8D%87%E7%BA%A7-rstudio-server/:2:0","tags":["CentOS","Rstudio"],"title":"å‡çº§ Rstudio Server","uri":"/archives/2017-11-05-%E5%8D%87%E7%BA%A7-rstudio-server/"},{"categories":["Programming"],"content":" å¼‚å¸¸æ’æŸ¥å¦‚æœæ²¡æœ‰æ„å¤–çš„è¯ï¼Œæˆ‘ä»¬æ˜¯å¯ä»¥ç›´æ¥åœ¨ç½‘é¡µæ‰“å¼€ Rstudio ç•Œé¢çš„ã€‚ä¸è¿‡ï¼Œå¦‚æœæˆ‘ä»¬çš„æ›´æ–°çš„è¿‡ç¨‹ä¸­ï¼Œä¸å°å¿ƒæŠŠåŸæ¥çš„ç¨‹åºå…³é—­äº†ï¼Œè¿™æ—¶å€™éœ€è¦é‡å¯ç«¯å£ ## å°è¯•é‡å¯æœåŠ¡ sudo rstudio-server restart # initctl: Unknown instance # rsession no process restart ## å¢åŠ è¿œç¨‹è®¿é—® Rstudio 8787 ç«¯å£ # 1.FirewallDé˜²ç«å¢™å¼€æ”¾8787ç«¯å£ firewall-cmd --zone=public --add-port=8787/tcp --permanent # 2.é‡å¯é˜²ç«å¢™ systemctl restart firewalld.service ## ä½¿ç”¨ä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤æ¥é‡æ–°é…ç½® 8787 ç«¯å£ ## 1) check the process that used 8787 sudo fuser 8787/tcp ## 2) with the -k option to kill all process sudo fuser -k 8787/tcp ## 3) start rstudio-server sudo rstudio-server start ","date":"2017-11-05","objectID":"/archives/2017-11-05-%E5%8D%87%E7%BA%A7-rstudio-server/:3:0","tags":["CentOS","Rstudio"],"title":"å‡çº§ Rstudio Server","uri":"/archives/2017-11-05-%E5%8D%87%E7%BA%A7-rstudio-server/"},{"categories":["Data"],"content":"åˆ©ç”¨ `R` å¯¹éƒ‘å·å•†å“äº¤æ˜“æ‰€è¿›è¡Œç½‘ç»œçˆ¬è™«ï¼Œè·å–æ—¥è¡Œæƒ…æ•°æ®ã€æˆäº¤æ’åã€ä»“å•æ•°æ®ç­‰ã€‚","date":"2017-10-28","objectID":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/","tags":["Futures","æœŸè´§","æ•°æ®","R"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹éƒ‘å•†æ‰€","uri":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/"},{"categories":["Data"],"content":"ä¸Šå›æˆ‘ä»‹ç»äº†å¦‚ä½•å¯¹ä¸­é‡‘æ‰€è¿›è¡Œç½‘ç»œçˆ¬è™«ï¼Œè·å¾—äº†è‚¡æŒ‡æœŸè´§ç›¸å…³çš„å†å²æ—¥è¡Œæƒ…æ•°æ®å’Œæˆäº¤æ’åæ•°æ®ã€‚åŒæ ·çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ç±»ä¼¼çš„çˆ¬è™«æŠ€æœ¯ï¼Œå¯¹éƒ‘å•†æ‰€è¿›è¡Œç½‘ç»œçˆ¬è™«ã€‚ è¯¡å¼‚çš„éƒ‘å•†æ‰€ä¸è¿‡ä¸ä¸­é‡‘æ‰€ç½‘ç»œçˆ¬è™«ä¸ä¸€æ ·çš„ä¸€ç‚¹æ˜¯ï¼Œä¸­é‡‘æ‰€æœ¬èº«æä¾›äº†æ•°æ®æ–‡ä»¶çš„é™æ€é“¾æ¥åœ°å€ï¼Œæˆ‘ä»¬åªéœ€è¦è§£æåˆ°ä¸åŒäº¤æ˜“æ—¥æœŸæ‰€å¯¹åº”çš„é“¾æ¥ï¼Œå°±èƒ½å¤ŸæŠŠæ•°æ®ä¸‹è½½åˆ°æœ¬åœ°ã€‚è€Œéƒ‘å•†æ‰€è™½ç„¶ä¹ŸåŒæ ·æä¾›äº†æ–‡ä»¶çš„é™æ€é“¾æ¥ï¼Œä½†æ˜¯ï¼Œæˆ‘åœ¨çˆ¬è™«çš„è¿‡ç¨‹ä¸­å‘ç°äº†ä¸€ä¸ªå°å°çš„é—®é¢˜ï¼šæœ‰éƒ¨åˆ†çš„äº¤æ˜“æ•°æ®ï¼Œéƒ‘å•†æ‰€ä¸çŸ¥é“å‡ºäºä½•ç§åŸå› ï¼ˆæœ‰å¯èƒ½æ˜¯åŸå§‹çš„æ•°æ®æ–‡ä»¶ä¸¢å¤±ï¼Œæˆ–è€…è·¯å¾„å­˜å‚¨é”™è¯¯ï¼‰ï¼Œç«Ÿç„¶æ‰¾ä¸åˆ°å½“æ—¥å¯¹åº”çš„æ•°æ®æ–‡ä»¶é“¾æ¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºè¿™äº›äº¤æ˜“æ—¥ï¼Œæˆ‘ä»¬æ˜¯æ— æ³•ç›´æ¥ä¸‹è½½æ–‡ä»¶çš„ã€‚å› æ­¤ï¼Œå¯¹äºè¿™äº›æ²¡æœ‰æä¾›é“¾æ¥çš„æ•°æ®ï¼Œæˆ‘ä»¬åªèƒ½é‡‡ç”¨é¡µé¢çˆ¬è™«çš„æŠ€æœ¯ï¼Œé€šè¿‡è¯»å–ç½‘é¡µçš„æ•°æ®ï¼Œç»è¿‡æ•°æ®æ¸…ç†ã€è§„æ•´ç­‰æ­¥éª¤ï¼Œå†ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶ã€‚ é’ˆå¯¹ç½‘ç«™é¡µé¢çš„æ•°æ®è¿›è¡Œçˆ¬è™«ï¼Œä¼šæ¶‰åŠåˆ° DOM æ„é€ ã€HTML å…ƒç´ è§£æã€æ–‡æœ¬è¯†åˆ«ã€æ­£åˆ™è¡¨è¾¾ç­‰è¯¸å¤šæ–¹é¢çš„æŠ€æœ¯ã€‚åœ¨æ¥ä¸‹æ¥çš„å†…å®¹é‡Œï¼Œæˆ‘ä¼šé‡ç‚¹ä»‹ç»å¦‚ä½•åœ¨ç½‘é¡µä¸­æ‰¾åˆ°æˆ‘ä»¬éœ€è¦çš„æ•°æ®ã€‚ éƒ‘å•†æ‰€ç½‘ç«™æä¾›æœŸè´§ä¸æœŸæƒç›¸å…³çš„æ•°æ® å·¥å…·ç®±å¯¹äºç½‘é¡µå†…å®¹è¿›è¡Œçˆ¬è™«ã€è¯†åˆ«ç½‘é¡µå†…å®¹ã€è·å–ç›®æ ‡æ•°æ®æˆ–æ–‡æœ¬ç­‰ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ° HTML ç›¸å…³çš„æŠ€æœ¯æ‰‹æ®µã€‚æœ€åŸå§‹çš„ä¸€ç§åŠæ³•æ˜¯é€šè¿‡ wget æŠŠæ•´ä¸ªç½‘é¡µä¸‹è½½åˆ°æœ¬åœ°ï¼Œç„¶åå†è¿›è¡Œå†…å®¹è§£æï¼›æˆ–è€…ä½¿ç”¨ libcur æ¥è¯»å–è¿œç¨‹çš„å†…å®¹å¹¶ä¼ é€’åˆ°ç³»ç»Ÿçš„å†…å­˜ã€‚è¿™äº›æŠ€æœ¯éš¾åº¦è¾ƒå¤§ï¼Œè€Œä¸”å¾—åˆ°çš„æ•°æ®å¹¶ä¸æ˜¯ç»“æ„æ€§çš„ï¼Œä½¿ç”¨æ­£åˆ™è·å–ç›®æ ‡æ•°æ®æ¯”è¾ƒåå·ã€‚ä¸‡å¹¸çš„æ˜¯ï¼Œå·²ç»æœ‰äººé€šè¿‡è½¯ä»¶åŒ…çš„å½¢å¼ï¼Œä¸ºæˆ‘ä»¬æŠŠè¿™äº›åŸºç¡€çš„å·¥ä½œéƒ½å¤„ç†å®Œæˆäº†ï¼Œæˆ‘ä»¬åªéœ€è¦è°ƒç”¨ç›¸å…³çš„å‡½æ•°ï¼Œå³å¯å®ç°ç®€å•çš„ç½‘é¡µçˆ¬è™«ã€‚ ä»¥ä¸‹ä¸¤ä¸ª R çš„æ‰©å±•åŒ…å°±æ˜¯é’ˆå¯¹ç½‘ç»œçˆ¬è™«è€Œå¼€å‘çš„ã€‚ ","date":"2017-10-28","objectID":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/:0:0","tags":["Futures","æœŸè´§","æ•°æ®","R"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹éƒ‘å•†æ‰€","uri":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/"},{"categories":["Data"],"content":" RSeleniumSelenium æ˜¯ä¸€æ¬¾ç½‘ç»œé©±åŠ¨ï¼Œä½œä¸ºæ— å¤´æµè§ˆå™¨(headless webdriver)é©±åŠ¨ï¼Œæä¾›äº†é«˜æ€§èƒ½çš„ç½‘ç»œæµ‹è¯•ã€é¡µé¢åŠ è½½ã€ç½‘ç»œè§£æç­‰åŠŸèƒ½ã€‚åŸºäºè¿™é¡¹æŠ€æœ¯æ‰€æä¾›çš„ API è°ƒç”¨ç«¯å£ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€æ¥è°ƒç”¨æµè§ˆå™¨åŠŸèƒ½ï¼Œä»è€Œå®ç°äº†å¼€å‘-æµ‹è¯•çš„æ— ç¼è¿æ¥ã€‚ RSelenium å°±æ˜¯ Selenium åœ¨ R è¯­è¨€ä¸‹çš„æ‰©å±•åŒ…ï¼Œé›†æˆäº†å¤§é‡å¯ä¾›è°ƒç”¨çš„å‡½æ•°ï¼Œä½¿å¾—æˆ‘ä»¬åªéœ€è¦åœ¨ R ä¸­è°ƒç”¨å‡½æ•°å¹¶ä¼ å…¥å‚æ•°ï¼Œå³å¯å¯¹ç½‘é¡µè¿›è¡Œè§£æã€‚ ","date":"2017-10-28","objectID":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/:1:0","tags":["Futures","æœŸè´§","æ•°æ®","R"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹éƒ‘å•†æ‰€","uri":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/"},{"categories":["Data"],"content":" rvestè¿™ä¸ªæ˜¯å¤§ç¥ Wickham Hadley ç¼–å†™çš„ä¸€ä¸ªé’ˆå¯¹ç½‘é¡µçˆ¬è™«çš„æ‰©å±•åŒ…ï¼Œå°è£…äº† Linux ä¸‹çš„ libcur åº“ï¼Œå› æ­¤èƒ½å¤Ÿæä¾›å¯¹ç½‘é¡µé¡µé¢çš„ DOM è§£æã€‚è¿™ä¸ªåŒ…è¿”å›ä¸€ä¸ªç»“æ„åŒ–çš„å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡ R çš„å‡½æ•°å¯¹å…¶è¿›è¡Œæ•°æ®æ¸…ç†ï¼›åŒæ—¶å®ƒè¿˜é’ˆå¯¹ä¸åŒçš„ç¼–ç è¿›è¡Œè‡ªåŠ¨åŒ–çš„è¯†åˆ«ï¼Œè¿™ç‚¹å¯¹äºä¸­æ–‡ç½‘ç«™å°¤å…¶é‡è¦ï¼Œå¦åˆ™ï¼Œç¼–ç é”™è¯¯ä¼šå¯¼è‡´æˆ‘ä»¬çˆ¬è™«çš„æ•°æ®å‡ºç°ä¹±ç çš„æ‚²å‰§ã€‚ æ—¥è¡Œæƒ…æ•°æ®","date":"2017-10-28","objectID":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/:2:0","tags":["Futures","æœŸè´§","æ•°æ®","R"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹éƒ‘å•†æ‰€","uri":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/"},{"categories":["Data"],"content":" é™æ€é“¾æ¥æˆ‘ä»¬åœ¨å¯¹ä¸­é‡‘æ‰€è¿›è¡Œçˆ¬è™«çš„é‚£ç¯‡åšå®¢é‡Œé¢ï¼Œå·²ç»è®²åˆ°å¦‚ä½•é€šè¿‡ Chrome çš„ Inspect åŠŸèƒ½æ¥è·å–ç½‘é¡µçš„å…ƒç´ ã€‚é€šè¿‡æŸ¥æ‰¾ç‰¹å®šä½ç½®çš„ HTML æ ‡ç­¾ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°è¯¥ä½ç½®æ‰€å¯¹åº”çš„å…·ä½“ä¿¡æ¯ã€‚ ","date":"2017-10-28","objectID":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/:3:0","tags":["Futures","æœŸè´§","æ•°æ®","R"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹éƒ‘å•†æ‰€","uri":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/"},{"categories":["Data"],"content":" å®šä½ç½‘é¡µé¦–å…ˆæˆ‘ä»¬éœ€è¦åšçš„æ˜¯å…ˆå°è¯•å®šä½æŸä¸ªäº¤æ˜“æ—¥çš„æ—¥è¡Œæƒ…æ•°æ®å­˜æ”¾ç½‘é¡µï¼Œé€šè¿‡è¾“å…¥äº¤æ˜“æ—¥ï¼Œç„¶åç‚¹å‡»æŸ¥è¯¢ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥çœ‹åˆ°éœ€è¦æŸ¥æ‰¾çš„äº¤æ˜“æ•°æ®ã€‚ é€šè¿‡äº¤æ˜“æ—¥æœŸæŸ¥æ‰¾æ—¥è¡Œæƒ…æ•°æ® è¿™ä¸ªä¾¿æ˜¯æˆ‘ä»¬éœ€è¦è¿›è¡Œçˆ¬è™«çš„å•ç‹¬ç½‘é¡µã€‚ æ‰¿è½½æ•°æ®çš„å…·ä½“ç½‘é¡µ æˆ‘ä»¬æ¥çœ‹çœ‹å½“å¤©çš„ç½‘é¡µåœ°å€ï¼Œæ¯”å¦‚ï¼šhttp://www.czce.com.cn/portal/DFSStaticFiles/Future/2017/20171026/FutureDataDaily.htmã€‚ä¸»è¦æ˜¯ç”±ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ç»„æˆçš„ï¼š http://www.czce.com.cn/portal/DFSStaticFiles/Future/ï¼šè¿™ä¸ªå¯ä»¥å½“æˆæ˜¯æ—¥è¡Œæƒ…çš„æ ¹ç›®å½•ã€‚ 2017/20171026/FutureDataDaily.htmï¼šè¿™ä¸ªå‘½åè§„åˆ™å¾ˆæ˜æ˜¾ï¼Œç”± YYYY/YYYYmm/FutureDataDaily.htm æ„æˆã€‚æˆ‘ä»¬å¯ä»¥æ ¹æ®äº¤æ˜“æ—¥æ¥æå–æ—¥æœŸç»„æˆã€‚ ","date":"2017-10-28","objectID":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/:3:1","tags":["Futures","æœŸè´§","æ•°æ®","R"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹éƒ‘å•†æ‰€","uri":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/"},{"categories":["Data"],"content":" ä¸‹è½½æ•°æ®æ–‡ä»¶åœ¨æ•°æ®æ–‡ä»¶å¯¹åº”çš„ excel / txt ç‚¹å‡»å³é”®ï¼Œç„¶åä½¿ç”¨ Ctrl + F æŸ¥æ‰¾ excelï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥å®šä½åˆ°æ•°æ®æ–‡ä»¶äº†ã€‚ é€šè¿‡å…ƒç´ å®¡æŸ¥è·å–æ ‡ç­¾çš„å…·ä½“ä¿¡æ¯ ä¸€çœ‹å“ä¸€è·³ï¼Œä¼¼ä¹è¿™ä¸ªæ•°æ®æ–‡ä»¶æ˜¯ä¸€ä¸ªåŠ¨æ€çš„è„šæœ¬ï¼Œå¥½åƒå¾ˆéš¾è¯†åˆ«çš„æ ·å­ã€‚ä¸è¿‡ï¼Œå„ä½ä¸è¦è¢«è¿™ä¸ªã€Œçº¸è€è™ã€å“åˆ°äº†ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æ‰“å¼€ä¸€ä¸ªç½‘é¡µè¯•è¯•çœ‹ï¼Œæœ‰æœ¨æœ‰æƒŠå–œå‘¢ã€‚ åŸæ¥ä¹Ÿæ˜¯ä¸€ä¸ªé™æ€æ–‡ä»¶åœ°å€ å…·ä½“åœ°ï¼Œæˆ‘ä»¬çœ‹åˆ°è¿™ä¸ªæ•°æ®æ–‡ä»¶å¯¹åº”çš„é“¾æ¥åœ°å€æ˜¯ï¼šhttp://www.czce.com.cn/portal/DFSStaticFiles/Future/2017/20171026/FutureDataDaily.xlsï¼Œå¯¹å…¶è¿›è¡Œæ‹†è§£çœ‹ï¼š http://www.czce.com.cn/portal/DFSStaticFiles/Future/ï¼šæ•°æ®æ–‡ä»¶æ‰€åœ¨çš„æ ¹ç›®å½• 2017/20171026/FutureDataDaily.xlsï¼šå…·ä½“çš„æ–‡ä»¶åœ°å€ï¼Œé€šç”¨æ ¼å¼ä¸º YYYY/YYYYmmdd/FutureDataDaily.xlsï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å†å²çš„äº¤æ˜“æ—¥æœŸæ¥ç”Ÿæˆæ‰€ä»¥äº¤æ˜“æ—¥çš„æ–‡ä»¶é“¾æ¥ï¼Œç„¶åå‘¢ï¼Œé€šè¿‡éç¤¼ä¸‹è½½å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•°æ®å³å¯ã€‚ ä¸è¿‡ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå°å°çš„å‘ï¼Œå°±æ˜¯éƒ‘å•†æ‰€åœ¨ 2015-10-01 å‰åæœ‰å˜åŠ¨è¿‡ç›¸å¯¹è·¯å¾„çš„æ ¹ç›®å½•çš„åç§°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªåœ°æ–¹éœ€è¦æˆ‘ä»¬ç”¨äº¤æ˜“æ—¥æœŸæ¥åˆ¤æ–­ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹è¿™æ®µä»£ç æ˜¯è¿™æ ·å†™çš„ï¼š ## åœ¨ 2015-10-01 ä¹‹å‰ exchURL1 \u003c- \"http://www.czce.com.cn/portal/exchange/\" ## åœ¨ 2015-10-01 ä¹‹å exchURL2 \u003c- \"http://www.czce.com.cn/portal/DFSStaticFiles/Future/\" tempDir \u003c- paste0(dataPath,exchCalendar[i,calendarYear]) if (!dir.exists(tempDir)) dir.create(tempDir) tempYear \u003c- exchCalendar[i,calendarYear] tempTradingDay \u003c- exchCalendar[i,days] ## éœ€è¦æ”¹å˜æ ¹ç›®å½•åœ°å€ tempURL \u003c- ifelse(tempTradingDay \u003c '20151001', paste0(exchURL1, tempYear, '/datadaily/', tempTradingDay, '.txt'), paste0(exchURL2, tempYear, '/', tempTradingDay, '/FutureDataDaily.xls')) destFile \u003c- paste0(dataPath, '/', exchCalendar[i,calendarYear], \"/\", tempTradingDay, ifelse(tempTradingDay \u003c '20151001','.txt','.xls')) ç„¶åä¾¿å¯ä»¥å¼€å¯å¹¶è¡Œæ¨¡å¼ä¸‹è½½æ•°æ®äº†ï¼š try(download.file(tempURL, destFile, mode = 'wb')) ","date":"2017-10-28","objectID":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/:3:2","tags":["Futures","æœŸè´§","æ•°æ®","R"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹éƒ‘å•†æ‰€","uri":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/"},{"categories":["Data"],"content":" ç½‘é¡µå†…å®¹çˆ¬è™«å¦‚æœäº‹æƒ…éƒ½æ˜¯æŒ‰ç…§æˆ‘ä»¬é¢„æœŸï¼Œä½œä¸ºå¼ºè¿«ç—‡çš„æˆ‘ï¼Œå¿…ç„¶è¦æ±‚è¿™ä¸ªä¸–ç•Œèƒ½å¤ŸæŒ‰ç…§è‡ªç„¶ç•Œæœ€ä¼˜é›…çš„æ–¹å¼æ¥è¿è¡Œã€‚å¯ä»¥ï¼Œä¸–ç•Œå¤ªå¤§ï¼Œåäººå¤ªå¤šï¼Œç»“å±€å¾ˆä¸å¥½ã€‚ ä»¥ä¸Šä»‹ç»äº†ä½¿ç”¨é™æ€ç½‘é¡µé“¾æ¥åœ°å€æ¥ä¸‹è½½æ–‡ä»¶ï¼Œå¯æƒœå¯¹äºéƒ¨åˆ†çš„äº¤æ˜“æ—¥æœŸï¼Œéƒ‘å•†æ‰€ä¼¼ä¹æŠŠåŸå§‹çš„æ•°æ®æ–‡ä»¶å¼„ä¸¢äº†ã€‚è¿™ä¸ªä¸å¾—äº†ï¼Œæˆ‘ä»¬å¾—ç¨‹åºç°åœ¨ç½¢å·¥äº†ï¼Œæ— æ³•å†ç»§ç»­ä¸‹è½½æ•°æ®äº†ã€‚ ä¸è¿‡æ‰€å¹¸çš„æ˜¯ï¼Œæˆ‘ä»¬è¿˜æœ‰å¦å¤–ä¸€å¥—ç½‘é¡µçˆ¬è™«çš„æŠ€æœ¯ã€‚ ","date":"2017-10-28","objectID":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/:4:0","tags":["Futures","æœŸè´§","æ•°æ®","R"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹éƒ‘å•†æ‰€","uri":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/"},{"categories":["Data"],"content":" è¯†åˆ«ç½‘é¡µå†…å®¹æˆ‘ä»¬çŸ¥é“ï¼Œä»»ä½•çš„ç½‘é¡µï¼Œåé¢å…¶å®éƒ½æ˜¯ä¸€å †çš„ HTML ä»£ç è€Œå·²ï¼Œæ— ä»–ã€‚æ‰€ä»¥ï¼Œå³ä½¿æˆ‘ä»¬æ— æ³•æ‰¾åˆ°ï¼ˆéƒ‘å•†æ‰€æ²¡æœ‰æä¾›ï¼‰æ•°æ®æ–‡ä»¶çš„é“¾æ¥åœ°å€ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¯ä»¥é€šè¿‡çˆ¬è™«æŠ“å–ç½‘é¡µçš„æ•°æ®ã€‚è¿™ä¸ªå°±éœ€è¦ç”¨åˆ° Seleniumã€‚ é¦–å…ˆéœ€è¦åšçš„æ˜¯ï¼Œå¼€å¯ selenium é©±åŠ¨ï¼Œé€šè¿‡å‘½ä»¤è¡Œæ¥æ¨¡æ‹Ÿç½‘é¡µè®¿é—®ï¼Œè¯»å–ç½‘é¡µå†…å®¹ã€‚ java -jar selenium-server-standalone-3.5.1.jar æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ RSelenium æä¾›çš„ç«¯å£ï¼ŒæŠŠæ•°æ®è½½å…¥å†…å®¹ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬é€šè¿‡ä½¿ç”¨ Firefox æ¥æ¨¡æ‹Ÿç™»é™†ç½‘é¡µï¼Œç„¶åè¯»å–å…·ä½“çš„ä¿¡æ¯ï¼Œæ‰¾åˆ°ç›¸åº”çš„æ•°æ®èŠ‚ç‚¹ï¼Œå¹¶æ­£ç¡®çš„è¯†åˆ«èŠ‚ç‚¹å†…å®¹ã€‚ tempPage \u003c- paste0('http://www.czce.com.cn/portal/exchange/jyxx/hq/hq', tempTradingDay, '.html') remDr \u003c- remoteDriver(remoteServerAddr ='localhost' ,port = 4444 ,browserName = 'firefox') remDr$getStatus() remDr$open(silent = TRUE) remDr$navigate(tempPage) tempTable \u003c- remDr$findElements(using = 'tag', value = 'table')[[3]] tempHTML \u003c- tempTable$getElementAttribute('outerHTML')[[1]] ç°åœ¨ï¼Œæˆ‘ä»¬æŠŠæ•´ä¸ªç½‘é¡µçš„å†…å®¹åŠ è½½åˆ° R çš„å·¥ä½œç©ºé—´ï¼Œæ¥ä¸‹æ¥ä¾¿å¯ä»¥ä½¿ç”¨ rvest æ¥è§£æç½‘é¡µå†…å®¹äº†ï¼š webData \u003c- tempHTML %\u003e% read_html(encoding='GB18030') %\u003e% html_node('table') %\u003e% html_table(fill = TRUE, header=FALSE) %\u003e% as.data.table() %\u003e% .[-1] %\u003e% rbind(data.table(X1 = c('')), ., fill = TRUE) webData[1, X1 := paste0('éƒ‘å·å•†å“äº¤æ˜“æ‰€æ¯æ—¥è¡Œæƒ…è¡¨(', as.Date(as.character(tempTradingDay), format = '%Y%m%d'), ')')] æ•´ç†æ•°æ®ï¼Œå¹¶å†™å…¥æ–‡ä»¶ cols \u003c- colnames(webData)[2:ncol(webData)] webData[, (cols) := lapply(.SD, function(x){ gsub(',','',x) }), .SDcols = cols] print(webData) fwrite(webData, destFile, col.names = FALSE) æœ€åæ˜¯æ‰«å°¾å·¥ä½œï¼Œè®°å¾—æŠŠä¸ç”¨çš„å†…å­˜ç©ºé—´é‡Šæ”¾å‡ºæ¥ï¼Œä¸‹é¢æ˜¯åœ¨ Linux æ“ä½œç³»ç»Ÿçš„å‘½ä»¤ï¼ŒWindows çš„å„ä½å¯ä»¥è‡ªè¡Œ Google æœç´¢ï¼ˆä¸è¦ç”¨ç™¾åº¦ï¼ä¸è¦ç”¨ç™¾åº¦ï¼ä¸è¦ç”¨ç™¾åº¦ï¼ï¼‰ # remDr$quit() try({ system('pkill -f firefox') system('pkill -f geckodriver') system('rm -rf /tmp/rust_mozprofile*') }) ","date":"2017-10-28","objectID":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/:4:1","tags":["Futures","æœŸè´§","æ•°æ®","R"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹éƒ‘å•†æ‰€","uri":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/"},{"categories":["Data"],"content":" Demo ################################################################################ ##! czce.R ## è¿™æ˜¯ä¸»å‡½æ•°: ## ç”¨äºä» éƒ‘å•†æ‰€ ç½‘ç«™çˆ¬è™«æœŸè´§äº¤æ˜“çš„æ—¥è¡Œæƒ…æ•°æ® ## daily ## ## ## æ³¨æ„: ## ## Author: fl@hicloud-investment.com ## CreateDate: 2017-10-16 ################################################################################ ################################################################################ ## STEP 0: åˆå§‹åŒ–ï¼Œè½½å…¥åŒ…ï¼Œè®¾å®šåˆå§‹æ¡ä»¶ ################################################################################ rm(list = ls()) logMainScript \u003c- c(\"czce.R\") if (class(try(setwd('/home/fl/myData/'))) == 'try-error') { setwd('/run/user/1000/gvfs/sftp:host=192.168.1.166,user=fl/home/fl/myData') } suppressMessages({ source('./R/Rconfig/myInit.R') }) library(RSelenium) ################################################################################ ## STEP 1: è·å–å¯¹åº”çš„äº¤æ˜“æ—¥æœŸ ################################################################################ ChinaFuturesCalendar \u003c- fread(\"./data/ChinaFuturesCalendar/ChinaFuturesCalendar.csv\", colClasses = list(character = c(\"nights\",\"days\"))) %\u003e% .[days \u003c format(Sys.Date(),'%Y%m%d')] exchCalendar \u003c- ChinaFuturesCalendar[,\":=\"(calendarYear = substr(days,1,4), calendarYearMonth = substr(days,1,6), calendarMonth = substr(days,5,6), calendarDay = substr(days,7,8))] dataPath \u003c- '/home/william/Documents/Exchange/CZCE/' # dataPath \u003c- \"./data/Bar/Exchange/CZCE/\" ##------------------------------------------------------------------------------ if(Sys.info()['sysname'] == 'Windows'){ Sys.setenv(\"R_ZIPCMD\" = \"D:/Program Files/Rtools/bin/zip.exe\") ## path to zip.exe } ##------------------------------------------------------------------------------ ################################################################################ ## CZCE: éƒ‘å•†æ‰€ ## 1.æŒä»“æ’å ## 2.ä»“å•æ—¥æŠ¥ ################################################################################ ## åœ¨ 2015-10-01 ä¹‹å‰ exchURL1 \u003c- \"http://www.czce.com.cn/portal/exchange/\" ## åœ¨ 2015-10-01 ä¹‹å exchURL2 \u003c- \"http://www.czce.com.cn/portal/DFSStaticFiles/Future/\" ## ============================================================================= czceData \u003c- function(i) { tempDir \u003c- paste0(dataPath,exchCalendar[i,calendarYear]) if (!dir.exists(tempDir)) dir.create(tempDir) tempYear \u003c- exchCalendar[i,calendarYear] tempTradingDay \u003c- exchCalendar[i,days] tempURL \u003c- ifelse(tempTradingDay \u003c '20151001', paste0(exchURL1, tempYear, '/datadaily/', tempTradingDay, '.txt'), paste0(exchURL2, tempYear, '/', tempTradingDay, '/FutureDataDaily.xls')) destFile \u003c- paste0(dataPath, '/', exchCalendar[i,calendarYear], \"/\", tempTradingDay, ifelse(tempTradingDay \u003c '20151001','.txt','.xls')) tryNo \u003c- 0 ## --------------------------------------------------------------------------- while( (!file.exists(destFile) | file.size(destFile) \u003c 1000) \u0026 (tryNo \u003c 20)){ if (class(try(download.file(tempURL, destFile, mode = 'wb'))) == 'try-error') { tempPage \u003c- paste0('http://www.czce.com.cn/portal/exchange/jyxx/hq/hq', tempTradingDay, '.html') remDr \u003c- remoteDriver(remoteServerAddr ='localhost' ,port = 4444 ,browserName = 'firefox') remDr$getStatus() remDr$open(silent = TRUE) remDr$navigate(tempPage) tempTable \u003c- remDr$findElements(using = 'tag', value = 'table')[[3]] tempHTML \u003c- tempTable$getElementAttribute('outerHTML')[[1]] webData \u003c- tempHTML %\u003e% read_html(encoding='GB18030') %\u003e% html_node('table') %\u003e% html_table(fill = TRUE, header=FALSE) %\u003e% as.data.table() %\u003e% .[-1] %\u003e% rbind(data.table(X1 = c('')), ., fill = TRUE) webData[1, X1 := paste0('éƒ‘å·å•†å“äº¤æ˜“æ‰€æ¯æ—¥è¡Œæƒ…è¡¨(', as.Date(as.character(tempTradingDay), format = '%Y%m%d'), ')')] cols \u003c- colnames(webData)[2:ncol(webData)] webData[, (cols) := lapply(.SD, function(x){ gsub(',','',x) }), .SDcols = cols] print(webData) fwrite(webData, destFile, col.names = FALSE) # remDr$quit() try({ system('pkill -f firefox') system('pkill -f geckodriver') system('rm -rf /tmp/rust_mozprofile*') }) } tryNo \u003c- tryNo + 1 } ## --------------------------------------------------------------------------- } #################","date":"2017-10-28","objectID":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/:5:0","tags":["Futures","æœŸè´§","æ•°æ®","R"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹éƒ‘å•†æ‰€","uri":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/"},{"categories":["Data"],"content":" æŒä»“æ’ååœ°å€ä¸æ—¥è¡Œæƒ…æ•°æ®çˆ¬è™«ç›¸ç±»ä¼¼ï¼Œæˆ‘ä»¬ä¹Ÿä¸€æ ·å¯ä»¥å¯¹æœŸè´§å…¬å¸å±‚é¢çš„æˆäº¤æŒä»“æ’åæ•°æ®è¿›è¡Œç½‘ç»œçˆ¬è™«ã€‚è¿™é‡Œéœ€è¦åšçš„ï¼Œå…¶å®å°±æ˜¯æŠŠæ—¥è¡Œæƒ…æ•°æ®çš„ç½‘é¡µåœ°å€æ¢æˆæŒä»“æ’åçš„ç½‘é¡µåœ°å€ï¼Œå³ ## ç›´æ¥ä¸‹è½½æ–‡ä»¶çš„é“¾æ¥ tempURL \u003c- ifelse(tempTradingDay \u003c '20151001', paste0(exchURL1, tempYear, '/datatradeholding/', tempTradingDay, '.txt'), paste0(exchURL2, tempYear, '/', tempTradingDay, '/FutureDataHolding.xls')) ## æ•°æ®çˆ¬è™«çš„ç½‘é¡µåœ°å€ tempPage \u003c- paste0('http://www.czce.com.cn/portal/exchange/jyxx/pm/pm', tempTradingDay, '.html') ","date":"2017-10-28","objectID":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/:6:0","tags":["Futures","æœŸè´§","æ•°æ®","R"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹éƒ‘å•†æ‰€","uri":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/"},{"categories":["Data"],"content":" Demoå¥½å§ï¼Œå‰©ä¸‹å°±å°±ç›´æ¥ä¸Šå¹²è´§å–½ã€‚ ################################################################################ ## czce.R ## ç”¨äºä¸‹è½½éƒ‘å•†æ‰€æœŸè´§å…¬å¸æŒä»“æ’åæ•°æ® ## ## Author: William Fang ## Date : 2017-08-21 ################################################################################ ################################################################################ ## STEP 0: åˆå§‹åŒ–ï¼Œè½½å…¥åŒ…ï¼Œè®¾å®šåˆå§‹æ¡ä»¶ ################################################################################ rm(list = ls()) logMainScript \u003c- c(\"czce.R\") # setwd('/home/fl/myData/') if (class(try(setwd('/home/fl/myData/'))) == 'try-error') { setwd('/run/user/1000/gvfs/sftp:host=192.168.1.166,user=fl/home/fl/myData') } suppressMessages({ source('./R/Rconfig/myInit.R') }) library(RSelenium) Sys.setlocale(\"LC_ALL\", 'en_US.UTF-8') ChinaFuturesCalendar \u003c- fread(\"./data/ChinaFuturesCalendar/ChinaFuturesCalendar.csv\", colClasses = list(character = c(\"nights\",\"days\"))) %\u003e% .[days \u003c format(Sys.Date(),'%Y%m%d')] exchCalendar \u003c- ChinaFuturesCalendar[,\":=\"(calendarYear = substr(days,1,4), calendarYearMonth = substr(days,1,6), calendarMonth = substr(days,5,6), calendarDay = substr(days,7,8))] dataPath \u003c- '/home/william/Documents/oiRank/CZCE/' # dataPath \u003c- \"./data/Bar/Exchange/CZCE/\" ##------------------------------------------------------------------------------ if(Sys.info()['sysname'] == 'Windows'){ Sys.setenv(\"R_ZIPCMD\" = \"D:/Program Files/Rtools/bin/zip.exe\") ## path to zip.exe } ##------------------------------------------------------------------------------ ################################################################################ ## CZCE: éƒ‘å•†æ‰€ ## 1.æŒä»“æ’å ## 2.ä»“å•æ—¥æŠ¥ ################################################################################ ## åœ¨ 2015-10-01 ä¹‹å‰ exchURL1 \u003c- \"http://www.czce.com.cn/portal/exchange/\" ## åœ¨ 2015-10-01 ä¹‹å exchURL2 \u003c- \"http://www.czce.com.cn/portal/DFSStaticFiles/Future/\" ## ============================================================================= czceData \u003c- function(i) { tempDir \u003c- paste0(dataPath,exchCalendar[i,calendarYear]) if (!dir.exists(tempDir)) dir.create(tempDir, recursive = TRUE) tempYear \u003c- exchCalendar[i,calendarYear] tempTradingDay \u003c- exchCalendar[i,days] tempURL \u003c- ifelse(tempTradingDay \u003c '20151001', paste0(exchURL1, tempYear, '/datatradeholding/', tempTradingDay, '.txt'), paste0(exchURL2, tempYear, '/', tempTradingDay, '/FutureDataHolding.xls')) destFile \u003c- paste0(dataPath, '/', exchCalendar[i,calendarYear], \"/\", tempTradingDay, ifelse(tempTradingDay \u003c '20151001','.txt','.xls')) tryNo \u003c- 0 ## --------------------------------------------------------------------------- while( (!file.exists(destFile) | file.size(destFile) \u003c 1000) \u0026 (tryNo \u003c 20)){ if (class(try(download.file(tempURL, destFile, mode = 'wb'))) == 'try-error') { tempPage \u003c- paste0('http://www.czce.com.cn/portal/exchange/jyxx/pm/pm', tempTradingDay, '.html') webData \u003c- tempPage %\u003e% read_html(encoding = 'GB18030') %\u003e% html_nodes('table') %\u003e% html_table(fill=TRUE, header=FALSE) %\u003e% .[-1] %\u003e% .[[1]] %\u003e% as.data.table() %\u003e% rbind(data.table(X1 = c('','')), ., fill = TRUE) webData[1, X1 := paste0('éƒ‘å·å•†å“äº¤æ˜“æ‰€æŒä»“æ’è¡Œè¡¨(', as.Date(as.character(tempTradingDay), format = '%Y%m%d'), ')')] cols \u003c- colnames(webData)[2:ncol(webData)] webData[, (cols) := lapply(.SD, function(x){ gsub(',','',x) }), .SDcols = cols] # grep(\"åæ¬¡\", tempData$X1) %\u003e% length() webTitle \u003c- tempPage %\u003e% read_html(encoding = 'GB18030') %\u003e% html_nodes('font') %\u003e% html_text() %\u003e% .[grep('å“ç§|åˆçº¦ä»£ç ',.)] for (j in 1:length(webTitle)) { tempRow \u003c- grep(\"åæ¬¡\", webData$X1)[j] - 1 webData[tempRow, X1 := webTitle[j]] } print(webData) fwrite(webData, destFile, col.names = FALSE) } tryNo \u003c- tryNo + 1 } ## --------------------------------------------------------------------------- } ################################################################################ ## STEP 2: å¼€å¯å¹¶è¡Œè®¡ç®—æ¨¡å¼ï¼Œä¸‹è½½æ•°æ® ################################################################################ cl \u003c- makeCluster(max(round(detectCores()*3/4),4), type='FORK') parSapply(cl, 1:nrow(Ch","date":"2017-10-28","objectID":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/:7:0","tags":["Futures","æœŸè´§","æ•°æ®","R"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹éƒ‘å•†æ‰€","uri":"/archives/2017-10-28-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E9%83%91%E5%95%86%E6%89%80/"},{"categories":["Reading"],"content":"PKD æ˜¯ç¾å›½å½“ä»£æ¯”è¾ƒå¦ç±»çš„ä¸€ä½ç§‘å¹»ä½œå®¶ã€‚ä¸€æ–¹é¢ï¼Œä»–åŸºæœ¬ä¸Šåªå†™çŸ­å°è¯´ï¼Œæ•…äº‹æƒ…èŠ‚çŸ­å°ç²¾æ‚ï¼Œå¾€å¾€åªå™è¿°æŸä¸€ä¸ªå…³é”®çš„æƒ…èŠ‚ï¼Œå…¶ä»–çš„å…·ä½“ç»†èŠ‚éœ€è¦è¯»è€…è‡ªå·±è„‘è¡¥ï¼›å¦ä¸€æ–¹é¢ï¼Œä»–å¯¹æœªæ¥çš„ç°è±¡æ˜¯é˜´æš—ã€æ‚²è§‚çš„ï¼Œåœ¨æ‰€æœ‰çš„åœºæ™¯è®¾å®šä¸Šï¼Œå¤©ç©ºæ°¸è¿œæ˜¯å› ä¸ºæ ¸æˆ˜äº‰è€Œå˜å¾—ç°è’™è’™ï¼ŒåŸå¸‚è¡—é“æ˜¾å¾—ç ´æ—§æ‚ä¹±ï¼Œäººä»¬ç”Ÿæ´»åœ¨ç»æœ›ä¸æ— æœ›çš„åº•å±‚ã€‚ ç„¶è€Œï¼ŒPKD çš„å°è¯´å´æœ‰ä¸€ç§ç‹¬ç‰¹çš„é­…åŠ›ï¼šåœ¨ç‰¹å®šçš„æƒ…èŠ‚è®¾å®šä¸‹ï¼Œä»–åœ¨ç§‘å¹»å°è¯´çš„æ¡†æ¶ä¸‹å¢åŠ äº†å¯¹æŠ‰æ‹©ä¸¤éš¾ã€é“å¾·åˆ¤æ–­ã€äººæ€§è€ƒéªŒç­‰å“²å­¦å±‚é¢çš„è®¨è®ºã€‚ ã€ç¬¬äºŒä»£ã€ä¸€ç¯‡éå¸¸ç®€çŸ­çš„ç§‘å¹»å°è¯´ï¼Œè®²è¿°åœ¨æœªæ¥çš„æŸä¸€å¹´ï¼Œç¾è‹å¤§æˆ˜çˆ†å‘ï¼ŒåŒæ–¹å±•å¼€æ®Šæ­»ææ–—ã€‚å› ç¾å›½ä¸€æ–¹å¤„äºå¼±åŠ¿ï¼Œä¸å¾—ä¸é€€å±…æœˆçƒã€‚åŒæ—¶ï¼Œç¾å›½ä¸ºäº†éåˆ¶è‹è”çš„è¿›ä¸€æ­¥å†›äº‹è¡ŒåŠ¨ï¼Œå†³å®šç”Ÿäº§å¤§è§„æ¨¡çš„å†›äº‹æˆ˜æ–—æœºå™¨äººï¼ŒæŠ•å…¥åˆ°æˆ˜äº‰å½“ä¸­ã€‚è¿™äº›æœºå™¨äººå¯Œæœ‰ç»„ç»‡çºªå¾‹ï¼Œæ‰‹æ®µå‡¶æ®‹ï¼Œç›®æ ‡æ˜ç¡®ï¼Œå¹¶éšç€è‡ªæˆ‘è¿­ä»£ï¼Œå®ç°è‡ªæˆ‘æ„è¯†çš„æ§åˆ¶ï¼Œå·²ç»å®Œå…¨æ‘†è„±äººç±»çš„è®¾è®¡æ§åˆ¶ï¼Œå®ç°äº†è‡ªæˆ‘æ›´æ–°çš„å¼ºå¤§èƒ½åŠ›ï¼Œå‡¡æ˜¯é‡åˆ°äººç±»ï¼Œå°±ä»¥â€˜æ ¼æ€å‹¿è®ºâ€™çš„åŸåˆ™å®æ–½æš´åŠ›ã€‚ åœ¨è¿™ä¸€ç³»åˆ—çš„æœºå™¨äººå½“ä¸­ï¼Œç›®å‰å·²ç»çŸ¥é“äº†ç¬¬ä¸€ä»£ã€ç¬¬ä¸‰ä¸ªï¼Œå”¯ç‹¬ä¸­é—´æœ‰ä¸€ä¸ªç¬¬äºŒä»£æ²¡æœ‰è¢«è¯†åˆ«å‡ºæ¥ã€‚æ•…äº‹çš„ç²¾å½©ä¹‹å¤„æ­£æ˜¯ç”±æ­¤å±•å¼€ã€‚ ç¬¬äºŒä»£æœºå™¨äººå¯Œäºä¼ªè£…ï¼Œå¹¶ä¸”å…·æœ‰è‡ªæˆ‘å­˜åœ¨ä¸ç”Ÿå­˜ä¿æŠ¤çš„æ„æ€ï¼Œä»–ä»¬ä¸ä»…æ¬ºéª—äº†æ•…äº‹å½“ä¸­çš„ä¸»äººå…¬ï¼Œä¸€ä¸ªä½œæˆ˜ç»éªŒä¸°å¯Œçš„å†›äººï¼Œè€Œä¸”ä¸ºäº†è¾¾åˆ°ç›®çš„ï¼Œç”šè‡³å®è¡Œæœºå™¨äººä¹‹é—´çš„è‡ªç›¸æ®‹æ€ï¼Œä»¥ä¸€åˆ‡æ‰‹æ®µè¾¾æˆç›®çš„ï¼Œæœ€ç»ˆæˆåŠŸéª—å–äº†å†›å®˜çš„ä¿¡ä»»ï¼Œå¼€å¯èˆªå¤©é£èˆ¹å‰å¾€ç¾å›½æœ€åä¸€ä¸ªäººç±»å±…ä½åœ°â€”â€”æœˆçƒåŸºåœ°ã€‚ä»æ­¤â€¦â€¦ è¿™ä¸ªæ•…äº‹å…¶å®å¯¹ä¸ªäººçš„å¯å‘è¿˜æ˜¯è›®å¤šçš„ã€‚ å›¾çµæµ‹è¯•æœ‰å…³äººå·¥æ™ºèƒ½çš„æ£€æµ‹ã€‚å…¶å®å°±æ˜¯è¿™ä¸ªæ•…äº‹é‡Œé¢è®²è¿°çš„ï¼Œç¬¬äºŒä»£æœºå™¨äººå®Œå…¨éª—å–äº†å†›å®˜çš„ä¿¡ä»»ï¼Œå¹¶ä¸”è®©ä»–æ¯«æ— æˆ’å¤‡çš„å°†å…¶å½“åšæœºå™¨äººï¼Œè¿™å·²ç»é¡ºåˆ©å®Œæˆäº†å›¾çµæµ‹è¯•ã€‚ æˆ‘ä»¬å¼€å‘æœºå™¨äººï¼ˆäººå·¥æ™ºèƒ½ï¼‰çš„ç›®çš„åœ¨äºæ›´å¥½åœ°ä¸ºæˆ‘ä»¬å¤„ç†äº‹åŠ¡ï¼Œä½†æ˜¯è¿™ä¸ªå‰ææ˜¯ï¼Œæœºå™¨äººå¿…é¡»éå¸¸æ˜ç¡®çš„çŸ¥é“è¿™ä¸ªä»»åŠ¡çš„ç›®çš„ä½•åœ¨ã€‚ä¸€æ—¦ç¡®å®šäº†ç›®æ ‡ï¼Œæœºå™¨äººä¼šéå¸¸ä¸¥æ ¼è€Œç²¾ç¡®çš„å®Œæˆä»»åŠ¡ï¼Œç”šè‡³æ˜¯ä¸ºäº†å®Œæˆæœºå™¨äººä¹‹æ‰€ä»¥è€Œå­˜åœ¨çš„ä»»åŠ¡ï¼Œå®ƒä»¬èƒ½å¤Ÿä¸æ‹©æ‰‹æ®µã€‚è¿™ä¸ªçœŸçš„æ˜¯ç»†æ€ææã€‚è¿™ä¸ªä¹Ÿæ˜¯ç›®å‰ç¤¾ä¼šå¤§ä¼—å¯¹äººå·¥æ™ºèƒ½å‘å±•å‰æ™¯çš„æ‹…å¿§ã€‚å½“ç„¶ï¼ŒçœŸæ­£è¦å®ç°è¿™ä¸€ç±»â€œè¶…äººå·¥æ™ºèƒ½â€ï¼Œè‡³å°‘ä»ç›®å‰æ¥çœ‹ï¼Œè¿˜æ˜¯ä¸€ä»¶éå¸¸é¥è¿œçš„ç§‘å¹»æƒ³è±¡ã€‚ ã€å°‘æ•°æ´¾æŠ¥å‘Šã€å°‘æ•°æ´¾æŠ¥å‘Šç”µå½±æµ·æŠ¥ ä»¥å‰çœ‹è¿‡æ®æ­¤æ”¹ç¼–çš„åŒåç”µå½±ã€å°‘æ•°æ´¾æŠ¥å‘Šã€ï¼Œä½†æ˜¯ï¼Œä½œä¸ºå•†ä¸šç”µå½±ï¼Œå¿…å®šéœ€è¦ç¬¦åˆä¸€å®šçš„ç¤¾ä¼šä¼¦ç†å’Œé“å¾·è§„èŒƒï¼Œæ‰€ä»¥åœ¨å¤„ç†é—®é¢˜ä¸Šä¼šæœ‰æ‰€ä¿ç•™ã€æœ‰æ‰€é¡¾å¿Œï¼Œæœ€ç»ˆçš„ç»“å±€åªèƒ½ç®—æ˜¯çš†å¤§æ¬¢å–œï¼Œæ™®å¤©åŒåº†ã€‚ è€Œä½œä¸ºå°è¯´æœ¬èº«ï¼Œå°±åƒã€æ°å‡ºå…¬æ°‘ã€é‡Œé¢çš„ä¸»äººå…¬è¯´çš„ï¼Œå°è¯´æ˜¯ä½œè€…å¯¹ç°å®çš„ä¸æ»¡è€Œè¿›è¡Œè™šæ„åˆ›ä½œï¼Œæ˜¯å¯¹ã€Œä¸ç°å®ã€çš„ä¸€ç§æ¸´æœ›ã€åçœï¼Œæ†§æ†¬ä¸æƒ¶æã€‚è¿™ç¯‡ç§‘å¹»å°è¯´å‡å®šäº†æœªæ¥ä¸–ç•Œçš„æŸç§æ‚–è®ºï¼šå‡å®šæœªæ¥çœŸçš„å¯ä»¥é¢„æµ‹ï¼Œé‚£ä¹ˆï¼Œå¦‚æœè¿™æ ·çš„ä¸€ç§é¢„æµ‹ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œæˆ–è€…æœªæ¥çš„äº‹ä»¶ä¼¤åŠåˆ°è‡ªå·±æˆ–è‡ªå·±æ‰€å¤„é›†å›¢çš„åˆ©ç›Šï¼Œæ˜¯ä¸æ˜¯è¦é‡‡å–æªæ–½æ¥æ”¹å˜æœªæ¥ï¼›ä½†æ˜¯ï¼Œå¦‚æœçœŸçš„å¼€å§‹æ”¹å˜æœªæ¥ï¼Œé‚£è¿™ç§é¢„æµ‹ç³»ç»Ÿæœ¬äº‹æ˜¯ä¸æ˜¯å°±å¤±è´¥äº†å‘¢ï¼Ÿ æ‰€ä»¥å°è¯´è®¾å®šäº†å¯¹æœªæ¥é¢„æµ‹çš„é¢„æµ‹ï¼Œè¿™ä¸€çº¦æŸï¼Œä¹Ÿå°±æ˜¯å°‘æ•°æ´¾æŠ¥å‘Šå¯¹å¤šæ•°æ´¾æŠ¥å‘Šçš„å¦å®šï¼Œä»¥åŠä¸€ä¸ªå°‘æ•°æ´¾æŠ¥å‘Šå¯¹å¦ä¸€ä¸ªå°‘æ•°æ´¾æŠ¥å‘Šçš„å¦å®šï¼ŒçŠ¹å¦‚é»‘æ ¼å°”çš„è¾©è¯æ€ç»´ï¼Œå¦å®šä¹‹å¦å®šã€‚å°è¯´æƒ…èŠ‚è·Œå®•èµ·ä¼ï¼Œä¸€æ³¢ä¸‰æŠ˜ï¼Œå®é™…ä¸Šç»å†äº†é¢„æµ‹ã€åé¢„æµ‹ã€ç¡®è®¤é¢„æµ‹ã€åå®é¢„æµ‹ï¼Œä½œè€…å¯¹æƒ…èŠ‚çš„æŠŠæ§éå¸¸çš„åˆ°ä½ã€‚ ã€å…¨é¢è®°å¿†ã€æˆ‘çœŸçš„æ˜¯æˆ‘ä»¥ä¸ºçš„é‚£ä¸ªâ€œæˆ‘â€å—ï¼Ÿ è¿™é‡Œæœ‰ä¸€ä¸ªè§†é¢‘è®²è¿°å¦‚ä½•å»ç†è§£è²åˆ©æ™®Â·è¿ªå…‹ç§‘å¹»å°è¯´çš„è§†é¢‘ï¼šã€å›½ç«‹æ¸…åå¤§å­¦å…¬å¼€è¯¾ã€‘ç§‘å¹»æ¦‚è®º(25) PKD çš„å°è¯´ç»™äººçš„å°è±¡æ˜¯ï¼Œé»‘è‰²ã€å‹æŠ‘ã€ç»æœ›ï¼Œæ— å°½çš„å è½ã€çœ‹ä¸åˆ°ç»¿å…‰çš„éš§é“ï¼Œæ„æˆäº†ä¸€å¹…è®©äººå°è±¡æ·±åˆ»çš„æ„å¢ƒã€‚ä¹Ÿè®¸è¿™æ˜¯è·Ÿä½œè€…çš„äººç”Ÿç»å†æˆ–å¤šæˆ–å°‘æœ‰äº›å…³è”ã€‚ä½†è¿™ä¹Ÿæ˜¯ PKD çš„ç§‘å¹»å°è¯´èƒ½å¤Ÿåœ¨åŒæ—¶ä»£è„±é¢–è€Œå‡ºçš„ç‰¹ç‚¹ï¼Œåœ¨ä¸€ç‰‡åªé‡è§†ç§‘æŠ€ç»šä¸½ã€é¥è¿œå¹»å¢ƒçš„ç§‘å¹»å°è¯´ç•Œï¼Œä»–å¼•å…¥äº†å“²å­¦å±‚é¢çš„æ€è€ƒï¼Œå¸ƒå±€äº†é€»è¾‘æ¨ç†çš„ä¸¥è°¨ï¼Œç¤¾ä¼šä¼¦ç†çš„å®¡æ…ï¼Œè¿™äº›æ— ç–‘ä½¿å¾— PKD çš„ç§‘å¹»å°è¯´èƒ½å¤Ÿè®©äººæ·±å…¥æ€è€ƒï¼Œå»æ¢è®¨åœ¨ç§‘æŠ€æ—¥ç›Šå‘è¾¾çš„åŒæ—¶ï¼Œæˆ‘ä»¬çš„å¿ƒæ™ºæ˜¯å¦ä¹Ÿä¸ä¹‹ç›¸é•¿ï¼Œæˆ‘ä»¬æ‰€å¤„çš„ç¤¾ä¼šåˆ¶åº¦æ˜¯å¦å·²ç»è¿›åŒ–åˆ°è¶³å¤Ÿåº”å¯¹å„ç§ä¸¤éš¾çš„æŠ‰æ‹©ã€‚äººä¸æœºå™¨ï¼Œç”Ÿå‘½ä¸å¤åˆ¶ï¼Œå¿ƒä¸èº«ï¼Œçµä¸è‚‰ï¼Œè¿™äº›å…³ç³»ï¼Œå§‹ç»ˆä¼´éšç€ç¤¾ä¼šç¾¤ä½“çš„å­˜åœ¨è€Œçº ç¼ ã€‚æœªæ¥åœ¨å“ªï¼Œæœªæ¥å»å“ªï¼Œæˆ‘ä»¬å»å¾€å“ªä¸ªæœªæ¥çš„æ–¹å‘â€¦â€¦ ","date":"2017-10-25","objectID":"/archives/2017-10-25-pkd/:0:0","tags":["ç§‘å¹»","å°è¯´","Reviews"],"title":"PKD","uri":"/archives/2017-10-25-pkd/"},{"categories":["Data"],"content":"é’ˆå¯¹ä¸­é‡‘æ‰€ç½‘ç«™è¿›è¡Œè‡ªåŠ¨åŒ–ç½‘ç»œçˆ¬è™«ï¼Œä¸‹è½½äº¤æ˜“ç›¸å…³çš„æ•°æ®ï¼Œå¦‚æ—¥è¡Œæƒ…æ•°æ®ã€æœŸè´§å…¬å¸æŒä»“æ’åæ•°æ®ã€ä»“å•æ•°æ®ç­‰ã€‚ ä¸­é‡‘æ‰€ç½‘ç«™æä¾›è‚¡æŒ‡æœŸè´§ç›¸å…³çš„é‡è¦æ•°æ® ä»ä¸­é‡‘æ‰€ç½‘ç«™å¯ä»¥å¾—åˆ°å¤§é‡è‚¡æŒ‡æœŸè´§ã€å›½å€ºä»¥åŠå›½å€ºæœŸè´§ç›¸å…³çš„é‡è¦äº¤æ˜“æ•°æ®ï¼Œå¦‚æ—¥è¡Œæƒ…æ•°æ®ã€æœŸè´§å…¬å¸æŒä»“æ’åæ•°æ®ã€ä»“å•æ•°æ®ç­‰ã€‚ é€šè¿‡ç½‘ç»œçˆ¬è™«æŠ€æœ¯ï¼Œæˆ‘ä»¬å¯ä»¥ä¸‹è½½å¾—åˆ°å†å²çš„æ‰€æœ‰æ•°æ®ï¼Œä¸ºåæœŸçš„é‡åŒ–å»ºæ¨¡ä¸æ”¶ç›Šç‡å›æµ‹æä¾›æ•°æ®æ”¯æŒã€‚æœ¬ç¯‡æ–‡ç« è®¨è®ºäº† å¦‚ä½•è¯†åˆ«ä¸­é‡‘æ‰€ç½‘å€ï¼Œæ‰¾åˆ°å¯¹åº”çš„æ•°æ®æ–‡ä»¶é“¾æ¥ ä½¿ç”¨å¹¶è¡Œè®¡ç®—æ¨¡å¼ä¸‹è½½æ‰€æœ‰çš„å†å²æ•°æ®æ–‡ä»¶ é…ç½®æ–‡ä»¶é…ç½®æ–‡ä»¶ä½äº myInit.Rï¼Œå¦‚æœæ²¡æœ‰å®‰è£…ç›¸å…³çš„è½¯ä»¶åŒ…ï¼Œæˆ‘è¿™é‡Œå·²ç»å†™å¥½ä¸€ä¸ªå‘½ä»¤è¡Œï¼Œä¼šè‡ªåŠ¨å¯åŠ¨å®‰è£…ç¨‹åºã€‚ ################################################################################ ## myInit.R ## åˆå§‹åŒ–è®¾ç½® # __1. è´¦å·ã€å¯†ç __ # 2. æ–‡ä»¶è·¯å¾„ # 3. éœ€è¦çš„è½¯ä»¶åŒ… # __4. å‚æ•°è®¾ç½®__ ################################################################################ ## ============================================================================= pkgs \u003c- c(\"data.table\",\"parallel\",\"downloader\",\"magrittr\") ##------------------------------------------------------------------------------ if(length(pkgs[!pkgs %in% installed.packages()]) != 0){ sapply(pkgs[!pkgs %in% installed.packages()], install.packages) } ##------------------------------------------------------------------------------ sapply(pkgs, require, character.only = TRUE) åŒæ—¶ï¼Œæˆ‘å»ºè®®ä½¿ç”¨ Chrome æµè§ˆå™¨ï¼Œå¹¶å®‰è£…ä¸€æ¬¾éå¸¸å¥½ç”¨çš„HTML é¡µé¢è§£ææ’ä»¶ SelectGadgetï¼Œå¯ä»¥ç”¨æ¥æ¢æµ‹ç½‘é¡µå…ƒç´ ï¼Œæ–¹ä¾¿æˆ‘ä»¬æŸ¥æ‰¾ç›¸åº”çš„è·¯å¾„ã€‚ æ—¥è¡Œæƒ…æ•°æ®ä¸­é‡‘æ‰€ç½‘ç«™æä¾›äº†æ‰€æœ‰è‚¡æŒ‡æœŸè´§çš„å†å²è¡Œæƒ…æ•°æ®ï¼š IC IF IH T TF ","date":"2017-10-23","objectID":"/archives/2017-10-23-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%AD%E9%87%91%E6%89%80/:0:0","tags":["R","æ•°æ®","çˆ¬è™«","äº¤æ˜“æ‰€"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹ä¸­é‡‘æ‰€","uri":"/archives/2017-10-23-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%AD%E9%87%91%E6%89%80/"},{"categories":["Data"],"content":" è¯†åˆ«æ–‡ä»¶é“¾æ¥ä¸ºäº†æ‰¾åˆ°è¡Œæƒ…æ•°æ®å¯¹åº”çš„æ–‡ä»¶é“¾æ¥ï¼Œæˆ‘ä»¬é¦–å…ˆç‚¹å‡»å·¦æ çš„ è¡Œæƒ…æ•°æ®/æ—¥ç»Ÿè®¡ï¼Œå¾—åˆ°å½“æ—¥æ”¶ç›˜åç»Ÿè®¡çš„ç†æ—¥è¡Œæƒ…æ•°æ®åˆ—è¡¨ã€‚ æ—¥è¡Œæƒ…æ•°æ®æ‰€åœ¨ è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥æœ‰ä¸¤ç§æ–¹æ³•æ¥ä¸‹è½½å¾—åˆ°æ•°æ® ç›´æ¥è¯»å–é¡µé¢æ•°æ®ï¼Œä½†åªé€‚ç”¨è·å¾—å½“æ—¥çš„æ”¶ç›˜æ—¥è¡Œæƒ…æ•°æ®ï¼Œå¯¹äºå†å²çš„æ•°æ®ï¼Œåˆ™æ— æ³•è¯»å–ã€‚ æŸ¥æ‰¾ç›¸å…³çš„æ–‡ä»¶é“¾æ¥ï¼ŒæŸ¥çœ‹äº¤æ˜“æ‰€æ˜¯å¦æä¾›äº†ç›´æ¥å¯ä¸‹è½½çš„é“¾æ¥ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œæ–‡ä»¶å‘½ä»¤è§„åˆ™ä¼šä¸äº¤æ˜“æ—¥æœŸç›¸å…³ï¼Œä»è€Œæ»¡è¶³æˆ‘ä»¬ä¸‹è½½å†å²æ•°æ®çš„è¦æ±‚ã€‚ è®©æˆ‘ä»¬æŠŠé¡µé¢å¾€ä¸‹æ‹½ä¸€æ‹½ï¼Œä¼šæœ‰æƒŠå–œå“¦ã€‚ ä¸­é‡‘æ‰€æä¾›äº†é™„ä»¶ä¸‹è½½ è¿™ä¸ªé“¾æ¥å³æ˜¯ä¸­é‡‘æ‰€å­˜å‚¨æ—¥è¡Œæƒ…æ•°æ®çš„æ–‡ä»¶æ‰€åœ¨ï¼Œå¯ä»¥ç›´æ¥ç‚¹å‡»ä¸‹è½½ã€‚ å½“ç„¶ï¼Œå¦‚æœåªæ˜¯æ‰‹åŠ¨ç‚¹å‡»ä¸‹è½½çš„è¯ï¼ˆä¼°è®¡å³æ‰‹è¦å˜æ®‹åºŸï¼‰ï¼Œè¿™ä¹ˆç®€å•ç²—æš´çš„æ‰‹æ®µï¼Œæˆ‘ä»¬å°±ä¸ç”¨åœ¨èŠ±è´¹å¤§åŠ›æ°”æ¥æ¢è®¨äº†ã€‚ æ€ä¹ˆå»æŸ¥æ‰¾è¿™ä¸ªæ–‡ä»¶çš„å…·ä½“é“¾æ¥åœ°å€å‘¢ï¼Ÿæˆ‘ä»¬ç°åœ¨åªæ˜¯çœ‹åˆ°ä¸€ä¸ªç½‘é¡µé¡µé¢ï¼Œä¼¼ä¹æ— ä»ä¸‹æ‰‹ã€‚å¦‚æœå°±è¿™æ ·è½»æ˜“æ”¾å¼ƒï¼Œé‚£ä¹Ÿå¤ªä¸æ˜¯æˆ‘çš„é£æ ¼äº†ã€‚å¹¸å¥½ï¼Œæˆ‘å¯¹ç½‘é¡µè®¾è®¡ä¹Ÿæ˜¯æœ‰æ‰€äº†è§£ï¼Œä¹Ÿç‹¬ç«‹æ­å»ºè¿‡ä¸ªäººåšå®¢ï¼ˆåŒ…æ‹¬ä½†ä¸é™äºæœ¬åšå®¢ç½‘ç«™ï¼‰ï¼Œå…¶å®è¿™ä¸ªçœ‹ä¼¼é¡µé¢çš„â€œä¸œè¥¿â€ï¼Œåé¢éšè—äº†è®¸å¤šæˆ‘ä»¬çœ‹ä¸åˆ°çš„â€œä¸œè¥¿â€ã€‚ è¿™é‡Œæˆ‘ä½¿ç”¨ Chromeï¼Œå¯ä»¥å³å‡»é¼ æ ‡ï¼Œé€‰æ‹© Inspectï¼Œä¼šå¼¹å‡ºç½‘é¡µçš„å…·ä½“å…ƒç´ ã€‚æœ‰æ²¡æœ‰è¢«æƒŠå–œåˆ°ï¼ŸåŸæ¥æˆ‘ä»¬çœ‹è§çš„ç½‘ç«™é¡µé¢ï¼Œç«Ÿç„¶æ˜¯æœ‰è¿™æ ·ä¸€å¯¹ä»£ç ç»„åˆè€Œæˆçš„ã€‚ä½¿ç”¨ Ctrl + F æŸ¥æ‰¾å…³é”®å­— æ—¥è¡Œæƒ…æ•°æ®ï¼Œæˆ‘ä»¬å‘ç°ï¼ŒåŸæ¥è¿™ä¸ªæ–‡ä»¶ç¡®å®æŒ‡å‘äº†ä¸€ä¸ªå…·ä½“çš„é“¾æ¥åœ°å€ã€‚ æŸ¥çœ‹HTMLå…ƒç´  å¯¹äºé“¾æ¥åœ°å€ï¼Œä¸€èˆ¬æœ‰ä¸¤ç§å½¢å¼ é™æ€é“¾æ¥ï¼šå³é“¾æ¥æŒ‡å‘ä¸€ä¸ªç›¸å¯¹è·¯å¾„ï¼Œè¿™ä¸ªè·¯å¾„æ˜¯æ˜¾å¼çš„ã€‚æ¯”å¦‚æˆ‘ä»¬åœ¨ä¸Šé¢çœ‹åˆ°çš„é“¾æ¥ï¼Œæ˜¾ç¤ºä¸€ä¸ªç›¸å¯¹æ ¹ç›®å½•çš„ç›¸å¯¹è·¯å¾„ï¼Œhref=\"./201710/17/20171017_1.csv\"ï¼Œæ–‡ä»¶è·¯å¾„æ˜¯æ˜¾å¼ã€å…·ä½“çš„ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨æ‰“å¼€è¿™ä¸ªæ–‡ä»¶æ¥æŸ¥çœ‹ï¼Œæˆ–è€…ä½¿ç”¨ R ç›´æ¥è¯»å–æ–‡ä»¶æ•°æ®ã€‚ åŠ¨æ€é“¾æ¥ï¼šå³ç”±ä¸€æ®µ Javascript æ¥æ§åˆ¶æ“ä½œï¼Œåªæœ‰é¼ æ ‡ç‚¹å‡»æ‰èƒ½è¿›è¡Œä¸‹ä¸€æ­¥çš„æ“ä½œå¦‚ä¸‹è½½ã€‚å¯¹äºè¿™ç±»é“¾æ¥çš„è§£æï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨è„šæœ¬è§£ææˆ–è€…æ¨¡æ‹Ÿé¼ æ ‡æ“ä½œï¼ˆæˆ‘ä¼šåœ¨å¦å¤–ä¸€ç¯‡åšå®¢è®¨è®ºå¦‚ä½•ä½¿ç”¨ Selenium æ¨¡æ‹Ÿé¼ æ ‡ä¸‹è½½å¤§å•†æ‰€çš„æ•°æ®ï¼‰ã€‚ å¦‚æ­¤ä¸€æ¥ï¼Œæˆ‘ä»¬ä¾¿çŸ¥é“éœ€è¦ä¸‹è½½çš„æ–‡ä»¶é“¾æ¥å…¨ç§°æ˜¯ æ ¹ç›®å½•ï¼šhttp://www.cffex.com.cn/sj/hqsj/rtj ç›¸å¯¹è·¯å¾„ï¼š/201710/17/20171017_1.csv ","date":"2017-10-23","objectID":"/archives/2017-10-23-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%AD%E9%87%91%E6%89%80/:1:0","tags":["R","æ•°æ®","çˆ¬è™«","äº¤æ˜“æ‰€"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹ä¸­é‡‘æ‰€","uri":"/archives/2017-10-23-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%AD%E9%87%91%E6%89%80/"},{"categories":["Data"],"content":" æ–‡ä»¶å‘½åè§„åˆ™æ–‡ä»¶çš„å‘½ä»¤è§„å¾‹æœç„¶æ˜¯ä»¥äº¤æ˜“æ—¥ä¸ºåŸºç¡€ï¼Œåœ¨ä¸Šé¢ç¨ä½œå˜åŠ¨ï¼Œå³ /yyyymm/dd/yyyymmdd_1.csvã€‚å¯¹äºå†å²çš„æ•°æ®ï¼Œæˆ‘ä»¬åªè¦ä½¿ç”¨å¾ªç¯æ¥ç¼–å†™åé¢çš„ç›¸å¯¹æ–‡ä»¶è·¯å¾„ï¼Œå³å¯è·å–æ‰€æœ‰çš„å†å²æ•°æ®æ–‡ä»¶æ‰€å¯¹åº”çš„ç½‘é¡µé“¾æ¥ã€‚ è¿™é‡Œæˆ‘ä½¿ç”¨åˆ°äº†ä¹‹å‰ä»‹ç»çš„ä¸­å›½æœŸè´§äº¤æ˜“æ—¥å†è¡¨ï¼Œä½¿ç”¨è¿™ä¸ªæ—¥å†è¡¨æ¥ç”Ÿæˆç›¸åº”çš„æ–‡ä»¶è·¯å¾„ã€‚ ","date":"2017-10-23","objectID":"/archives/2017-10-23-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%AD%E9%87%91%E6%89%80/:2:0","tags":["R","æ•°æ®","çˆ¬è™«","äº¤æ˜“æ‰€"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹ä¸­é‡‘æ‰€","uri":"/archives/2017-10-23-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%AD%E9%87%91%E6%89%80/"},{"categories":["Data"],"content":" è¡Œæƒ…æ•°æ®æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ç°å®æ˜¯ä¸æ˜¯çœŸæ˜¯å¦‚æˆ‘ä»¬æ‰€é¢„æƒ³çš„ï¼ŒåŒ…å«æ‰€æœ‰çš„è¡Œæƒ…æ•°æ®ã€‚é¦–å…ˆæ¥è¯»å–æŸä¸€å¤©çš„æ•°æ®æ–‡ä»¶çœ‹çœ‹ Sys.setlocale(\"LC_ALL\", 'en_US.UTF-8') [1] \"LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=en_US.UTF-8;LC_MESSAGES=en_US.UTF-8;LC_PAPER=zh_CN.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=zh_CN.UTF-8;LC_IDENTIFICATION=C\" library(magrittr) library(readr) exchURL \u003c- 'http://www.cffex.com.cn/sj/hqsj/rtj' tempURL \u003c- '/201710/17/20171017_1.csv' dataFile \u003c- paste(exchURL, tempURL, sep = '') dt \u003c- dataFile %\u003e% read_csv(., locale = locale(encoding = \"GB18030\")) Parsed with column specification: cols( åˆçº¦ä»£ç  = col_character(), ä»Šå¼€ç›˜ = col_double(), æœ€é«˜ä»· = col_double(), æœ€ä½ä»· = col_double(), æˆäº¤é‡ = col_double(), æˆäº¤é‡‘é¢ = col_double(), æŒä»“é‡ = col_double(), æŒä»“å˜åŒ– = col_double(), ä»Šæ”¶ç›˜ = col_double(), ä»Šç»“ç®— = col_double(), å‰ç»“ç®— = col_double(), æ¶¨è·Œ1 = col_double(), æ¶¨è·Œ2 = col_double(), `éšå«æ³¢åŠ¨ç‡(%)` = col_character(), Delta = col_character() ) Warning: 6 parsing failures. row col expected actual file 5 -- 15 columns 14 columns 'http://www.cffex.com.cn/sj/hqsj/rtj/201710/17/20171017_1.csv' 10 -- 15 columns 14 columns 'http://www.cffex.com.cn/sj/hqsj/rtj/201710/17/20171017_1.csv' 15 -- 15 columns 14 columns 'http://www.cffex.com.cn/sj/hqsj/rtj/201710/17/20171017_1.csv' 19 -- 15 columns 14 columns 'http://www.cffex.com.cn/sj/hqsj/rtj/201710/17/20171017_1.csv' 23 -- 15 columns 14 columns 'http://www.cffex.com.cn/sj/hqsj/rtj/201710/17/20171017_1.csv' ... ... .......... .......... .............................................................. See problems(...) for more details. print(dt) # A tibble: 24 Ã— 15 åˆçº¦ä»£ç  ä»Šå¼€ç›˜ æœ€é«˜ä»· æœ€ä½ä»· æˆäº¤é‡ æˆäº¤é‡‘é¢ æŒä»“é‡ æŒä»“å˜åŒ– ä»Šæ”¶ç›˜ ä»Šç»“ç®— å‰ç»“ç®— æ¶¨è·Œ1 æ¶¨è·Œ2 `éšå«æ³¢åŠ¨ç‡(%)` Delta \u003cchr\u003e \u003cdbl\u003e \u003cdbl\u003e \u003cdbl\u003e \u003cdbl\u003e \u003cdbl\u003e \u003cdbl\u003e \u003cdbl\u003e \u003cdbl\u003e \u003cdbl\u003e \u003cdbl\u003e \u003cdbl\u003e \u003cdbl\u003e \u003cchr\u003e \u003cchr\u003e 1 IC1710 6600 6653. 6584. 10644 1407964. 13681 -2199 6592. 6604. 6628. -35.8 -23.4 -- -- 2 IC1711 6568. 6618 6553. 3270 430422. 6064 1692 6561. 6571. 6597. -36.6 -26 -- -- 3 IC1712 6544 6597. 6523. 1041 136429. 7769 236 6531 6542 6572. -41.2 -30.2 -- -- 4 IC1803 6489 6525. 6463. 277 35942. 2124 55 6470 6480. 6511. -40.8 -30.4 -- -- 5 å°è®¡ NA NA NA 15232 2010756. 29638 -216 NA NA NA NA NA \u003cNA\u003e \u003cNA\u003e 6 IF1710 3914 3928. 3909. 10887 1279659. 16859 -3096 3911 3917. 3924 -13 -7.4 -- -- 7 IF1711 3913 3925 3906 3723 437320. 7226 2224 3906 3913 3922. -15.6 -8.6 -- -- 8 IF1712 3911 3923. 3904 1293 151760. 12518 170 3906 3910. 3919. -13.2 -8.8 -- -- 9 IF1803 3918. 3923 3904. 298 34976. 3509 10 3907. 3911 3920. -13.2 -8.8 -- -- 10 å°è®¡ NA NA NA 16201 1903714. 40112 -692 NA NA NA NA NA \u003cNA\u003e \u003cNA\u003e # â€¦ with 14 more rows ","date":"2017-10-23","objectID":"/archives/2017-10-23-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%AD%E9%87%91%E6%89%80/:3:0","tags":["R","æ•°æ®","çˆ¬è™«","äº¤æ˜“æ‰€"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹ä¸­é‡‘æ‰€","uri":"/archives/2017-10-23-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%AD%E9%87%91%E6%89%80/"},{"categories":["Data"],"content":" å¹¶è¡Œä¸‹è½½å“¦ç§‘ï¼Œåˆ°æ­¤ä¸ºæ­¢ï¼Œæ‰€æœ‰çš„ææ–™å·²ç»å‡†å¤‡å®Œæ¯•ï¼š ä½¿ç”¨äº¤æ˜“æ—¥å†è¡¨ç”Ÿæˆç›¸å¯¹è·¯å¾„ï¼Œå¹¶ä¸æ ¹ç›®å½•ç»“åˆï¼Œç”Ÿæˆæ‰€æœ‰çš„å†å²æ—¥è¡Œæƒ…æ•°æ®æ–‡ä»¶é“¾æ¥ è¯»å–çš„æ–‡ä»¶ç¡®è®¤ä¸ºç›®æ ‡æ•°æ® æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰“å¼€ R ä¸­çš„å¹¶è¡Œè®¡ç®—æ¨¡å¼ï¼Œå³å¯å¼€å¯ä¸‹è½½ä¸­é‡‘æ‰€æ‰€æœ‰çš„æ—¥è¡Œæƒ…æ•°æ®äº†ã€‚ dataPath æ˜¯ä¸‹è½½æ–‡ä»¶çš„ä¿å­˜è·¯å¾„ï¼Œæ ¹æ®éœ€è¦æ¥ä¿®æ”¹ å¯ä»¥æ ¹æ®æ“ä½œç³»ç»Ÿçš„æ€§èƒ½ä¸åŒï¼Œè®¾ç½®å¼€å¯çš„å¹¶è¡Œè®¡ç®—æ ¸æ•°ï¼Œä½¿ç”¨å‘½ä»¤ detectCores() æ¥è·å–å½“å‰æ“ä½œç³»ç»Ÿçš„æœ€å¤§ CPU æ ¸æ•° æˆ‘ä½¿ç”¨çš„æ˜¯ Linux æ“ä½œç³»ç»Ÿï¼Œåœ¨è¯¥æ“ä½œç³»ç»Ÿä¸‹ï¼Œparallel å¼€å¯ FORK å¹¶è¡Œè®¡ç®—æ¨¡å¼ï¼Œèƒ½å¤Ÿå¢å¼ºæ€§èƒ½ã€‚å¦‚æœæ˜¯åœ¨ Windows æ“ä½œç³»ç»Ÿï¼Œéœ€è¦å¼€å¯ PSOCK æ¨¡å¼ï¼ŒåŒæ—¶è®°å¾—åœ¨å·¥ä½œåŒºæ·»åŠ è½¯ä»¶åŒ…ä¸å˜é‡ download.file æœ‰ä¸€ä¸ªå‚æ•° modeï¼Œåœ¨ Linux æ“ä½œç³»ç»Ÿä¼‘ä¸éœ€è¦è®¾ç½®ï¼Œå½“æ—¶åœ¨ Windows æ“ä½œç³»ç»Ÿä¸‹éœ€è¦è®¾ç½®ä¸º wbï¼Œ å¦åˆ™ä¿å­˜çš„æ–‡ä»¶æ˜¯ç©ºçš„ã€‚æˆ‘è¿™é‡Œä¸ºäº†è·¨å¹³å°ä½¿ç”¨ï¼Œç»Ÿä¸€è®¾ç½®ä¸º wb è¿è¡Œå®Œæˆåï¼Œè®°å¾—ä½¿ç”¨å‘½ä»¤ stopCluster() å…³é—­å¹¶è¡Œæ¨¡å¼ï¼Œå¦åˆ™åç»­çš„è¿ç®—ä¼šæ¯”è¾ƒå ç”¨èµ„æº ################################################################################ ## STEP 1: è·å–å¯¹åº”çš„äº¤æ˜“æ—¥æœŸ ################################################################################ ChinaFuturesCalendar \u003c- fread(\"./data/ChinaFuturesCalendar/ChinaFuturesCalendar.csv\", colClasses = list(character = c(\"nights\",\"days\"))) %\u003e% .[days \u003c format(Sys.Date(),'%Y%m%d')] exchCalendar \u003c- ChinaFuturesCalendar[,\":=\"(calendarYear = substr(days,1,4), calendarYearMonth = substr(days,1,6), calendarDay = substr(days,7,8))] exchURL \u003c- \"http://www.cffex.com.cn/sj/hqsj/rtj/\" dataPath \u003c- '/home/william/Documents/Exchange/CFFEX/' # dataPath \u003c- \"./data/Bar/Exchange/CFFEX/\" ################################################################################ ################################################################################ ## STEP 2: å¼€å¯å¹¶è¡Œè®¡ç®—æ¨¡å¼ï¼Œä¸‹è½½æ•°æ® ################################################################################ cl \u003c- makeCluster(round(detectCores()/4), type='FORK') parSapply(cl, 1:nrow(ChinaFuturesCalendar), function(i){ tempDir \u003c- paste0(dataPath,exchCalendar[i,calendarYear]) if (!dir.exists(tempDir)) dir.create(tempDir) tempURL \u003c- paste0(exchURL, exchCalendar[i,calendarYearMonth],'/', exchCalendar[i,calendarDay],'/', exchCalendar[i,days],'_1.csv') destFile \u003c- paste0(tempDir,'/',exchCalendar[i,days],'.csv') while ( !file.exists(destFile) | file.size(destFile) \u003c 200) { try(download.file(tempURL, destFile, mode = 'wb')) } }) stopCluster(cl) æˆäº¤æŒä»“æ’ååˆ©ç”¨ç›¸åŒçš„æŠ€æœ¯æ‰‹æ®µï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä»ä¸­é‡‘æ‰€ç½‘ç«™ä¸‹è½½å½“æ—¥æ”¶ç›˜åçš„æœŸè´§å…¬å¸æˆäº¤æŒä»“æ’åæ•°æ®ã€‚è¿™ä»½æ•°æ®åŒ…å«äº†æˆäº¤é‡ä¸å½“æ—¥æ”¶ç›˜åæŒä»“æ’åå‰20çš„æœŸè´§å…¬å¸è¯¦ç»†æ•°æ®ã€‚é€šè¿‡åˆ†ææŒä»“æ•°é‡å˜åŠ¨ï¼Œæˆ‘ä»¬å¯ä»¥æŒ–æ˜åˆ°å„ä¸ªæœŸè´§å…¬å¸ä¸»åŠ›èµ„é‡‘å¯¹å¸‚åœºèµ°åŠ¿çš„æƒ…ç»ªåˆ¤æ–­ï¼Œä»è€Œå¯¹æœªæ¥çš„æœŸè´§ä»·æ ¼èµ°åŠ¿äº§ç”Ÿä¸€å®šçš„å½±å“ã€‚ ä¸­é‡‘æ‰€åœ¨æ¯æ—¥æ”¶ç›˜åå…¬å¸ƒæˆäº¤æ’å ","date":"2017-10-23","objectID":"/archives/2017-10-23-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%AD%E9%87%91%E6%89%80/:4:0","tags":["R","æ•°æ®","çˆ¬è™«","äº¤æ˜“æ‰€"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹ä¸­é‡‘æ‰€","uri":"/archives/2017-10-23-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%AD%E9%87%91%E6%89%80/"},{"categories":["Data"],"content":" è¯†åˆ«æ–‡ä»¶é“¾æ¥æˆ‘ä»¬ç‚¹å‡»æŸä¸€å¤©çš„äº¤æ˜“æ—¥æœŸï¼Œç„¶åç‚¹å‡»æŸ¥è¯¢ï¼Œå³å¯çœ‹åˆ°å½“æ—¥çš„å„è‚¡æŒ‡æœŸè´§å“ç§çš„æˆäº¤æŒä»“æ’åæ•°æ®ã€‚ æ˜¾ç¤ºæ’åå‰20çš„æœŸè´§å…¬å¸æˆäº¤æ•°æ® å‚è€ƒæ—¥è¡Œæƒ…éƒ¨åˆ†çš„æ–¹æ³•ï¼Œæˆ‘ä»¬ä½¿ç”¨ Chrome çš„ Inspect åŠŸèƒ½æ¥è§£ææ•°æ®æ–‡ä»¶æ‰€å¯¹åº”çš„é“¾æ¥ã€‚å¯ä»¥çœ‹åˆ°ï¼Œæˆäº¤æŒä»“æ’åçš„æ•°æ®æ–‡ä»¶å‘½åè§„åˆ™æ˜¯ yyyymm/dd/\u003cid\u003e_1.csvï¼Œå…¶ä¸­ id å°±æ˜¯åˆçº¦å“ç§ä»£ç ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯å¯ä»¥åˆ©ç”¨ä¸­å›½æœŸè´§äº¤æ˜“æ—¥å†æ¥ç”Ÿæˆæ‰€æœ‰çš„å†å²æ–‡ä»¶å¯¹åº”çš„ç½‘ç«™é“¾æ¥ã€‚ æŸ¥çœ‹æ•°æ®æ–‡ä»¶çš„ç›¸å¯¹é“¾æ¥è·¯å¾„ ä¸æ—¥è¡Œæƒ…æ•°æ®ä¸åŒï¼Œæˆäº¤æŒä»“æ’åçš„æ•°æ®æ˜¯åˆ†åˆçº¦å“ç§æ¥è®¾å®šçš„ï¼Œå³æ¯ä¸€ä¸ªåˆçº¦å“ç§å•ç‹¬ä¿å­˜ä¸ºä¸€ä¸ªæ•°æ®æ–‡ä»¶ã€‚ç”±äºä¸åŒçš„è‚¡æŒ‡æœŸè´§å“ç§ä¸Šå¸‚æ—¥æœŸä¸ä¸€æ ·ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦å•ç‹¬è®¾ç½®ã€‚ ################################################################################ ## CFFEX: ä¸­æœŸæ‰€ ## ## 1. ICï¼šä¸­è¯500 --\u003e 2015-04-16 ## 2. IFï¼šæ²ªæ·±300 --\u003e 2010-04-16 ## 3. IHï¼šä¸Šè¯50 --\u003e 2015-04-16 ## 4. T ï¼š10å¹´æœŸå›½å€º --\u003e 2015-03-20 ## 5. TFï¼š5å¹´æœŸå›½å€º --\u003e 2013-09-06 ################################################################################ ## ----------------------------------------------------------------------------- productSet \u003c- data.table(productID = c('IC','IF','IH','T','TF'), startDate = c('20150416','20100416','20150416', '20150320','20130906')) productCalenar \u003c- lapply(productSet[,productID], function(id) { res \u003c- exchCalendar[days \u003e= productSet[productID == id, startDate]] %\u003e% .[, productID := id] }) %\u003e% rbindlist() ## ----------------------------------------------------------------------------- ","date":"2017-10-23","objectID":"/archives/2017-10-23-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%AD%E9%87%91%E6%89%80/:5:0","tags":["R","æ•°æ®","çˆ¬è™«","äº¤æ˜“æ‰€"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹ä¸­é‡‘æ‰€","uri":"/archives/2017-10-23-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%AD%E9%87%91%E6%89%80/"},{"categories":["Data"],"content":" æˆäº¤æŒä»“æ’åæ•°æ®æˆ‘ä»¬æ¥æ£€æŸ¥ä¸€ä¸‹æ•°æ®æ˜¯ä¸æ˜¯æ­£ç¡®çš„ã€‚ exchURL \u003c- 'http://www.cffex.com.cn/sj/ccpm' tempURL \u003c- '/201710/17/IF_1.csv' dataFile \u003c- paste(exchURL, tempURL, sep = '') dt \u003c- dataFile %\u003e% read_csv(., locale = locale(encoding = \"GB18030\")) print(dt) # A tibble: 46 Ã— 9 äº¤æ˜“æ—¥ åˆçº¦ ä¼šå‘˜ç±»åˆ« æ€»æˆäº¤é‡ æ¯”ä¸Šäº¤æ˜“æ—¥å¢å‡ æ€»æŒä¹°å•é‡ æ¯”ä¸Šäº¤æ˜“æ—¥å¢å‡_1 æ€»æŒå–å•é‡ æ¯”ä¸Šä¸€äº¤æ˜“æ—¥å¢å‡ \u003cchr\u003e \u003cchr\u003e \u003cchr\u003e \u003cchr\u003e \u003cchr\u003e \u003cchr\u003e \u003cchr\u003e \u003cchr\u003e \u003cchr\u003e 1 20171017 IF1710 æœŸè´§å…¬å¸ 21774 -1166 16859 -3096 16859 -3096 2 20171017 IF1710 éæœŸè´§å…¬å¸ 0 0 0 0 0 0 3 20171017 IF1712 æœŸè´§å…¬å¸ 2586 -530 12518 170 12518 170 4 20171017 IF1712 éæœŸè´§å…¬å¸ 0 0 0 0 0 0 5 äº¤æ˜“æ—¥ åˆçº¦ æ’å æˆäº¤é‡æ’å \u003cNA\u003e \u003cNA\u003e æŒä¹°å•é‡æ’å \u003cNA\u003e \u003cNA\u003e 6 \u003cNA\u003e \u003cNA\u003e \u003cNA\u003e ä¼šå‘˜ç®€ç§° æˆäº¤é‡ æ¯”ä¸Šä¸€äº¤æ˜“æ—¥å¢å‡ ä¼šå‘˜ç®€ç§° æŒä¹°å•é‡ æ¯”ä¸Šä¸€äº¤æ˜“æ—¥å¢å‡ 7 20171017 IF1710 1 ä¸­ä¿¡æœŸè´§ 2670 19 ä¸­ä¿¡æœŸè´§ 1704 -444 8 20171017 IF1710 2 å›½æ³°å›å®‰ 1269 -100 äº”çŸ¿ç»æ˜“ 1595 -73 9 20171017 IF1710 3 é“¶æ²³æœŸè´§ 1163 172 å›½æ³°å›å®‰ 1448 -63 10 20171017 IF1710 4 æµ·é€šæœŸè´§ 1055 -6 ç”³é“¶ä¸‡å›½ 721 -197 # â€¦ with 36 more rows ","date":"2017-10-23","objectID":"/archives/2017-10-23-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%AD%E9%87%91%E6%89%80/:6:0","tags":["R","æ•°æ®","çˆ¬è™«","äº¤æ˜“æ‰€"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹ä¸­é‡‘æ‰€","uri":"/archives/2017-10-23-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%AD%E9%87%91%E6%89%80/"},{"categories":["Data"],"content":" å¹¶è¡Œä¸‹è½½å…·ä½“çš„è¯´æ˜å‚ç…§æ—¥è¡Œæƒ…çš„å¹¶è¡Œä¸‹è½½è¯´æ˜ã€‚è¿™é‡Œç›´æ¥ä¸Šå¹²è´§ã€‚ ################################################################################ ## cffex.R ## ç”¨äºä¸‹è½½ä¸­é‡‘æ‰€æœŸè´§å…¬å¸æŒä»“æ’åæ•°æ® ## ## Author: William Fang ## Date : 2017-08-21 ################################################################################ ################################################################################ ## STEP 0: åˆå§‹åŒ–ï¼Œè½½å…¥åŒ…ï¼Œè®¾å®šåˆå§‹æ¡ä»¶ ################################################################################ rm(list = ls()) logMainScript \u003c- c(\"cffex.R\") setwd('/home/fl/myData/') suppressMessages({ source('./R/Rconfig/myInit.R') }) ################################################################################ ## STEP 1: è·å–å¯¹åº”çš„äº¤æ˜“æ—¥æœŸ ################################################################################ ChinaFuturesCalendar \u003c- fread(\"./data/ChinaFuturesCalendar/ChinaFuturesCalendar.csv\", colClasses = list(character = c(\"nights\",\"days\"))) %\u003e% .[days \u003c format(Sys.Date(),'%Y%m%d')] exchCalendar \u003c- ChinaFuturesCalendar[,\":=\"(calendarYear = substr(days,1,4), calendarYearMonth = substr(days,1,6), calendarMonth = substr(days,5,6), calendarDay = substr(days,7,8))] exchURL \u003c- \"http://www.cffex.com.cn/fzjy/ccpm/\" dataPath \u003c- '/home/william/Documents/oiRank/CFFEX/' # dataPath \u003c- \"./data/oiRank/CFFEX/\" ################################################################################ ## CFFEX: ä¸­æœŸæ‰€ ## ## 1. ICï¼šä¸­è¯500 --\u003e 2015-04-16 ## 2. IFï¼šæ²ªæ·±300 --\u003e 2010-04-16 ## 3. IHï¼šä¸Šè¯50 --\u003e 2015-04-16 ## 4. T ï¼š10å¹´æœŸå›½å€º --\u003e 2015-03-20 ## 5. TFï¼š5å¹´æœŸå›½å€º --\u003e 2013-09-06 ################################################################################ ## ----------------------------------------------------------------------------- productSet \u003c- data.table(productID = c('IC','IF','IH','T','TF'), startDate = c('20150416','20100416','20150416', '20150320','20130906')) productCalenar \u003c- lapply(productSet[,productID], function(id) { res \u003c- exchCalendar[days \u003e= productSet[productID == id, startDate]] %\u003e% .[, productID := id] }) %\u003e% rbindlist() ## ----------------------------------------------------------------------------- ## ----------------------------------------------------------------------------- cffexData \u003c- function(calendarYear, calendarMonth, calendarDay, productID) { tempURL \u003c- paste0(exchURL, paste0(calendarYear, calendarMonth), '/', calendarDay, '/', productID,'_1.csv') destFile \u003c- paste0(dataPath, calendarYear, '/', paste0(calendarYear, calendarMonth, calendarDay), '_',productID,'.csv') ## ------------------------------------------------------------------------- while(! file.exists(destFile) | file.size(destFile) \u003c 1000){ try(download.file(tempURL, destFile, mode = 'wb')) } ## ------------------------------------------------------------------------- } ## ----------------------------------------------------------------------------- ################################################################################ ## STEP 2: å¼€å¯å¹¶è¡Œè®¡ç®—æ¨¡å¼ï¼Œä¸‹è½½æ•°æ® ################################################################################ cl \u003c- makeCluster(max(round(detectCores()*3/4),4), type='FORK') parSapply(cl, 1:nrow(productCalenar), function(i){ ## --------------------------------------------------------------------------- tempDir \u003c- paste0(dataPath, productCalenar[i, calendarYear]) if (!dir.exists(tempDir)) dir.create(tempDir, recursive = TRUE) productCalenar[i, cffexData(calendarYear, calendarMonth, calendarDay, productID)] ## --------------------------------------------------------------------------- }) stopCluster(cl) ","date":"2017-10-23","objectID":"/archives/2017-10-23-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%AD%E9%87%91%E6%89%80/:7:0","tags":["R","æ•°æ®","çˆ¬è™«","äº¤æ˜“æ‰€"],"title":"äº¤æ˜“æ‰€æ•°æ®çˆ¬è™«ä¹‹ä¸­é‡‘æ‰€","uri":"/archives/2017-10-23-%E4%BA%A4%E6%98%93%E6%89%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E4%B9%8B%E4%B8%AD%E9%87%91%E6%89%80/"},{"categories":["Reading"],"content":"è¿™æ˜¯ä¸€æœ¬å…³äºåˆ‡å°”è¯ºè´åˆ©æ ¸çˆ†ç‚¸ç¾éš¾çš„è®¿è°ˆå½•ï¼Œä»¥å—ç¾æ°‘ä¼—ã€å‚ä¸ç°åœºæ¸…ç†å·¥ä½œçš„æˆ˜å£«ã€ç›¸å…³ç§‘ç ”äººå£«çš„äº²èº«ç»å†ä½œä¸ºå™äº‹é¢˜æï¼Œä¸ºæˆ‘ä»¬æä¾›äº†ç¬¬ä¸€è§†è§’å»çœ‹å¾…è¿™æ¬¡äººç±»å†å²ä¸Šæœ€æƒ¨ç—›çš„ç§‘å­¦å¤±è´¥ä¸æ”¿æ²»æ¬ºéª—ã€‚ æˆ‘ä¸çŸ¥é“è¯¥è¯´ä»€ä¹ˆï¼Œå…³äºæ­»äº¡è¿˜æ˜¯çˆ±æƒ… åœ¨é˜…è¯»çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¸ä»…ä»…æ˜¯æ²‰ç—›è¿™æ¬¡æ ¸çˆ†ç‚¸ç»™é™„è¿‘çš„æ°‘ä¼—é€ æˆæ— è®ºèº«ä½“è¿˜æ˜¯å¿ƒç†ä¸Šçš„åˆ›ä¼¤â€”â€”ä»–ä»¬ç—›å¤±çˆ±äººã€äº²äººã€æœ‹å‹ã€æ•…å›½å®¶å›­ã€ä¸–ä»£èµ–ä»¥å»¶ç»­çš„åœŸåœ°ã€ç²®é£Ÿã€ç”Ÿå‘½çš„å°Šä¸¥ã€ç”šè‡³è‡ªå·±æ°‘æ—çš„æ–‡åŒ–ï¼›æˆ‘æ›´è®¶äºçš„ï¼Œæ˜¯å½“æƒè€…å¤„äºæŸç§æ”¿æ²»ç›®çš„ã€é›†å›¢ä»¥åŠä¸ªäººåˆ©ç›Šâ€”â€”ç«Ÿç„¶é‡‡ç”¨éšç’ã€æ¬ºéª—ã€å‰¥å¤ºã€é”€æ¯ç­‰æ‰‹æ®µï¼ŒæåŠ›åœ°é¿å…è®©æ­¤æ¬¡äº‹ä»¶é€ æˆçš„å½±å“å…¬ä¹‹äºä¼—ï¼Œåè€Œæ˜¯é‡‡ç”¨æ„šæ˜§çš„æ”¿æ²»å®£ä¼ ã€åˆ©ç›Šè¯±æƒ‘çš„æ‰‹æ®µå»æ¬ºéª—å¹´è½»çš„å£«å…µã€çƒ­è¡€çš„æ°‘ä¼—ä»¥ç±»ä¼¼è‡ªæ€çš„æ–¹å¼å»æ¸…ç†æ ¸çˆ†ç‚¸ç°åœºï¼Œè€Œæ­£æ˜¯å¦‚æ­¤ï¼Œæ‰å¯¼è‡´æ°‘ä¼—åœ¨å…³é”®çš„å‰æœŸæ¥ä¸åŠæ’¤ç¦»ï¼Œå¯¼è‡´æ›´å¤šçš„æ°‘ä¼—æ— è¾œçš„æ¥æ”¶æ ¸è¾å°„çš„å±å®³ã€‚ è¿™ä¸ä»…ä»…æ˜¯ä¸€åœºç§‘å­¦çš„ç¾éš¾ï¼Œæ›´æ˜¯ä¸€åœºæ”¿æ²»çš„æˆ•å®³ï¼æ— æ•°çš„äººå› æ­¤ç»ˆèº«å¿å—ç€æ ¸è¾å°„çš„åé—ç—‡ï¼Œå¹´è½»äººæ— æ³•å¦è¯šçš„æ‹çˆ±ï¼Œå¹´è½»çš„å¥³å­æ— æ³•å®‰å¿ƒçš„ç”Ÿæˆï¼Œå„¿ç«¥å› ä¸ºå…ˆå¤©æ€§çš„ç–¾ç—…é¥±å—ç—…ç—›æŠ˜ç£¨ï¼Œå†ä¹Ÿæ²¡æœ‰ç«¥çœŸï¼Œé‚£äº›ä¸šå·²ç»å†äºŒæˆ˜æ‘§æ®‹çš„è€äººï¼Œå¦‚ä»Šåˆè¦å†æ¬¡é¢å¯¹æµç¦»æ‰€å¤±ã€ç—›å¤±å®¶äººçš„åŒé‡åˆ›ç—›ã€‚ â€œæˆ‘ä¸çŸ¥é“è¯¥è¯´ä»€ä¹ˆï¼Œå…³äºæ­»äº¡è¿˜æ˜¯çˆ±æƒ…ï¼Ÿä¹Ÿè®¸ä¸¤è€…éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘è¯¥è®²å“ªä¸€ç§ï¼Ÿâ€ ","date":"2017-10-17","objectID":"/archives/2017-10-17-sa%E9%98%BF%E5%88%97%E5%85%8B%E8%B0%A2%E8%80%B6%E7%BB%B4%E5%A5%87/:0:0","tags":["åˆ‡å°”è¯ºè´åˆ©","çˆ±","Reviews"],"title":"SÂ·AÂ·é˜¿åˆ—å…‹è°¢è€¶ç»´å¥‡","uri":"/archives/2017-10-17-sa%E9%98%BF%E5%88%97%E5%85%8B%E8%B0%A2%E8%80%B6%E7%BB%B4%E5%A5%87/"},{"categories":["Quant"],"content":"Ernest Chan åœ¨ä»Šå¹´æ–°å‡ºç‰ˆçš„æ–°ä¹¦ï¼Œã€Machine Tradingã€ã€‚ä¹¦ä¸­ä»‹ç»äº†æœ€æ–°çš„é‡åŒ–äº¤æ˜“/ç¨‹åºåŒ–äº¤æ˜“çš„æŠ€æœ¯ç»†èŠ‚ä¸å»ºæ¨¡æŠ€å·§ã€‚é€šè¯»åƒä¹¦ï¼Œå¯ä»¥å¢è¿›å¯¹é‡åŒ–äº¤æ˜“é¢†åŸŸçš„æœ€æ–°å‘å±•çš„è¿›ä¸€æ­¥ç†è§£ã€‚ç»“åˆç›®å‰æˆ‘æ­£åœ¨å¼€å‘çš„ CTP äº¤æ˜“ç³»ç»Ÿä»¥åŠä¸­å›½æœŸè´§æ•°æ®æ•°æ®åº“çš„æ•´ç†å·¥ä½œï¼Œæˆ‘å¯¹é‡åŒ–äº¤æ˜“æœ‰äº†æ›´æ·±åˆ»çš„è®¤è¯†ã€‚ Ernest Chan æ˜¯ä¸€ä½é‡åŒ–äº¤æ˜“å‘˜ï¼Œä¸»è¦äº¤æ˜“çš„å“ç§åŒ…æ‹¬è‚¡ç¥¨ã€æœŸè´§ã€å¤–æ±‡ç­‰ã€‚æ ¹æ®äº²èº«äº¤æ˜“çš„å®æˆ˜ç»éªŒï¼Œä»–å·²ç»ç¼–å†™äº†ä¸‰æœ¬é‡åŒ–é‡‘èç›¸å…³çš„ä¹¦ç± Quantitative Tradingï¼š2009å¹´å‡ºç‰ˆï¼Œä»‹ç»é‡åŒ–äº¤æ˜“çš„åŸºæœ¬æ¦‚å¿µä¸æŠ€æœ¯ï¼Œæ¯”è¾ƒåˆçº§ã€‚ Algorithmic Tradingï¼š2013å¹´å‡ºç‰ˆï¼Œä»‹ç»ç®—æ³•äº¤æ˜“çš„æœ‰å…³æŠ€æœ¯ä¸å»ºæ¨¡ Machine Tradingï¼š2017å¹´å‡ºç‰ˆï¼Œå³æˆ‘è¿™æ¬¡åˆ¶ä½œè¯»ä¹¦ç¬”è®°çš„ç‰ˆæœ¬ï¼Œä»‹ç»äº†ç¨‹åºåŒ–äº¤æ˜“çš„æŠ€æœ¯çŸ¥è¯†ä¸é‡‘èå»ºæ¨¡æŠ€å·§ ç¨‹åºåŒ–äº¤æ˜“ç³»ç»Ÿæ€»ä½“æ¶æ„ Chap.01: Algorithmic Trading ä¸€ä¸ªå®Œæ•´çš„é‡åŒ–äº¤æ˜“æ¡†æ¶ å…¨å±æŸ¥çœ‹ Chap.02: Factor Models","date":"2017-10-15","objectID":"/archives/2017-10-15-chan2017-machine-trading/:0:0","tags":["Quant","Trading","Books","Reviews"],"title":"chan2017: Machine Trading","uri":"/archives/2017-10-15-chan2017-machine-trading/"}]